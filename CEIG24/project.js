var e1=Object.defineProperty;var t1=(n,e,t)=>e in n?e1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var af=(n,e,t)=>(t1(n,typeof e!="symbol"?e+"":e,t),t);class Ll{constructor(){this.subscribable=new Nu(this),this.subscribers=new Set}subscribe(e){return this.subscribers.add(e),()=>this.unsubscribe(e)}unsubscribe(e){this.subscribers.delete(e)}clear(){this.subscribers.clear()}notifySubscribers(e){return[...this.subscribers].map(t=>t(e))}}class Nu{constructor(e){this.dispatcher=e}subscribe(e){return this.dispatcher.subscribe(e)}unsubscribe(e){this.dispatcher.unsubscribe(e)}}class Ti extends Ll{dispatch(e){this.notifySubscribers(e)}}class i1 extends Ll{constructor(){super(...arguments),this.value=!1}raise(){this.value||(this.value=!0,this.notifySubscribers())}reset(){this.value=!1}isRaised(){return this.value}subscribe(e){const t=super.subscribe(e);return this.value&&e(),t}}class $t extends Ll{get current(){return this.value}set current(e){this.value=e,this.notifySubscribers(e)}constructor(e){super(),this.value=e,this.subscribable=new s1(this)}subscribe(e,t=!0){const i=super.subscribe(e);return t&&e(this.value),i}}class s1 extends Nu{get current(){return this.dispatcher.current}subscribe(e,t=!0){return this.dispatcher.subscribe(e,t)}}class Gt{get onChanged(){return this.value.subscribable}get onDisabled(){return this.disabled.subscribable}constructor(e,t){this.name=e,this.initial=t,this.type=void 0,this.spacing=!1,this.description="",this.disabled=new $t(!1),this.value=new $t(t)}get(){return this.value.current}set(e){this.value.current=this.parse(e)}parse(e){return e}serialize(){return this.value.current}clone(){return new this.constructor(this.name,this.get())}disable(e=!0){return this.disabled.current=e,this}space(e=!0){return this.spacing=e,this}describe(e){return this.description=e,this}}class lf extends Gt{constructor(){super(...arguments),this.type=Boolean}parse(e){return!!e}}class Il extends Error{constructor(e,t){typeof e=="string"?(super(e),this.remarks=t):(super(e.message),this.remarks=e.remarks,this.object=e.object,this.durationMs=e.durationMs,this.inspect=e.inspect)}}class n1{constructor(){this.resolveCurrent=null,this.current=null}async acquire(){for(;this.current;)await this.current;this.current=new Promise(e=>{this.resolveCurrent=e})}release(){var e;this.current=null,(e=this.resolveCurrent)==null||e.call(this),this.resolveCurrent=null}}const qo=[];function ps(){const n=qo.at(-1);if(!n)throw new Error("The scene is not available in the current context.");return n}function r1(n){qo.push(n)}function o1(n){if(qo.pop()!==n)throw new Error("startScene/endScene were called out of order.")}function Fe(){var n;return((n=qo.at(-1))==null?void 0:n.logger)??console}const Bl=[];function Yi(){const n=Bl.at(-1);if(!n)throw new Il("The thread is not available in the current context.",`<p><code>useThread()</code> can only be called from within generator functions.
      It&#39;s not available during rendering.</p>
`);return n}function hf(n){Bl.push(n)}function cf(n){if(Bl.pop()!==n)throw new Error("startThread/endThread was called out of order.")}function*W(n){const{slides:e}=ps(),t=Yi();for(e.register(n,t.fixed),yield;e.shouldWait(n);)yield}function Fs(n){return n[0].toUpperCase()+n.slice(1)}function U(){let n;return t=>{if(t!==void 0)n=t;else return n}}function So(n,e){return t=>{n[e]=t}}function Tt(){const n=function(){};return n.array=[],new Proxy(n,a1)}const a1={apply(n,e,t){if(t.length===0)return n.array[0];n.array.push(...t)},get(n,e,t){const i=Reflect.get(n.array,e,t);return typeof i=="function"?i.bind(n.array):i},set(n,e,t,i){return Reflect.set(n.array,e,t,i)}};function gr(){const n=new Map;return n.entries(),new Proxy(n,l1)}const l1={get(n,e){if(Reflect.has(n,e))return Reflect.get(n,e);if(e==="mapRefs")return function(t){const i=[];for(const s of n.values())i.push(t(s(),i.length));return i};if(typeof e=="string"){let t=n.get(e);return t||(t=U(),n.set(e,t)),t}},has(n,e){return Reflect.has(n,e)?!0:typeof e=="string"?n.has(e):!1}};function Fu(n){return{message:n.message,stack:n.stack,remarks:n.remarks}}function Gu(n,e){return{level:ui.Error,message:n,remarks:(e??"")+`<p>This feature requires enabling the <code>experimentalFeatures</code> flag in your project
configuration:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">makeProject</span>({
  <span class="hljs-attr">experimentalFeatures</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-comment">// ...</span>
});</code></pre><p><a href='https://motioncanvas.io/docs/experimental' target='_blank'>Learn more</a> about experimental
features.</p>
`}}const h1=180/Math.PI,ls=Math.PI/180;function c1(n){if(!Hu()||n.startsWith("/cors-proxy/"))return n;const e=new URL(window.location.toString());try{const t=new URL(n,e);if(!t.protocol.startsWith("http")||e.host===t.host||!f1(t.host))return n}catch{return n}return`/cors-proxy/${encodeURIComponent(n)}`}function f1(n){const e=u1();if(e.length===0)return!0;for(const t of e)if(t.toLowerCase().trim()===n)return!0;return!1}function Hu(){return!1}let Dr;function u1(){return{}.VITEST!=="true"&&Dr?[...Dr]:(Dr=function(){if(!Hu()||!{VITE_MC_PROXY_ENABLED:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1})return[];const e={}.VITE_MC_PROXY_ALLOW_LIST??"[]",t=JSON.parse(e);Array.isArray(t)||Fe().error("Parsed Allow List expected to be an Array, but is "+typeof t);const i=[];for(const s of t){if(typeof s!="string"){Fe().warn("Unexpected Value in Allow List: "+s+". Expected a String. Skipping.");continue}i.push(s)}return i}(),[...Dr])}function ft(n,e,t){let i=0,s=n;e!==void 0&&(i=n,s=e),t=t===void 0?i<s?1:-1:t;const r=[];let o=Math.max(Math.ceil((s-i)/t),0),a=0;for(;o--;)r[a++]=i,i+=t;return r}function O1(n){const e=ps(),t=Yi();return e.timeEvents.register(n,t.time())}const Nl=[];function Fl(){const n=Nl.at(-1);if(!n)throw new Error("The playback is not available in the current context.");return n}function d1(n){Nl.push(n)}function p1(n){if(Nl.pop()!==n)throw new Error("startPlayback/endPlayback were called out of order.")}function oi(n,...e){const t={[n.name]:n},i=Object.getOwnPropertyDescriptor(t,n.name);if(i)for(let s=e.length-1;s>=0;s--)e[s](t,n.name,i)}const ff=Symbol.for("@motion-canvas/core/decorators/UNINITIALIZED");function En(n){return(e,t)=>{let i=ff;Object.defineProperty(e,t,{get(){return i===ff&&(i=n.call(this)),i}})}}function Ee(n){return function(e,t,i){i.value.prototype.name=n??t,i.value.prototype.threadable=!0}}oi(z,Ee());function*z(...n){for(const e of n)yield e;yield*Gl(...n)}oi(He,Ee());function*He(...n){for(const e of n)Mo(e)?yield*e:e()}oi(Qo,Ee());function*Qo(n,e){yield*Gi(O1(n)),e&&(yield*e)}oi(Gi,Ee());function*Gi(n=0,e){const t=Yi(),i=Fl().framesToSeconds(1),s=t.time()+n;for(;s-i>t.fixed;)yield;t.time(s),e&&(yield*e)}oi(lo,Ee());function*lo(n,e){yield*Gi(n),Mo(e)?yield*e:e()}oi(gs,Ee());function*gs(n,e){if(typeof n!="number"&&(e=n,n=1/0),n===1/0&&Yi().parent===null){Fe().error({message:"Tried to execute an infinite loop in the main thread.",remarks:`<p>Make sure to use <code>yield</code> or <code>spawn()</code> to execute the loop concurrently in a
separate thread:</p>
<pre class="wrong"><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">loop</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>));</code></pre><pre class="correct"><code class="language-ts"><span class="hljs-keyword">yield</span> <span class="hljs-title function_">loop</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>));
<span class="hljs-comment">// or</span>
<span class="hljs-title function_">spawn</span>(<span class="hljs-title function_">loop</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)));</code></pre><p>If you want to execute the loop a finite number of times, specify the iteration
count as the first argument:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">loop</span>(<span class="hljs-number">10</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>));
<span class="hljs-comment">//          ^ iteration count</span></code></pre>`,stack:new Error().stack});return}for(let t=0;t<n;t++){const i=e(t);i?yield*i:yield}}oi(Ku,Ee());function*Ku(){}function uf(n,e){let t;return typeof n=="string"?(t=e(),Xo(t,n)):(t=n(),Xo(t,t)),t}oi(Je,Ee());function*Je(n,...e){for(const t of e)yield t,yield*Gi(n);yield*Gl(...e)}function g1(n){return n&&(typeof n=="object"||typeof n=="function")&&"toPromise"in n}function Mo(n){return n!==null&&typeof n=="object"&&Symbol.iterator in n&&"next"in n}function Xo(n,e){const t=Object.getPrototypeOf(n);t.threadable||(t.threadable=!0,t.name=typeof e=="string"?e:Ju(e))}function Ju(n){return Object.getPrototypeOf(n).name??null}class Wa{get onDeferred(){return this.deferred.subscribable}get fixed(){return this.fixedTime}get canceled(){var e;return this.isCanceled||(((e=this.parent)==null?void 0:e.canceled)??!1)}get paused(){var e;return this.isPaused||(((e=this.parent)==null?void 0:e.paused)??!1)}get root(){var e;return((e=this.parent)==null?void 0:e.root)??this}constructor(e){this.runner=e,this.deferred=new Ti,this.children=[],this.time=Ze(0),this.parent=null,this.isCanceled=!1,this.isPaused=!1,this.fixedTime=0,this.queue=[],this.runner.task&&(Fe().error({message:`The generator "${Ju(this.runner)}" is already being executed by another thread.`,remarks:`<p>This usually happens when you mistakenly reuse a generator that is already
running.</p>
<p>For example, using <code>yield</code> here will run the opacity generator concurrently and
store it in the <code>task</code> variable (in case you want to cancel or await it later):</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">const</span> task = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</code></pre><p>Trying to <code>yield</code> this task again will cause the current error:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">yield</span> task;</code></pre><p>Passing it to other flow functions will also cause the error:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(task);</code></pre><p>Try to investigate your code looking for <code>yield</code> statements whose return value
is reused in this way. Here&#39;s an example of a common mistake:</p>
<pre class="wrong"><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(
  <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), 
  <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">x</span>(<span class="hljs-number">200</span>, <span class="hljs-number">1</span>),
);</code></pre><pre class="correct"><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(
  <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), 
  <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">x</span>(<span class="hljs-number">200</span>, <span class="hljs-number">1</span>),
);</code></pre>`}),this.runner=Ku()),this.runner.task=this}next(){if(this.paused)return{value:null,done:!1};hf(this);const e=this.runner.next(this.value);return cf(this),this.value=null,e}update(e){this.paused||(this.time(this.time()+e),this.fixedTime+=e),this.children=this.children.filter(t=>!t.canceled)}spawn(e){return Mo(e)||(e=e()),this.queue.push(e),e}add(e){e.parent=this,e.isCanceled=!1,e.time(this.time()),e.fixedTime=this.fixedTime,this.children.push(e),Xo(e.runner,`unknown ${this.children.length}`)}drain(e){this.queue.forEach(e),this.queue=[]}cancel(){this.deferred.clear(),this.runner.return(),this.isCanceled=!0,this.parent=null,this.drain(e=>e.return())}pause(e){this.isPaused=e}runDeferred(){hf(this),this.deferred.dispatch(),cf(this)}}function eO(...n){const e=Yi();for(const t of n){const i=e.children.find(s=>s.runner===t);i&&!i.canceled&&(i.cancel(),i.time(e.time()))}}oi(Gl,Ee());function*Gl(n,...e){let t=!0;typeof n=="boolean"?t=n:e.push(n);const i=Yi(),s=e.map(a=>i.children.find(l=>l.runner===a)).filter(a=>a),r=i.time();let o;if(t){for(;s.find(a=>!a.canceled);)yield;o=Math.max(...s.map(a=>a.time()))}else{for(;!s.find(l=>l.canceled);)yield;const a=s.filter(l=>l.canceled);o=Math.min(...a.map(l=>l.time()))}i.time(Math.max(r,o))}function ti(n){return Yi().root.spawn(n)}function m1(n){return typeof(n==null?void 0:n.then)=="function"}oi(tO,Ee());function*tO(n,e){const t=Fl(),i=n();Xo(i,"root");const s=new Wa(i);e==null||e(s);let r=[s];for(;r.length>0;){const o=[],a=[...r],l=t.deltaTime;for(;a.length>0;){const h=a.pop();if(!h||h.canceled)continue;const c=h.next();if(c.done){h.cancel();continue}if(Mo(c.value)){const u=new Wa(c.value);h.value=c.value,h.add(u),a.push(h),a.push(u)}else c.value?(h.value=yield c.value,a.push(h)):(h.update(l),h.drain(u=>{const d=new Wa(u);h.add(d),o.unshift(d)}),o.unshift(h))}r=[];for(const h of o)h.canceled||(r.push(h),h.runDeferred());r.length>0&&(yield)}}var Ri;(function(n){n[n.BeforeRender=0]="BeforeRender",n[n.BeginRender=1]="BeginRender",n[n.FinishRender=2]="FinishRender",n[n.AfterRender=3]="AfterRender"})(Ri||(Ri={}));class y1{get onBeforeRender(){return this.beforeRender.subscribable}get onBeginRender(){return this.beginRender.subscribable}get onFinishRender(){return this.finishRender.subscribable}get onAfterRender(){return this.afterRender.subscribable}constructor(e){this.scene=e,this.beforeRender=new Ti,this.beginRender=new Ti,this.finishRender=new Ti,this.afterRender=new Ti,this.scene.onRenderLifecycle.subscribe(([t,i])=>{switch(t){case Ri.BeforeRender:return this.beforeRender.dispatch(i);case Ri.BeginRender:return this.beginRender.dispatch(i);case Ri.FinishRender:return this.finishRender.dispatch(i);case Ri.AfterRender:return this.afterRender.dispatch(i)}}),this.scene.onReset.subscribe(()=>{this.beforeRender.clear(),this.beginRender.clear(),this.finishRender.clear(),this.afterRender.clear()})}}class Yn{constructor(e){this.state=e,this.nextGauss=null}static createSeed(){return Math.floor(Math.random()*4294967296)}nextFloat(e=0,t=1){return we(e,t,this.next())}nextInt(e=0,t=4294967296){let i=Math.floor(we(e,t,this.next()));return i===t&&(i=e),i}gauss(e=0,t=1){let i=this.nextGauss;if(this.nextGauss=null,i===null){const s=this.next()*2*Math.PI,r=Math.sqrt(-2*Math.log(1-this.next()));i=Math.cos(s)*r,this.nextGauss=Math.sin(s)*r}return e+i*t}floatArray(e,t=0,i=1){return ft(e).map(()=>this.nextFloat(t,i))}intArray(e,t=0,i=4294967296){return ft(e).map(()=>this.nextInt(t,i))}spawn(){return new Yn(this.nextInt())}next(){this.state|=0,this.state=this.state+1831565813|0;let e=Math.imul(this.state^this.state>>>15,1|this.state);return e=e+Math.imul(e^e>>>7,61|e)^e,((e^e>>>14)>>>0)/4294967296}}var vt;(function(n){n[n.Initial=0]="Initial",n[n.AfterTransitionIn=1]="AfterTransitionIn",n[n.CanTransitionOut=2]="CanTransitionOut",n[n.Finished=3]="Finished"})(vt||(vt={}));const v1="resolution",b1="destinationTexture",w1="sourceTexture",Of="time",x1="deltaTime",$1="framerate",S1="sourceMatrix",Q1="destinationMatrix",X1=`#version 300 es

in vec2 position;

out vec2 screenUV;
out vec2 sourceUV;
out vec2 destinationUV;

uniform mat4 sourceMatrix;
uniform mat4 destinationMatrix;

void main() {
    vec2 position_source = position * 0.5 + 0.5;
    vec4 position_screen = sourceMatrix * vec4(position_source, 0, 1);

    screenUV = position_screen.xy;
    sourceUV = position_source;
    destinationUV = (destinationMatrix * position_screen).xy;

    gl_Position = (position_screen - 0.5) * 2.0;
}
`;class P1{constructor(e,t){this.scene=e,this.sharedContext=t,this.gl=null,this.positionBuffer=null,this.sourceTexture=null,this.destinationTexture=null,this.positionLocation=0,this.quadPositions=new Float32Array([-1,1,-1,-1,1,1,1,-1]),this.handleReload=()=>{this.gl&&this.updateViewport()},e.onReloaded.subscribe(this.handleReload)}setup(e){this.gl=e,this.updateViewport(),this.positionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.bufferData(e.ARRAY_BUFFER,this.quadPositions,e.STATIC_DRAW),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.positionLocation),this.sourceTexture=e.createTexture(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.sourceTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.destinationTexture=e.createTexture(),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.destinationTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}teardown(e){e.deleteBuffer(this.positionBuffer),e.disableVertexAttribArray(this.positionLocation),e.deleteTexture(this.sourceTexture),e.deleteTexture(this.destinationTexture),this.positionBuffer=null,this.sourceTexture=null,this.destinationTexture=null,this.gl=null}updateViewport(){if(this.gl){const e=this.scene.getRealSize();this.gl.canvas.width=e.width,this.gl.canvas.height=e.height,this.gl.viewport(0,0,e.width,e.height)}}getGL(){return this.gl??this.sharedContext.borrow(this)}getProgram(e){const t=this.sharedContext.getProgram(e,X1);if(!t)return null;const i=this.scene.getRealSize(),s=this.getGL();return s.useProgram(t),s.uniform1i(s.getUniformLocation(t,w1),0),s.uniform1i(s.getUniformLocation(t,b1),1),s.uniform2f(s.getUniformLocation(t,v1),i.x,i.y),s.uniform1f(s.getUniformLocation(t,x1),this.scene.playback.deltaTime),s.uniform1f(s.getUniformLocation(t,$1),this.scene.playback.fps),t}copyTextures(e,t){this.copyTexture(t,this.sourceTexture),this.copyTexture(e,this.destinationTexture)}clear(){const e=this.getGL();e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)}render(){const e=this.getGL();e.drawArrays(e.TRIANGLE_STRIP,0,4)}copyTexture(e,t){const i=this.getGL();i.bindTexture(i.TEXTURE_2D,t),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e),i.generateMipmap(i.TEXTURE_2D)}}var ms;(function(n){n[n.Playing=0]="Playing",n[n.Rendering=1]="Rendering",n[n.Paused=2]="Paused",n[n.Presenting=3]="Presenting"})(ms||(ms={}));class k1{get onChanged(){return this.slides.subscribable}constructor(e){this.scene=e,this.slides=new $t([]),this.lookup=new Map,this.collisionLookup=new Set,this.current=null,this.canResume=!1,this.waitsForId=null,this.targetId=null,this.handleReload=()=>{this.lookup.clear(),this.collisionLookup.clear(),this.current=null,this.waitsForId=null,this.targetId=null},this.handleReset=()=>{this.collisionLookup.clear(),this.current=null,this.waitsForId=null},this.handleRecalculated=()=>{this.slides.current=[...this.lookup.values()]},this.scene.onReloaded.subscribe(this.handleReload),this.scene.onReset.subscribe(this.handleReset),this.scene.onRecalculated.subscribe(this.handleRecalculated)}setTarget(e){this.targetId=e}resume(){this.canResume=!0}isWaitingFor(e){return this.waitsForId===e}isWaiting(){return this.waitsForId!==null}didHappen(e){var t;if(this.current===null)return!1;for(const i of this.lookup.keys()){if(i===e)return!0;if(i===((t=this.current)==null?void 0:t.id))return!1}return!1}getCurrent(){return this.current}register(e,t){if(this.waitsForId!==null)throw new Error(`The animation already waits for a slide: ${this.waitsForId}.`);const i=this.toId(e);this.scene.playback.state!==ms.Presenting&&(this.lookup.has(i)||this.lookup.set(i,{id:i,name:e,time:t,scene:this.scene,stack:new Error().stack}),this.collisionLookup.has(e)?this.scene.logger.warn({message:`A slide named "${e}" already exists.`,stack:new Error().stack}):this.collisionLookup.add(e)),this.waitsForId=i,this.current=this.lookup.get(i)??null,this.canResume=!1}shouldWait(e){const t=this.toId(e);if(this.waitsForId!==t)throw new Error(`The animation waits for a different slide: ${this.waitsForId}.`);if(!this.lookup.get(t))throw new Error(`Could not find the "${e}" slide.`);let s=this.canResume;return this.scene.playback.state!==ms.Presenting&&(s=t!==this.targetId),s&&(this.waitsForId=null),!s}toId(e){return`${this.scene.name}:${e}`}}class T1{constructor(e){this.scene=e,this.signals={},this.variables={},this.handleReset=()=>{this.signals={}},e.onReset.subscribe(this.handleReset)}get(e,t){var i;return(i=this.signals)[e]??(i[e]=Ze(this.variables[e]??t)),()=>this.signals[e]()}updateSignals(e){this.variables=e,Object.keys(e).map(t=>{t in this.signals&&this.signals[t](e[t])})}}class R1{get firstFrame(){return this.cache.current.firstFrame}get lastFrame(){return this.firstFrame+this.cache.current.duration}get onCacheChanged(){return this.cache.subscribable}get onReloaded(){return this.reloaded.subscribable}get onRecalculated(){return this.recalculated.subscribable}get onThreadChanged(){return this.thread.subscribable}get onRenderLifecycle(){return this.renderLifecycle.subscribable}get onReset(){return this.afterReset.subscribable}get LifecycleEvents(){return this.logger.warn("LifecycleEvents is deprecated. Use lifecycleEvents instead."),this.lifecycleEvents}get previous(){return this.previousScene}constructor(e){this.cache=new $t({firstFrame:0,transitionDuration:0,duration:0,lastFrame:0}),this.reloaded=new Ti,this.recalculated=new Ti,this.thread=new $t(null),this.renderLifecycle=new Ti,this.afterReset=new Ti,this.lifecycleEvents=new y1(this),this.previousScene=null,this.runner=null,this.state=vt.Initial,this.cached=!1,this.counters={},this.name=e.name,this.size=e.size,this.resolutionScale=e.resolutionScale,this.logger=e.logger,this.playback=e.playback,this.meta=e.meta,this.runnerFactory=e.config,this.creationStack=e.stack,this.experimentalFeatures=e.experimentalFeatures??!1,oi(this.runnerFactory,Ee(this.name)),this.timeEvents=new e.timeEventsClass(this),this.variables=new T1(this),this.shaders=new P1(this,e.sharedWebGLContext),this.slides=new k1(this),this.random=new Yn(this.meta.seed.get()),this.previousOnTop=!1}update(){}async render(e){let t=0;do t++,await Ve.consumePromises(),e.save(),e.clearRect(0,0,e.canvas.width,e.canvas.height),this.execute(()=>this.draw(e)),e.restore();while(Ve.hasPromises()&&t<10);t>1&&this.logger.debug(`render iterations: ${t}`)}reload({config:e,size:t,stack:i,resolutionScale:s}={}){e&&(this.runnerFactory=e),t&&(this.size=t),s&&(this.resolutionScale=s),i&&(this.creationStack=i),this.cached=!1,this.reloaded.dispatch()}async recalculate(e){const t=this.cache.current;if(t.firstFrame=this.playback.frame,t.lastFrame=t.firstFrame+t.duration,this.isCached()){e(t.lastFrame),this.cache.current={...t};return}for(t.transitionDuration=-1,await this.reset();!this.canTransitionOut();)t.transitionDuration<0&&this.state===vt.AfterTransitionIn&&(t.transitionDuration=this.playback.frame-t.firstFrame),e(this.playback.frame+1),await this.next();t.transitionDuration===-1&&(t.transitionDuration=0),t.lastFrame=this.playback.frame,t.duration=t.lastFrame-t.firstFrame,await new Promise(i=>setTimeout(i,0)),this.cached=!0,this.cache.current={...t},this.recalculated.dispatch()}async next(){var t;if(!this.runner)return;let e=this.execute(()=>this.runner.next());for(this.update();e.value;){if(g1(e.value)){const i=await e.value.toPromise();e=this.execute(()=>this.runner.next(i))}else if(m1(e.value)){const i=await e.value;e=this.execute(()=>this.runner.next(i))}else this.logger.warn({message:"Invalid value yielded by the scene.",object:e.value}),e=this.execute(()=>this.runner.next(e.value));this.update()}if(Ve.hasPromises()){const i=await Ve.consumePromises();this.logger.error({message:"Tried to access an asynchronous property before the node was ready. Make sure to yield the node before accessing the property.",stack:i[0].stack,inspect:((t=i[0].owner)==null?void 0:t.key)??void 0})}e.done&&(this.state=vt.Finished)}async reset(e=null){this.counters={},this.previousScene=e,this.previousOnTop=!1,this.random=new Yn(this.meta.seed.get()),this.runner=tO(()=>this.runnerFactory(this.getView()),t=>{this.thread.current=t}),this.state=vt.AfterTransitionIn,this.afterReset.dispatch(),await this.next()}getSize(){return this.size}getRealSize(){return this.size.mul(this.resolutionScale)}isAfterTransitionIn(){return this.state===vt.AfterTransitionIn}canTransitionOut(){return this.state===vt.CanTransitionOut||this.state===vt.Finished}isFinished(){return this.state===vt.Finished}enterInitial(){this.state===vt.AfterTransitionIn?this.state=vt.Initial:this.logger.warn(`Scene ${this.name} entered initial in an unexpected state: ${this.state}`)}enterAfterTransitionIn(){this.state===vt.Initial?this.state=vt.AfterTransitionIn:this.logger.warn(`Scene ${this.name} transitioned in an unexpected state: ${this.state}`)}enterCanTransitionOut(){this.state===vt.AfterTransitionIn||this.state===vt.Initial?this.state=vt.CanTransitionOut:this.logger.warn(`Scene ${this.name} was marked as finished in an unexpected state: ${this.state}`)}isCached(){return this.cached}execute(e){let t;r1(this),d1(this.playback);try{t=e()}finally{p1(this.playback),o1(this)}return t}}function U1(){return new ds("scene",{version:new Gt("version",1),timeEvents:new Gt("time events",[]),seed:new Gt("seed",Yn.createSeed())})}function Er(n,e=!0){return typeof n=="number"?new Yn(e?n:n+ps().meta.seed.get()):ps().random}function iO(n,e,t){if(e.length>=n.length){const i=Math.floor(e.length*t),s=Math.floor(we(n.length-1,e.length,t));let r="";for(let o=0;o<e.length;o++)o<i?r+=e[o]:(n[o]||o<=s)&&(r+=n[o]??e[o]);return r}else{const i=Math.round(n.length*(1-t)),s=Math.floor(we(n.length+1,e.length,t)),r=[];for(let o=n.length-1;o>=0;o--)o<i?r.unshift(n[o]):(e[o]||o<s)&&r.unshift(e[o]??n[o]);return r.join("")}}function sn(n,e,t,i=!1){if(t===0)return n;if(t===1)return e;if(n==null||e==null){i||Fe().warn(`Attempting to lerp ${n} -> ${e} may result in unexpected behavior.`);return}if(typeof n=="number"&&typeof e=="number")return we(n,e,t);if(typeof n=="string"&&typeof e=="string")return iO(n,e,t);if(typeof n=="boolean"&&typeof e=="boolean")return t<.5?n:e;if("lerp"in n)return n.lerp(e,t);if(n&&e&&typeof n=="object"&&typeof e=="object")if(Array.isArray(n)&&Array.isArray(e)){if(n.length===e.length)return n.map((s,r)=>sn(s,e[r],t))}else{let s=!1;if(!(n instanceof Map)&&!(e instanceof Map)&&(s=!0,n=new Map(Object.entries(n)),e=new Map(Object.entries(e))),n instanceof Map&&e instanceof Map){const r=new Map;for(const o of new Set([...n.keys(),...e.keys()])){const a=sn(n.get(o),e.get(o),t,!0);a!==void 0&&r.set(o,a)}return s?Object.fromEntries(r):r}}return e}function W1(n,e,t){return t<.5?n:e}function we(n,e,t){return n+(e-n)*t}function sO(n,e,t,i,s){return t+(s-n)*(i-t)/(e-n)}function ot(n,e,t){return t<n?n:t>e?e:t}function Y1(n,e,t,i,s){const r=sO(n,e,t,i,s);return t>i&&([t,i]=[i,t]),ot(t,i,r)}function nO(n,e,t){let i=e;t>1?t=1/t:i=!i;const s=i?Math.acos(ot(-1,1,1-n)):Math.asin(n),r=we(s,we(0,Math.PI/2,n),t);let o=Math.sin(r),a=1-Math.cos(r);return e&&([o,a]=[a,o]),new b(o,a)}function Bt(n,e=0,t=1){return n=n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,we(e,t,n)}function z1(n,e=0,t=1){return n=n===1?1:1-Math.pow(2,-10*n),we(e,t,n)}function Ja(n,e=0,t=1){return we(e,t,n)}oi(Ut,Ee());function*Ut(n,e,t){const i=Yi(),s=i.time(),r=i.time()+n;for(e(0,0);r>i.fixed;){const o=i.fixed-s,a=o/n;o>0&&e(a,o),yield}i.time(r),e(1,n),t==null||t(1,n)}class Ve{static collectPromise(e,t=null){const i={promise:e,value:t,stack:new Error().stack},s=this.collectionStack.at(-1);return s&&(i.owner=s.owner),e.then(r=>{i.value=r,s==null||s.markDirty()}),this.promises.push(i),i}static hasPromises(){return this.promises.length>0}static async consumePromises(){const e=[...this.promises];return await Promise.all(e.map(t=>t.promise)),this.promises=this.promises.filter(t=>!e.includes(t)),e}constructor(e){this.owner=e,this.dependencies=new Set,this.event=new i1,this.markDirty=()=>this.event.raise(),this.invokable=this.invoke.bind(this),Object.defineProperty(this.invokable,"context",{value:this}),Object.defineProperty(this.invokable,"toPromise",{value:this.toPromise.bind(this)})}invoke(){}startCollecting(){if(Ve.collectionSet.has(this))throw new Il("A circular dependency occurred between signals.",`This can happen when signals reference each other in a loop.
        Try using the attached stack trace to locate said loop.`);Ve.collectionSet.add(this),Ve.collectionStack.push(this)}finishCollecting(){if(Ve.collectionSet.delete(this),Ve.collectionStack.pop()!==this)throw new Error("collectStart/collectEnd was called out of order.")}clearDependencies(){this.dependencies.forEach(e=>e.unsubscribe(this.markDirty)),this.dependencies.clear()}collect(){const e=Ve.collectionStack.at(-1);e&&(e.dependencies.add(this.event.subscribable),this.event.subscribe(e.markDirty))}dispose(){this.clearDependencies(),this.event.clear(),this.owner=null}async toPromise(){do await Ve.consumePromises(),this.invokable();while(Ve.hasPromises());return this.invokable}}Ve.collectionSet=new Set;Ve.collectionStack=[];Ve.promises=[];const Os=Symbol.for("@motion-canvas/core/signals/default");function pi(n){return typeof n=="function"}function Gs(n,e){return pi(n)?()=>e(n()):e(n)}function it(n){return pi(n)?n():n}class ys extends Ve{constructor(e,t,i=void 0,s=o=>o,r={}){super(i),this.initial=e,this.interpolation=t,this.parser=s,this.tweening=!1,Object.defineProperty(this.invokable,"reset",{value:this.reset.bind(this)}),Object.defineProperty(this.invokable,"save",{value:this.save.bind(this)}),Object.defineProperty(this.invokable,"isInitial",{value:this.isInitial.bind(this)}),this.initial!==void 0&&(this.current=this.initial,this.markDirty(),pi(this.initial)||(this.last=this.parse(this.initial))),this.extensions={getter:this.getter.bind(this),setter:this.setter.bind(this),tweener:this.tweener.bind(this),...r}}toSignal(){return this.invokable}parse(e){return this.parser(e)}set(e){return this.extensions.setter(e),this.owner}setter(e){return e===Os&&(e=this.initial),this.current===e?this.owner:(this.current=e,this.clearDependencies(),pi(e)||(this.last=this.parse(e)),this.markDirty(),this.owner)}get(){return this.extensions.getter()}getter(){var e;if(this.event.isRaised()&&pi(this.current)){this.clearDependencies(),this.startCollecting();try{this.last=this.parse(this.current())}catch(t){Fe().error({...Fu(t),inspect:(e=this.owner)==null?void 0:e.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}invoke(e,t,i=Bt,s=this.interpolation){return e===void 0?this.get():t===void 0?this.set(e):this.createQueue(i,s).to(e,t)}createQueue(e,t){const i=this.get(),s=[],r=uf("animation chain",function*(){for(;s.length>0;)yield*s.shift()});return r.to=(o,a,l=e,h=t)=>(e=l,t=h,s.push(this.tween(o,a,l,h)),r),r.back=(o,a=e,l=t)=>(e=a,t=l,s.push(this.tween(i,o,e,t)),r),r.wait=o=>(s.push(Gi(o)),r),r.run=o=>(s.push(o),r),r.do=o=>(s.push(uf(function*(){o()})),r),r}*tween(e,t,i,s){e===Os&&(e=this.initial),this.tweening=!0,yield*this.extensions.tweener(e,t,i,s),this.set(e),this.tweening=!1}*tweener(e,t,i,s){const r=this.get();yield*Ut(t,o=>{this.set(s(r,this.parse(it(e)),i(o)))})}dispose(){super.dispose(),this.initial=void 0,this.current=void 0,this.last=void 0}reset(){return this.initial!==void 0&&this.set(this.initial),this.owner}save(){return this.set(this.get())}isInitial(){return this.collect(),this.current===this.initial}getInitial(){return this.initial}raw(){return this.current}isTweening(){return this.tweening}}class Do extends ys{constructor(e,t,i,s,r=void 0,o={}){var a;super(void 0,s,r,t,o),this.entries=e,this.signals=[],this.parser=t;for(const l of e){let h,c;Array.isArray(l)?([h,c]=l,(a=c.context).owner??(a.owner=this)):(h=l,c=new ys(Gs(i,u=>t(u)[l]),we,r??this.invokable).toSignal()),this.signals.push([h,c]),Object.defineProperty(this.invokable,h,{value:c})}}toSignal(){return this.invokable}parse(e){return this.parser(e)}getter(){return this.parse(Object.fromEntries(this.signals.map(([e,t])=>[e,t()])))}setter(e){if(pi(e))for(const[t,i]of this.signals)i(()=>this.parser(e())[t]);else{const t=this.parse(e);for(const[i,s]of this.signals)s(t[i])}return this.owner}reset(){for(const[,e]of this.signals)e.reset();return this.owner}save(){for(const[,e]of this.signals)e.save();return this.owner}isInitial(){for(const[,e]of this.signals)if(!e.isInitial())return!1;return!0}raw(){return Object.fromEntries(this.signals.map(([e,t])=>[e,t.context.raw()]))}}class C1 extends Ve{constructor(e,t){super(t),this.factory=e,this.markDirty()}toSignal(){return this.invokable}dispose(){super.dispose(),this.last=void 0}invoke(...e){var t;if(this.event.isRaised()){this.clearDependencies(),this.startCollecting();try{this.last=this.factory(...e)}catch(i){Fe().error({...Fu(i),inspect:(t=this.owner)==null?void 0:t.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}}class A1 extends Ve{constructor(e){super(),this.callback=e,this.update=()=>{this.clearDependencies(),this.startCollecting(),this.callback(),this.finishCollecting(),this.event.reset()},this.event.subscribe(this.update),this.markDirty()}}class rO extends Do{constructor(e,t,i,s,r=void 0,o={}){super(e,t,i,s,r,o),Object.defineProperty(this.invokable,"edit",{value:this.edit.bind(this)}),Object.defineProperty(this.invokable,"mul",{value:this.mul.bind(this)}),Object.defineProperty(this.invokable,"div",{value:this.div.bind(this)}),Object.defineProperty(this.invokable,"add",{value:this.add.bind(this)}),Object.defineProperty(this.invokable,"sub",{value:this.sub.bind(this)}),Object.defineProperty(this.invokable,"dot",{value:this.dot.bind(this)}),Object.defineProperty(this.invokable,"cross",{value:this.cross.bind(this)}),Object.defineProperty(this.invokable,"mod",{value:this.mod.bind(this)})}toSignal(){return this.invokable}edit(e,t,i,s){const r=e(this.get());return this.invoke(r,t,i,s)}mul(e,t,i,s){const r=o=>o.mul(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}div(e,t,i,s){const r=o=>o.div(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}add(e,t,i,s){const r=o=>o.add(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}sub(e,t,i,s){const r=o=>o.sub(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}dot(e,t,i,s){const r=o=>o.dot(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}cross(e,t,i,s){const r=o=>o.cross(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}mod(e,t,i,s){const r=o=>o.mod(e);return t===void 0?this.edit(r):this.edit(r,t,i,s)}}function j1(n,e){return new C1(n,e).toSignal()}function V1(n){const e=new A1(n);return()=>e.dispose()}function Ze(n,e=sn,t){return new ys(n,e,t).toSignal()}class ei{static createSignal(e,t=ei.lerp){return new Do(["top","right","bottom","left"],i=>new ei(i),e,t).toSignal()}static lerp(e,t,i){return new ei(we(e.top,t.top,i),we(e.right,t.right,i),we(e.bottom,t.bottom,i),we(e.left,t.left,i))}get x(){return this.left+this.right}get y(){return this.top+this.bottom}constructor(e=0,t,i,s){if(this.top=0,this.right=0,this.bottom=0,this.left=0,e!=null){if(Array.isArray(e)&&(s=e[3],i=e[2],t=e[1],e=e[0]),typeof e=="number"){this.top=e,this.right=t!==void 0?t:e,this.bottom=i!==void 0?i:e,this.left=s!==void 0?s:t!==void 0?t:e;return}this.top=e.top,this.right=e.right,this.bottom=e.bottom,this.left=e.left}}lerp(e,t){return ei.lerp(this,e,t)}scale(e){return new ei(this.top*e,this.right*e,this.bottom*e,this.left*e)}addScalar(e){return new ei(this.top+e,this.right+e,this.bottom+e,this.left+e)}toSymbol(){return ei.symbol}toString(){return`Spacing(${this.top}, ${this.right}, ${this.bottom}, ${this.left})`}toUniform(e,t){e.uniform4f(t,this.top,this.right,this.bottom,this.left)}serialize(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}}}ei.symbol=Symbol.for("@motion-canvas/core/types/Spacing");const hr=1e-6;class Ge{static fromRotation(e){return Ge.identity.rotate(e)}static fromTranslation(e){return Ge.identity.translate(new b(e))}static fromScaling(e){return Ge.identity.scale(new b(e))}get x(){return new b(this.values[0],this.values[1])}get y(){return new b(this.values[2],this.values[3])}get scaleX(){return this.values[0]}set scaleX(e){this.values[0]=this.x.normalized.scale(e).x}get skewX(){return this.values[1]}set skewX(e){this.values[1]=e}get scaleY(){return this.values[3]}set scaleY(e){this.values[3]=this.y.normalized.scale(e).y}get skewY(){return this.values[2]}set skewY(e){this.values[2]=e}get translateX(){return this.values[4]}set translateX(e){this.values[4]=e}get translateY(){return this.values[5]}set translateY(e){this.values[5]=e}get rotation(){return b.degrees(this.values[0],this.values[1])}set rotation(e){const t=this.rotate(e-this.rotation);this.values[0]=t.values[0],this.values[1]=t.values[1],this.values[2]=t.values[2],this.values[3]=t.values[3]}get translation(){return new b(this.values[4],this.values[5])}set translation(e){const t=new b(e);this.values[4]=t.x,this.values[5]=t.y}get scaling(){return new b(this.values[0],this.values[3])}set scaling(e){const t=new b(e),i=new b(this.values[0],this.values[1]).normalized,s=new b(this.values[2],this.values[3]).normalized;this.values[0]=i.x*t.x,this.values[1]=i.y*t.y,this.values[2]=s.x*t.x,this.values[3]=s.y*t.y}get inverse(){const e=this.values[0],t=this.values[1],i=this.values[2],s=this.values[3],r=this.values[4],o=this.values[5];let a=e*s-t*i;return a?(a=1/a,new Ge(s*a,-t*a,-i*a,e*a,(i*o-s*r)*a,(t*r-e*o)*a)):null}get determinant(){return this.values[0]*this.values[3]-this.values[1]*this.values[2]}get domMatrix(){return new DOMMatrix([this.values[0],this.values[1],this.values[2],this.values[3],this.values[4],this.values[5]])}constructor(e,t,i,s,r,o){if(this.values=new Float32Array(6),arguments.length===0){this.values=new Float32Array([1,0,0,1,0,0]);return}if(arguments.length===6){this.values[0]=e,this.values[1]=t,this.values[2]=i,this.values[3]=s,this.values[4]=r,this.values[5]=o;return}if(e instanceof DOMMatrix){this.values[0]=e.m11,this.values[1]=e.m12,this.values[2]=e.m21,this.values[3]=e.m22,this.values[4]=e.m41,this.values[5]=e.m42;return}if(e instanceof Ge){this.values=e.values;return}if(Array.isArray(e)){if(e.length===2){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=t[0],this.values[3]=t[1],this.values[4]=i[0],this.values[5]=i[1];return}if(e.length===3){const c=new b(e[0]),u=new b(e[1]),d=new b(e[2]);this.values[0]=c.x,this.values[1]=c.y,this.values[2]=u.x,this.values[3]=u.y,this.values[4]=d.x,this.values[5]=d.y;return}this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3],this.values[4]=e[4],this.values[5]=e[5];return}const a=new b(e),l=new b(t),h=new b(i);this.values[0]=a.x,this.values[1]=a.y,this.values[2]=l.x,this.values[3]=l.y,this.values[4]=h.x,this.values[5]=h.y}column(e){return new b(this.values[e*2],this.values[e*2+1])}row(e){return[this.values[e],this.values[e+2],this.values[e+4]]}mul(e){const t=this.values[0],i=this.values[1],s=this.values[2],r=this.values[3],o=this.values[4],a=this.values[5],l=e.values[0],h=e.values[1],c=e.values[2],u=e.values[3],d=e.values[4],g=e.values[5];return new Ge(t*l+s*h,i*l+r*h,t*c+s*u,i*c+r*u,t*d+s*g+o,i*d+r*g+a)}rotate(e,t=!0){t&&(e*=ls);const i=this.values[0],s=this.values[1],r=this.values[2],o=this.values[3],a=this.values[4],l=this.values[5],h=Math.sin(e),c=Math.cos(e);return new Ge(i*c+r*h,s*c+o*h,i*-h+r*c,s*-h+o*c,a,l)}scale(e){const t=new b(e);return new Ge(this.values[0]*t.x,this.values[1]*t.x,this.values[2]*t.y,this.values[3]*t.y,this.values[4],this.values[5])}mulScalar(e){return new Ge(this.values[0]*e,this.values[1]*e,this.values[2]*e,this.values[3]*e,this.values[4]*e,this.values[5]*e)}translate(e){const t=new b(e);return new Ge(this.values[0],this.values[1],this.values[2],this.values[3],this.values[0]*t.x+this.values[2]*t.y+this.values[4],this.values[1]*t.x+this.values[3]*t.y+this.values[5])}add(e){return new Ge(this.values[0]+e.values[0],this.values[1]+e.values[1],this.values[2]+e.values[2],this.values[3]+e.values[3],this.values[4]+e.values[4],this.values[5]+e.values[5])}sub(e){return new Ge(this.values[0]-e.values[0],this.values[1]-e.values[1],this.values[2]-e.values[2],this.values[3]-e.values[3],this.values[4]-e.values[4],this.values[5]-e.values[5])}toSymbol(){return Ge.symbol}toUniform(e,t){e.uniformMatrix3fv(t,!1,[this.values[0],this.values[1],0,this.values[2],this.values[3],0,this.values[4],this.values[5],1])}equals(e,t=hr){return Math.abs(this.values[0]-e.values[0])<=t+Number.EPSILON&&Math.abs(this.values[1]-e.values[1])<=t+Number.EPSILON&&Math.abs(this.values[2]-e.values[2])<=t+Number.EPSILON&&Math.abs(this.values[3]-e.values[3])<=t+Number.EPSILON&&Math.abs(this.values[4]-e.values[4])<=t+Number.EPSILON&&Math.abs(this.values[5]-e.values[5])<=t+Number.EPSILON}exactlyEquals(e){return this.values[0]===e.values[0]&&this.values[1]===e.values[1]&&this.values[2]===e.values[2]&&this.values[3]===e.values[3]&&this.values[4]===e.values[4]&&this.values[5]===e.values[5]}}Ge.symbol=Symbol.for("@motion-canvas/core/types/Matrix2D");Ge.identity=new Ge(1,0,0,1,0,0);Ge.zero=new Ge(0,0,0,0,0,0);var df;(function(n){n[n.Vertical=1]="Vertical",n[n.Horizontal=2]="Horizontal"})(df||(df={}));var Vt;(function(n){n[n.Top=4]="Top",n[n.Bottom=8]="Bottom",n[n.Left=16]="Left",n[n.Right=32]="Right"})(Vt||(Vt={}));var Ke;(function(n){n[n.Middle=3]="Middle",n[n.Top=5]="Top",n[n.Bottom=9]="Bottom",n[n.Left=18]="Left",n[n.Right=34]="Right",n[n.TopLeft=20]="TopLeft",n[n.TopRight=36]="TopRight",n[n.BottomLeft=24]="BottomLeft",n[n.BottomRight=40]="BottomRight"})(Ke||(Ke={}));function Z1(n){if(n===Ke.Middle)return b.zero;let e=0;n&Vt.Left?e=-1:n&Vt.Right&&(e=1);let t=0;return n&Vt.Top?t=-1:n&Vt.Bottom&&(t=1),new b(e,t)}class b{static createSignal(e,t=b.lerp,i){return new rO(["x","y"],s=>new b(s),e,t,i).toSignal()}static lerp(e,t,i){let s,r;return typeof i=="number"?s=r=i:(s=i.x,r=i.y),new b(we(e.x,t.x,s),we(e.y,t.y,r))}static arcLerp(e,t,i,s=!1,r){return r??(r=e.sub(t).ctg),b.lerp(e,t,nO(i,s,r))}static createArcLerp(e,t){return(i,s,r)=>b.arcLerp(i,s,r,e,t)}static polarLerp(e,t,i,s=!1,r=b.zero){e=e.sub(r),t=t.sub(r);const o=e.degrees;let a=t.degrees;o>a!==s&&(a=a+(s?-360:360));const h=we(o,a,i)*ls,c=we(e.magnitude,t.magnitude,i);return new b(c*Math.cos(h)+r.x,c*Math.sin(h)+r.y)}static createPolarLerp(e=!1,t=b.zero){return(i,s,r)=>b.polarLerp(i,s,r,e,new b(t))}static fromOrigin(e){const t=new b;return e===Ke.Middle||(e&Vt.Left?t.x=-1:e&Vt.Right&&(t.x=1),e&Vt.Top?t.y=-1:e&Vt.Bottom&&(t.y=1)),t}static fromScalar(e){return new b(e,e)}static fromRadians(e){return new b(Math.cos(e),Math.sin(e))}static fromDegrees(e){return b.fromRadians(e*ls)}static radians(e,t){return Math.atan2(t,e)}static degrees(e,t){return b.radians(e,t)*h1}static magnitude(e,t){return Math.sqrt(e*e+t*t)}static squaredMagnitude(e,t){return e*e+t*t}static angleBetween(e,t){return Math.acos(ot(-1,1,e.dot(t)/(e.magnitude*t.magnitude)))*(e.cross(t)>=0?1:-1)}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}get magnitude(){return b.magnitude(this.x,this.y)}get squaredMagnitude(){return b.squaredMagnitude(this.x,this.y)}get normalized(){return this.scale(1/b.magnitude(this.x,this.y))}get safe(){return new b(isNaN(this.x)?0:this.x,isNaN(this.y)?0:this.y)}get flipped(){return new b(-this.x,-this.y)}get floored(){return new b(Math.floor(this.x),Math.floor(this.y))}get rounded(){return new b(Math.round(this.x),Math.round(this.y))}get ceiled(){return new b(Math.ceil(this.x),Math.ceil(this.y))}get perpendicular(){return new b(this.y,-this.x)}get radians(){return b.radians(this.x,this.y)}get degrees(){return b.degrees(this.x,this.y)}get ctg(){return this.x/this.y}constructor(e,t){if(this.x=0,this.y=0,e!=null){if(typeof e!="object"){this.x=e,this.y=t??e;return}if(Array.isArray(e)){this.x=e[0],this.y=e[1];return}if("width"in e){this.x=e.width,this.y=e.height;return}this.x=e.x,this.y=e.y}}lerp(e,t){return b.lerp(this,e,t)}getOriginOffset(e){const t=b.fromOrigin(e);return t.x*=this.x/2,t.y*=this.y/2,t}scale(e){return new b(this.x*e,this.y*e)}transformAsPoint(e){const t=new Ge(e);return new b(this.x*t.scaleX+this.y*t.skewY+t.translateX,this.x*t.skewX+this.y*t.scaleY+t.translateY)}transform(e){const t=new Ge(e);return new b(this.x*t.scaleX+this.y*t.skewY,this.x*t.skewX+this.y*t.scaleY)}mul(e){const t=new b(e);return new b(this.x*t.x,this.y*t.y)}div(e){const t=new b(e);return new b(this.x/t.x,this.y/t.y)}add(e){const t=new b(e);return new b(this.x+t.x,this.y+t.y)}sub(e){const t=new b(e);return new b(this.x-t.x,this.y-t.y)}dot(e){const t=new b(e);return this.x*t.x+this.y*t.y}cross(e){const t=new b(e);return this.x*t.y-this.y*t.x}mod(e){const t=new b(e);return new b(this.x%t.x,this.y%t.y)}rotate(e,t=b.zero){const i=new b(t),s=Ge.fromTranslation(i).rotate(e).translate(i.flipped);return this.transformAsPoint(s)}addX(e){return new b(this.x+e,this.y)}addY(e){return new b(this.x,this.y+e)}map(e){return new b(e(this.x,0),e(this.y,1))}toSymbol(){return b.symbol}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}toUniform(e,t){e.uniform2f(t,this.x,this.y)}serialize(){return{x:this.x,y:this.y}}exactlyEquals(e){return this.x===e.x&&this.y===e.y}equals(e,t=hr){return Math.abs(this.x-e.x)<=t+Number.EPSILON&&Math.abs(this.y-e.y)<=t+Number.EPSILON}*[Symbol.iterator](){yield this.x,yield this.y}}b.symbol=Symbol.for("@motion-canvas/core/types/Vector2");b.zero=new b;b.one=new b(1,1);b.right=new b(1,0);b.left=new b(-1,0);b.up=new b(0,1);b.down=new b(0,-1);b.top=new b(0,-1);b.bottom=new b(0,1);b.topLeft=new b(-1,-1);b.topRight=new b(1,-1);b.bottomLeft=new b(-1,1);b.bottomRight=new b(1,1);class Oe{static createSignal(e,t=Oe.lerp){return new Do(["x","y","width","height"],i=>new Oe(i),e,t).toSignal()}static lerp(e,t,i){let s,r,o,a;return typeof i=="number"?s=r=o=a=i:i instanceof b?(s=o=i.x,r=a=i.y):(s=i.x,r=i.y,o=i.width,a=i.height),new Oe(we(e.x,t.x,s),we(e.y,t.y,r),we(e.width,t.width,o),we(e.height,t.height,a))}static arcLerp(e,t,i,s=!1,r){return r??(r=(e.position.sub(t.position).ctg+e.size.sub(t.size).ctg)/2),Oe.lerp(e,t,nO(i,s,r))}static fromSizeCentered(e){return new Oe(-e.width/2,-e.height/2,e.width,e.height)}static fromPoints(...e){let t=1/0,i=1/0,s=-1/0,r=-1/0;for(const o of e)o.x>s&&(s=o.x),o.x<t&&(t=o.x),o.y>r&&(r=o.y),o.y<i&&(i=o.y);return new Oe(t,i,s-t,r-i)}static fromBBoxes(...e){let t=1/0,i=1/0,s=-1/0,r=-1/0;for(const o of e){const a=o.x+o.width;a>s&&(s=a),o.x<t&&(t=o.x);const l=o.y+o.height;l>r&&(r=l),o.y<i&&(i=o.y)}return new Oe(t,i,s-t,r-i)}lerp(e,t){return Oe.lerp(this,e,t)}get position(){return new b(this.x,this.y)}set position(e){this.x=e.x,this.y=e.y}get size(){return new b(this.width,this.height)}get center(){return new b(this.x+this.width/2,this.y+this.height/2)}get left(){return this.x}set left(e){this.width+=this.x-e,this.x=e}get right(){return this.x+this.width}set right(e){this.width=e-this.x}get top(){return this.y}set top(e){this.height+=this.y-e,this.y=e}get bottom(){return this.y+this.height}set bottom(e){this.height=e-this.y}get topLeft(){return this.position}get topRight(){return new b(this.x+this.width,this.y)}get bottomLeft(){return new b(this.x,this.y+this.height)}get bottomRight(){return new b(this.x+this.width,this.y+this.height)}get corners(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}get pixelPerfect(){return new Oe(Math.floor(this.x),Math.floor(this.y),Math.ceil(this.width+1),Math.ceil(this.height+1))}constructor(e,t=0,i=0,s=0){if(this.x=0,this.y=0,this.width=0,this.height=0,e!=null){if(typeof e=="number"){this.x=e,this.y=t,this.width=i,this.height=s;return}if(e instanceof b){this.x=e.x,this.y=e.y,t instanceof b&&(this.width=t.x,this.height=t.y);return}if(Array.isArray(e)){this.x=e[0],this.y=e[1],this.width=e[2],this.height=e[3];return}this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}}transform(e){return new Oe(this.position.transformAsPoint(e),this.size.transform(e))}transformCorners(e){return this.corners.map(t=>t.transformAsPoint(e))}expand(e){const t=new ei(e),i=new Oe(this);return i.left-=t.left,i.top-=t.top,i.right+=t.right,i.bottom+=t.bottom,i}addSpacing(e){return this.expand(e)}includes(e){return e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height}intersects(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top}intersection(e){const t=new Oe;return this.intersects(e)&&(t.left=Math.max(this.left,e.left),t.top=Math.max(this.top,e.top),t.right=Math.min(this.right,e.right),t.bottom=Math.min(this.bottom,e.bottom)),t}union(e){const t=new Oe;return t.left=Math.min(this.left,e.left),t.top=Math.min(this.top,e.top),t.right=Math.max(this.right,e.right),t.bottom=Math.max(this.bottom,e.bottom),t}toSymbol(){return Oe.symbol}toString(){return`BBox(${this.x}, ${this.y}, ${this.width}, ${this.height})`}toUniform(e,t){e.uniform4f(t,this.x,this.y,this.width,this.height)}serialize(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}Oe.symbol=Symbol.for("@motion-canvas/core/types/Rect");var _1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aO={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(n,e){(function(t,i){n.exports=i()})(_1,function(){for(var t=function(f,O,p){return O===void 0&&(O=0),p===void 0&&(p=1),f<O?O:f>p?p:f},i=t,s=function(f){f._clipped=!1,f._unclipped=f.slice(0);for(var O=0;O<=3;O++)O<3?((f[O]<0||f[O]>255)&&(f._clipped=!0),f[O]=i(f[O],0,255)):O===3&&(f[O]=i(f[O],0,1));return f},r={},o=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];o<a.length;o+=1){var l=a[o];r["[object "+l+"]"]=l.toLowerCase()}var h=function(f){return r[Object.prototype.toString.call(f)]||"object"},c=h,u=function(f,O){return O===void 0&&(O=null),f.length>=3?Array.prototype.slice.call(f):c(f[0])=="object"&&O?O.split("").filter(function(p){return f[0][p]!==void 0}).map(function(p){return f[0][p]}):f[0]},d=h,g=function(f){if(f.length<2)return null;var O=f.length-1;return d(f[O])=="string"?f[O].toLowerCase():null},m=Math.PI,v={clip_rgb:s,limit:t,type:h,unpack:u,last:g,PI:m,TWOPI:m*2,PITHIRD:m/3,DEG2RAD:m/180,RAD2DEG:180/m},w={format:{},autodetect:[]},X=v.last,R=v.clip_rgb,_=v.type,C=w,D=function(){for(var O=[],p=arguments.length;p--;)O[p]=arguments[p];var y=this;if(_(O[0])==="object"&&O[0].constructor&&O[0].constructor===this.constructor)return O[0];var S=X(O),Q=!1;if(!S){Q=!0,C.sorted||(C.autodetect=C.autodetect.sort(function(V,N){return N.p-V.p}),C.sorted=!0);for(var x=0,P=C.autodetect;x<P.length;x+=1){var k=P[x];if(S=k.test.apply(k,O),S)break}}if(C.format[S]){var Y=C.format[S].apply(null,Q?O:O.slice(0,-1));y._rgb=R(Y)}else throw new Error("unknown format: "+O);y._rgb.length===3&&y._rgb.push(1)};D.prototype.toString=function(){return _(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var Z=D,L=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(L.Color,[null].concat(f)))};L.Color=Z,L.version="2.4.2";var G=L,J=v.unpack,re=Math.max,ce=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=J(f,"rgb"),y=p[0],S=p[1],Q=p[2];y=y/255,S=S/255,Q=Q/255;var x=1-re(y,re(S,Q)),P=x<1?1/(1-x):0,k=(1-y-x)*P,Y=(1-S-x)*P,V=(1-Q-x)*P;return[k,Y,V,x]},fe=ce,Xe=v.unpack,Pe=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=Xe(f,"cmyk");var p=f[0],y=f[1],S=f[2],Q=f[3],x=f.length>4?f[4]:1;return Q===1?[0,0,0,x]:[p>=1?0:255*(1-p)*(1-Q),y>=1?0:255*(1-y)*(1-Q),S>=1?0:255*(1-S)*(1-Q),x]},ke=Pe,oe=G,F=Z,xe=w,Ts=v.unpack,Ct=v.type,lt=fe;F.prototype.cmyk=function(){return lt(this._rgb)},oe.cmyk=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(F,[null].concat(f,["cmyk"])))},xe.format.cmyk=ke,xe.autodetect.push({p:2,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=Ts(f,"cmyk"),Ct(f)==="array"&&f.length===4)return"cmyk"}});var pt=v.unpack,se=v.last,Le=function(f){return Math.round(f*100)/100},gt=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=pt(f,"hsla"),y=se(f)||"lsa";return p[0]=Le(p[0]||0),p[1]=Le(p[1]*100)+"%",p[2]=Le(p[2]*100)+"%",y==="hsla"||p.length>3&&p[3]<1?(p[3]=p.length>3?p[3]:1,y="hsla"):p.length=3,y+"("+p.join(",")+")"},Rs=gt,Yr=v.unpack,Ld=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=Yr(f,"rgba");var p=f[0],y=f[1],S=f[2];p/=255,y/=255,S/=255;var Q=Math.min(p,y,S),x=Math.max(p,y,S),P=(x+Q)/2,k,Y;return x===Q?(k=0,Y=Number.NaN):k=P<.5?(x-Q)/(x+Q):(x-Q)/(2-x-Q),p==x?Y=(y-S)/(x-Q):y==x?Y=2+(S-p)/(x-Q):S==x&&(Y=4+(p-y)/(x-Q)),Y*=60,Y<0&&(Y+=360),f.length>3&&f[3]!==void 0?[Y,k,P,f[3]]:[Y,k,P]},Wh=Ld,Id=v.unpack,Bd=v.last,Nd=Rs,Fd=Wh,sa=Math.round,Gd=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=Id(f,"rgba"),y=Bd(f)||"rgb";return y.substr(0,3)=="hsl"?Nd(Fd(p),y):(p[0]=sa(p[0]),p[1]=sa(p[1]),p[2]=sa(p[2]),(y==="rgba"||p.length>3&&p[3]<1)&&(p[3]=p.length>3?p[3]:1,y="rgba"),y+"("+p.slice(0,y==="rgb"?3:4).join(",")+")")},Hd=Gd,Kd=v.unpack,na=Math.round,Jd=function(){for(var f,O=[],p=arguments.length;p--;)O[p]=arguments[p];O=Kd(O,"hsl");var y=O[0],S=O[1],Q=O[2],x,P,k;if(S===0)x=P=k=Q*255;else{var Y=[0,0,0],V=[0,0,0],N=Q<.5?Q*(1+S):Q+S-Q*S,q=2*Q-N,ee=y/360;Y[0]=ee+1/3,Y[1]=ee,Y[2]=ee-1/3;for(var K=0;K<3;K++)Y[K]<0&&(Y[K]+=1),Y[K]>1&&(Y[K]-=1),6*Y[K]<1?V[K]=q+(N-q)*6*Y[K]:2*Y[K]<1?V[K]=N:3*Y[K]<2?V[K]=q+(N-q)*(2/3-Y[K])*6:V[K]=q;f=[na(V[0]*255),na(V[1]*255),na(V[2]*255)],x=f[0],P=f[1],k=f[2]}return O.length>3?[x,P,k,O[3]]:[x,P,k,1]},Yh=Jd,zh=Yh,Ch=w,Ah=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,jh=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,Vh=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Zh=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,_h=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,qh=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Mh=Math.round,Dh=function(f){f=f.toLowerCase().trim();var O;if(Ch.format.named)try{return Ch.format.named(f)}catch{}if(O=f.match(Ah)){for(var p=O.slice(1,4),y=0;y<3;y++)p[y]=+p[y];return p[3]=1,p}if(O=f.match(jh)){for(var S=O.slice(1,5),Q=0;Q<4;Q++)S[Q]=+S[Q];return S}if(O=f.match(Vh)){for(var x=O.slice(1,4),P=0;P<3;P++)x[P]=Mh(x[P]*2.55);return x[3]=1,x}if(O=f.match(Zh)){for(var k=O.slice(1,5),Y=0;Y<3;Y++)k[Y]=Mh(k[Y]*2.55);return k[3]=+k[3],k}if(O=f.match(_h)){var V=O.slice(1,4);V[1]*=.01,V[2]*=.01;var N=zh(V);return N[3]=1,N}if(O=f.match(qh)){var q=O.slice(1,4);q[1]*=.01,q[2]*=.01;var ee=zh(q);return ee[3]=+O[4],ee}};Dh.test=function(f){return Ah.test(f)||jh.test(f)||Vh.test(f)||Zh.test(f)||_h.test(f)||qh.test(f)};var ep=Dh,tp=G,Eh=Z,Lh=w,ip=v.type,sp=Hd,Ih=ep;Eh.prototype.css=function(f){return sp(this._rgb,f)},tp.css=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Eh,[null].concat(f,["css"])))},Lh.format.css=Ih,Lh.autodetect.push({p:5,test:function(f){for(var O=[],p=arguments.length-1;p-- >0;)O[p]=arguments[p+1];if(!O.length&&ip(f)==="string"&&Ih.test(f))return"css"}});var Bh=Z,np=G,rp=w,op=v.unpack;rp.format.gl=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=op(f,"rgba");return p[0]*=255,p[1]*=255,p[2]*=255,p},np.gl=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Bh,[null].concat(f,["gl"])))},Bh.prototype.gl=function(){var f=this._rgb;return[f[0]/255,f[1]/255,f[2]/255,f[3]]};var ap=v.unpack,lp=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=ap(f,"rgb"),y=p[0],S=p[1],Q=p[2],x=Math.min(y,S,Q),P=Math.max(y,S,Q),k=P-x,Y=k*100/255,V=x/(255-k)*100,N;return k===0?N=Number.NaN:(y===P&&(N=(S-Q)/k),S===P&&(N=2+(Q-y)/k),Q===P&&(N=4+(y-S)/k),N*=60,N<0&&(N+=360)),[N,Y,V]},hp=lp,cp=v.unpack,fp=Math.floor,up=function(){for(var f,O,p,y,S,Q,x=[],P=arguments.length;P--;)x[P]=arguments[P];x=cp(x,"hcg");var k=x[0],Y=x[1],V=x[2],N,q,ee;V=V*255;var K=Y*255;if(Y===0)N=q=ee=V;else{k===360&&(k=0),k>360&&(k-=360),k<0&&(k+=360),k/=60;var ge=fp(k),ve=k-ge,Se=V*(1-Y),Te=Se+K*(1-ve),mt=Se+K*ve,ct=Se+K;switch(ge){case 0:f=[ct,mt,Se],N=f[0],q=f[1],ee=f[2];break;case 1:O=[Te,ct,Se],N=O[0],q=O[1],ee=O[2];break;case 2:p=[Se,ct,mt],N=p[0],q=p[1],ee=p[2];break;case 3:y=[Se,Te,ct],N=y[0],q=y[1],ee=y[2];break;case 4:S=[mt,Se,ct],N=S[0],q=S[1],ee=S[2];break;case 5:Q=[ct,Se,Te],N=Q[0],q=Q[1],ee=Q[2];break}}return[N,q,ee,x.length>3?x[3]:1]},Op=up,dp=v.unpack,pp=v.type,gp=G,Nh=Z,Fh=w,mp=hp;Nh.prototype.hcg=function(){return mp(this._rgb)},gp.hcg=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Nh,[null].concat(f,["hcg"])))},Fh.format.hcg=Op,Fh.autodetect.push({p:1,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=dp(f,"hcg"),pp(f)==="array"&&f.length===3)return"hcg"}});var yp=v.unpack,vp=v.last,zr=Math.round,bp=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=yp(f,"rgba"),y=p[0],S=p[1],Q=p[2],x=p[3],P=vp(f)||"auto";x===void 0&&(x=1),P==="auto"&&(P=x<1?"rgba":"rgb"),y=zr(y),S=zr(S),Q=zr(Q);var k=y<<16|S<<8|Q,Y="000000"+k.toString(16);Y=Y.substr(Y.length-6);var V="0"+zr(x*255).toString(16);switch(V=V.substr(V.length-2),P.toLowerCase()){case"rgba":return"#"+Y+V;case"argb":return"#"+V+Y;default:return"#"+Y}},Gh=bp,wp=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,xp=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,$p=function(f){if(f.match(wp)){(f.length===4||f.length===7)&&(f=f.substr(1)),f.length===3&&(f=f.split(""),f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]);var O=parseInt(f,16),p=O>>16,y=O>>8&255,S=O&255;return[p,y,S,1]}if(f.match(xp)){(f.length===5||f.length===9)&&(f=f.substr(1)),f.length===4&&(f=f.split(""),f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]+f[3]+f[3]);var Q=parseInt(f,16),x=Q>>24&255,P=Q>>16&255,k=Q>>8&255,Y=Math.round((Q&255)/255*100)/100;return[x,P,k,Y]}throw new Error("unknown hex color: "+f)},Hh=$p,Sp=G,Kh=Z,Qp=v.type,Jh=w,Xp=Gh;Kh.prototype.hex=function(f){return Xp(this._rgb,f)},Sp.hex=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Kh,[null].concat(f,["hex"])))},Jh.format.hex=Hh,Jh.autodetect.push({p:4,test:function(f){for(var O=[],p=arguments.length-1;p-- >0;)O[p]=arguments[p+1];if(!O.length&&Qp(f)==="string"&&[3,4,5,6,7,8,9].indexOf(f.length)>=0)return"hex"}});var Pp=v.unpack,ec=v.TWOPI,kp=Math.min,Tp=Math.sqrt,Rp=Math.acos,Up=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=Pp(f,"rgb"),y=p[0],S=p[1],Q=p[2];y/=255,S/=255,Q/=255;var x,P=kp(y,S,Q),k=(y+S+Q)/3,Y=k>0?1-P/k:0;return Y===0?x=NaN:(x=(y-S+(y-Q))/2,x/=Tp((y-S)*(y-S)+(y-Q)*(S-Q)),x=Rp(x),Q>S&&(x=ec-x),x/=ec),[x*360,Y,k]},Wp=Up,Yp=v.unpack,ra=v.limit,un=v.TWOPI,oa=v.PITHIRD,On=Math.cos,zp=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=Yp(f,"hsi");var p=f[0],y=f[1],S=f[2],Q,x,P;return isNaN(p)&&(p=0),isNaN(y)&&(y=0),p>360&&(p-=360),p<0&&(p+=360),p/=360,p<1/3?(P=(1-y)/3,Q=(1+y*On(un*p)/On(oa-un*p))/3,x=1-(P+Q)):p<2/3?(p-=1/3,Q=(1-y)/3,x=(1+y*On(un*p)/On(oa-un*p))/3,P=1-(Q+x)):(p-=2/3,x=(1-y)/3,P=(1+y*On(un*p)/On(oa-un*p))/3,Q=1-(x+P)),Q=ra(S*Q*3),x=ra(S*x*3),P=ra(S*P*3),[Q*255,x*255,P*255,f.length>3?f[3]:1]},Cp=zp,Ap=v.unpack,jp=v.type,Vp=G,tc=Z,ic=w,Zp=Wp;tc.prototype.hsi=function(){return Zp(this._rgb)},Vp.hsi=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(tc,[null].concat(f,["hsi"])))},ic.format.hsi=Cp,ic.autodetect.push({p:2,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=Ap(f,"hsi"),jp(f)==="array"&&f.length===3)return"hsi"}});var _p=v.unpack,qp=v.type,Mp=G,sc=Z,nc=w,Dp=Wh;sc.prototype.hsl=function(){return Dp(this._rgb)},Mp.hsl=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(sc,[null].concat(f,["hsl"])))},nc.format.hsl=Yh,nc.autodetect.push({p:2,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=_p(f,"hsl"),qp(f)==="array"&&f.length===3)return"hsl"}});var Ep=v.unpack,Lp=Math.min,Ip=Math.max,Bp=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=Ep(f,"rgb");var p=f[0],y=f[1],S=f[2],Q=Lp(p,y,S),x=Ip(p,y,S),P=x-Q,k,Y,V;return V=x/255,x===0?(k=Number.NaN,Y=0):(Y=P/x,p===x&&(k=(y-S)/P),y===x&&(k=2+(S-p)/P),S===x&&(k=4+(p-y)/P),k*=60,k<0&&(k+=360)),[k,Y,V]},Np=Bp,Fp=v.unpack,Gp=Math.floor,Hp=function(){for(var f,O,p,y,S,Q,x=[],P=arguments.length;P--;)x[P]=arguments[P];x=Fp(x,"hsv");var k=x[0],Y=x[1],V=x[2],N,q,ee;if(V*=255,Y===0)N=q=ee=V;else{k===360&&(k=0),k>360&&(k-=360),k<0&&(k+=360),k/=60;var K=Gp(k),ge=k-K,ve=V*(1-Y),Se=V*(1-Y*ge),Te=V*(1-Y*(1-ge));switch(K){case 0:f=[V,Te,ve],N=f[0],q=f[1],ee=f[2];break;case 1:O=[Se,V,ve],N=O[0],q=O[1],ee=O[2];break;case 2:p=[ve,V,Te],N=p[0],q=p[1],ee=p[2];break;case 3:y=[ve,Se,V],N=y[0],q=y[1],ee=y[2];break;case 4:S=[Te,ve,V],N=S[0],q=S[1],ee=S[2];break;case 5:Q=[V,ve,Se],N=Q[0],q=Q[1],ee=Q[2];break}}return[N,q,ee,x.length>3?x[3]:1]},Kp=Hp,Jp=v.unpack,e0=v.type,t0=G,rc=Z,oc=w,i0=Np;rc.prototype.hsv=function(){return i0(this._rgb)},t0.hsv=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(rc,[null].concat(f,["hsv"])))},oc.format.hsv=Kp,oc.autodetect.push({p:2,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=Jp(f,"hsv"),e0(f)==="array"&&f.length===3)return"hsv"}});var Cr={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},dn=Cr,s0=v.unpack,ac=Math.pow,n0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=s0(f,"rgb"),y=p[0],S=p[1],Q=p[2],x=r0(y,S,Q),P=x[0],k=x[1],Y=x[2],V=116*k-16;return[V<0?0:V,500*(P-k),200*(k-Y)]},aa=function(f){return(f/=255)<=.04045?f/12.92:ac((f+.055)/1.055,2.4)},la=function(f){return f>dn.t3?ac(f,1/3):f/dn.t2+dn.t0},r0=function(f,O,p){f=aa(f),O=aa(O),p=aa(p);var y=la((.4124564*f+.3575761*O+.1804375*p)/dn.Xn),S=la((.2126729*f+.7151522*O+.072175*p)/dn.Yn),Q=la((.0193339*f+.119192*O+.9503041*p)/dn.Zn);return[y,S,Q]},lc=n0,pn=Cr,o0=v.unpack,a0=Math.pow,l0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=o0(f,"lab");var p=f[0],y=f[1],S=f[2],Q,x,P,k,Y,V;return x=(p+16)/116,Q=isNaN(y)?x:x+y/500,P=isNaN(S)?x:x-S/200,x=pn.Yn*ca(x),Q=pn.Xn*ca(Q),P=pn.Zn*ca(P),k=ha(3.2404542*Q-1.5371385*x-.4985314*P),Y=ha(-.969266*Q+1.8760108*x+.041556*P),V=ha(.0556434*Q-.2040259*x+1.0572252*P),[k,Y,V,f.length>3?f[3]:1]},ha=function(f){return 255*(f<=.00304?12.92*f:1.055*a0(f,1/2.4)-.055)},ca=function(f){return f>pn.t1?f*f*f:pn.t2*(f-pn.t0)},hc=l0,h0=v.unpack,c0=v.type,f0=G,cc=Z,fc=w,u0=lc;cc.prototype.lab=function(){return u0(this._rgb)},f0.lab=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(cc,[null].concat(f,["lab"])))},fc.format.lab=hc,fc.autodetect.push({p:2,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=h0(f,"lab"),c0(f)==="array"&&f.length===3)return"lab"}});var O0=v.unpack,d0=v.RAD2DEG,p0=Math.sqrt,g0=Math.atan2,m0=Math.round,y0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=O0(f,"lab"),y=p[0],S=p[1],Q=p[2],x=p0(S*S+Q*Q),P=(g0(Q,S)*d0+360)%360;return m0(x*1e4)===0&&(P=Number.NaN),[y,x,P]},uc=y0,v0=v.unpack,b0=lc,w0=uc,x0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=v0(f,"rgb"),y=p[0],S=p[1],Q=p[2],x=b0(y,S,Q),P=x[0],k=x[1],Y=x[2];return w0(P,k,Y)},$0=x0,S0=v.unpack,Q0=v.DEG2RAD,X0=Math.sin,P0=Math.cos,k0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=S0(f,"lch"),y=p[0],S=p[1],Q=p[2];return isNaN(Q)&&(Q=0),Q=Q*Q0,[y,P0(Q)*S,X0(Q)*S]},Oc=k0,T0=v.unpack,R0=Oc,U0=hc,W0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=T0(f,"lch");var p=f[0],y=f[1],S=f[2],Q=R0(p,y,S),x=Q[0],P=Q[1],k=Q[2],Y=U0(x,P,k),V=Y[0],N=Y[1],q=Y[2];return[V,N,q,f.length>3?f[3]:1]},dc=W0,Y0=v.unpack,z0=dc,C0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=Y0(f,"hcl").reverse();return z0.apply(void 0,p)},A0=C0,j0=v.unpack,V0=v.type,pc=G,Ar=Z,fa=w,gc=$0;Ar.prototype.lch=function(){return gc(this._rgb)},Ar.prototype.hcl=function(){return gc(this._rgb).reverse()},pc.lch=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Ar,[null].concat(f,["lch"])))},pc.hcl=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Ar,[null].concat(f,["hcl"])))},fa.format.lch=dc,fa.format.hcl=A0,["lch","hcl"].forEach(function(f){return fa.autodetect.push({p:2,test:function(){for(var O=[],p=arguments.length;p--;)O[p]=arguments[p];if(O=j0(O,f),V0(O)==="array"&&O.length===3)return f}})});var Z0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},mc=Z0,_0=Z,yc=w,q0=v.type,Nn=mc,M0=Hh,D0=Gh;_0.prototype.name=function(){for(var f=D0(this._rgb,"rgb"),O=0,p=Object.keys(Nn);O<p.length;O+=1){var y=p[O];if(Nn[y]===f)return y.toLowerCase()}return f},yc.format.named=function(f){if(f=f.toLowerCase(),Nn[f])return M0(Nn[f]);throw new Error("unknown color name: "+f)},yc.autodetect.push({p:5,test:function(f){for(var O=[],p=arguments.length-1;p-- >0;)O[p]=arguments[p+1];if(!O.length&&q0(f)==="string"&&Nn[f.toLowerCase()])return"named"}});var E0=v.unpack,L0=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=E0(f,"rgb"),y=p[0],S=p[1],Q=p[2];return(y<<16)+(S<<8)+Q},I0=L0,B0=v.type,N0=function(f){if(B0(f)=="number"&&f>=0&&f<=16777215){var O=f>>16,p=f>>8&255,y=f&255;return[O,p,y,1]}throw new Error("unknown num color: "+f)},F0=N0,G0=G,vc=Z,bc=w,H0=v.type,K0=I0;vc.prototype.num=function(){return K0(this._rgb)},G0.num=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(vc,[null].concat(f,["num"])))},bc.format.num=F0,bc.autodetect.push({p:5,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f.length===1&&H0(f[0])==="number"&&f[0]>=0&&f[0]<=16777215)return"num"}});var J0=G,ua=Z,wc=w,xc=v.unpack,$c=v.type,Sc=Math.round;ua.prototype.rgb=function(f){return f===void 0&&(f=!0),f===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Sc)},ua.prototype.rgba=function(f){return f===void 0&&(f=!0),this._rgb.slice(0,4).map(function(O,p){return p<3?f===!1?O:Sc(O):O})},J0.rgb=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(ua,[null].concat(f,["rgb"])))},wc.format.rgb=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=xc(f,"rgba");return p[3]===void 0&&(p[3]=1),p},wc.autodetect.push({p:3,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=xc(f,"rgba"),$c(f)==="array"&&(f.length===3||f.length===4&&$c(f[3])=="number"&&f[3]>=0&&f[3]<=1))return"rgb"}});var jr=Math.log,eg=function(f){var O=f/100,p,y,S;return O<66?(p=255,y=O<6?0:-155.25485562709179-.44596950469579133*(y=O-2)+104.49216199393888*jr(y),S=O<20?0:-254.76935184120902+.8274096064007395*(S=O-10)+115.67994401066147*jr(S)):(p=351.97690566805693+.114206453784165*(p=O-55)-40.25366309332127*jr(p),y=325.4494125711974+.07943456536662342*(y=O-50)-28.0852963507957*jr(y),S=255),[p,y,S,1]},Qc=eg,tg=Qc,ig=v.unpack,sg=Math.round,ng=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];for(var p=ig(f,"rgb"),y=p[0],S=p[2],Q=1e3,x=4e4,P=.4,k;x-Q>P;){k=(x+Q)*.5;var Y=tg(k);Y[2]/Y[0]>=S/y?x=k:Q=k}return sg(k)},rg=ng,Oa=G,Vr=Z,da=w,og=rg;Vr.prototype.temp=Vr.prototype.kelvin=Vr.prototype.temperature=function(){return og(this._rgb)},Oa.temp=Oa.kelvin=Oa.temperature=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Vr,[null].concat(f,["temp"])))},da.format.temp=da.format.kelvin=da.format.temperature=Qc;var ag=v.unpack,pa=Math.cbrt,lg=Math.pow,hg=Math.sign,cg=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=ag(f,"rgb"),y=p[0],S=p[1],Q=p[2],x=[ga(y/255),ga(S/255),ga(Q/255)],P=x[0],k=x[1],Y=x[2],V=pa(.4122214708*P+.5363325363*k+.0514459929*Y),N=pa(.2119034982*P+.6806995451*k+.1073969566*Y),q=pa(.0883024619*P+.2817188376*k+.6299787005*Y);return[.2104542553*V+.793617785*N-.0040720468*q,1.9779984951*V-2.428592205*N+.4505937099*q,.0259040371*V+.7827717662*N-.808675766*q]},Xc=cg;function ga(f){var O=Math.abs(f);return O<.04045?f/12.92:(hg(f)||1)*lg((O+.055)/1.055,2.4)}var fg=v.unpack,Zr=Math.pow,ug=Math.sign,Og=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=fg(f,"lab");var p=f[0],y=f[1],S=f[2],Q=Zr(p+.3963377774*y+.2158037573*S,3),x=Zr(p-.1055613458*y-.0638541728*S,3),P=Zr(p-.0894841775*y-1.291485548*S,3);return[255*ma(4.0767416621*Q-3.3077115913*x+.2309699292*P),255*ma(-1.2684380046*Q+2.6097574011*x-.3413193965*P),255*ma(-.0041960863*Q-.7034186147*x+1.707614701*P),f.length>3?f[3]:1]},Pc=Og;function ma(f){var O=Math.abs(f);return O>.0031308?(ug(f)||1)*(1.055*Zr(O,1/2.4)-.055):f*12.92}var dg=v.unpack,pg=v.type,gg=G,kc=Z,Tc=w,mg=Xc;kc.prototype.oklab=function(){return mg(this._rgb)},gg.oklab=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(kc,[null].concat(f,["oklab"])))},Tc.format.oklab=Pc,Tc.autodetect.push({p:3,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=dg(f,"oklab"),pg(f)==="array"&&f.length===3)return"oklab"}});var yg=v.unpack,vg=Xc,bg=uc,wg=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];var p=yg(f,"rgb"),y=p[0],S=p[1],Q=p[2],x=vg(y,S,Q),P=x[0],k=x[1],Y=x[2];return bg(P,k,Y)},xg=wg,$g=v.unpack,Sg=Oc,Qg=Pc,Xg=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];f=$g(f,"lch");var p=f[0],y=f[1],S=f[2],Q=Sg(p,y,S),x=Q[0],P=Q[1],k=Q[2],Y=Qg(x,P,k),V=Y[0],N=Y[1],q=Y[2];return[V,N,q,f.length>3?f[3]:1]},Pg=Xg,kg=v.unpack,Tg=v.type,Rg=G,Rc=Z,Uc=w,Ug=xg;Rc.prototype.oklch=function(){return Ug(this._rgb)},Rg.oklch=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];return new(Function.prototype.bind.apply(Rc,[null].concat(f,["oklch"])))},Uc.format.oklch=Pg,Uc.autodetect.push({p:3,test:function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];if(f=kg(f,"oklch"),Tg(f)==="array"&&f.length===3)return"oklch"}});var Wc=Z,Wg=v.type;Wc.prototype.alpha=function(f,O){return O===void 0&&(O=!1),f!==void 0&&Wg(f)==="number"?O?(this._rgb[3]=f,this):new Wc([this._rgb[0],this._rgb[1],this._rgb[2],f],"rgb"):this._rgb[3]};var Yg=Z;Yg.prototype.clipped=function(){return this._rgb._clipped||!1};var Us=Z,zg=Cr;Us.prototype.darken=function(f){f===void 0&&(f=1);var O=this,p=O.lab();return p[0]-=zg.Kn*f,new Us(p,"lab").alpha(O.alpha(),!0)},Us.prototype.brighten=function(f){return f===void 0&&(f=1),this.darken(-f)},Us.prototype.darker=Us.prototype.darken,Us.prototype.brighter=Us.prototype.brighten;var Cg=Z;Cg.prototype.get=function(f){var O=f.split("."),p=O[0],y=O[1],S=this[p]();if(y){var Q=p.indexOf(y)-(p.substr(0,2)==="ok"?2:0);if(Q>-1)return S[Q];throw new Error("unknown channel "+y+" in mode "+p)}else return S};var gn=Z,Ag=v.type,jg=Math.pow,Vg=1e-7,Zg=20;gn.prototype.luminance=function(f){if(f!==void 0&&Ag(f)==="number"){if(f===0)return new gn([0,0,0,this._rgb[3]],"rgb");if(f===1)return new gn([255,255,255,this._rgb[3]],"rgb");var O=this.luminance(),p="rgb",y=Zg,S=function(x,P){var k=x.interpolate(P,.5,p),Y=k.luminance();return Math.abs(f-Y)<Vg||!y--?k:Y>f?S(x,k):S(k,P)},Q=(O>f?S(new gn([0,0,0]),this):S(this,new gn([255,255,255]))).rgb();return new gn(Q.concat([this._rgb[3]]))}return _g.apply(void 0,this._rgb.slice(0,3))};var _g=function(f,O,p){return f=ya(f),O=ya(O),p=ya(p),.2126*f+.7152*O+.0722*p},ya=function(f){return f/=255,f<=.03928?f/12.92:jg((f+.055)/1.055,2.4)},Dt={},Yc=Z,zc=v.type,_r=Dt,Cc=function(f,O,p){p===void 0&&(p=.5);for(var y=[],S=arguments.length-3;S-- >0;)y[S]=arguments[S+3];var Q=y[0]||"lrgb";if(!_r[Q]&&!y.length&&(Q=Object.keys(_r)[0]),!_r[Q])throw new Error("interpolation mode "+Q+" is not defined");return zc(f)!=="object"&&(f=new Yc(f)),zc(O)!=="object"&&(O=new Yc(O)),_r[Q](f,O,p).alpha(f.alpha()+p*(O.alpha()-f.alpha()))},Ac=Z,qg=Cc;Ac.prototype.mix=Ac.prototype.interpolate=function(f,O){O===void 0&&(O=.5);for(var p=[],y=arguments.length-2;y-- >0;)p[y]=arguments[y+2];return qg.apply(void 0,[this,f,O].concat(p))};var jc=Z;jc.prototype.premultiply=function(f){f===void 0&&(f=!1);var O=this._rgb,p=O[3];return f?(this._rgb=[O[0]*p,O[1]*p,O[2]*p,p],this):new jc([O[0]*p,O[1]*p,O[2]*p,p],"rgb")};var va=Z,Mg=Cr;va.prototype.saturate=function(f){f===void 0&&(f=1);var O=this,p=O.lch();return p[1]+=Mg.Kn*f,p[1]<0&&(p[1]=0),new va(p,"lch").alpha(O.alpha(),!0)},va.prototype.desaturate=function(f){return f===void 0&&(f=1),this.saturate(-f)};var Vc=Z,Zc=v.type;Vc.prototype.set=function(f,O,p){p===void 0&&(p=!1);var y=f.split("."),S=y[0],Q=y[1],x=this[S]();if(Q){var P=S.indexOf(Q)-(S.substr(0,2)==="ok"?2:0);if(P>-1){if(Zc(O)=="string")switch(O.charAt(0)){case"+":x[P]+=+O;break;case"-":x[P]+=+O;break;case"*":x[P]*=+O.substr(1);break;case"/":x[P]/=+O.substr(1);break;default:x[P]=+O}else if(Zc(O)==="number")x[P]=O;else throw new Error("unsupported value for Color.set");var k=new Vc(x,S);return p?(this._rgb=k._rgb,this):k}throw new Error("unknown channel "+Q+" in mode "+S)}else return x};var Dg=Z,Eg=function(f,O,p){var y=f._rgb,S=O._rgb;return new Dg(y[0]+p*(S[0]-y[0]),y[1]+p*(S[1]-y[1]),y[2]+p*(S[2]-y[2]),"rgb")};Dt.rgb=Eg;var Lg=Z,ba=Math.sqrt,mn=Math.pow,Ig=function(f,O,p){var y=f._rgb,S=y[0],Q=y[1],x=y[2],P=O._rgb,k=P[0],Y=P[1],V=P[2];return new Lg(ba(mn(S,2)*(1-p)+mn(k,2)*p),ba(mn(Q,2)*(1-p)+mn(Y,2)*p),ba(mn(x,2)*(1-p)+mn(V,2)*p),"rgb")};Dt.lrgb=Ig;var Bg=Z,Ng=function(f,O,p){var y=f.lab(),S=O.lab();return new Bg(y[0]+p*(S[0]-y[0]),y[1]+p*(S[1]-y[1]),y[2]+p*(S[2]-y[2]),"lab")};Dt.lab=Ng;var _c=Z,yn=function(f,O,p,y){var S,Q,x,P;y==="hsl"?(x=f.hsl(),P=O.hsl()):y==="hsv"?(x=f.hsv(),P=O.hsv()):y==="hcg"?(x=f.hcg(),P=O.hcg()):y==="hsi"?(x=f.hsi(),P=O.hsi()):y==="lch"||y==="hcl"?(y="hcl",x=f.hcl(),P=O.hcl()):y==="oklch"&&(x=f.oklch().reverse(),P=O.oklch().reverse());var k,Y,V,N,q,ee;(y.substr(0,1)==="h"||y==="oklch")&&(S=x,k=S[0],V=S[1],q=S[2],Q=P,Y=Q[0],N=Q[1],ee=Q[2]);var K,ge,ve,Se;return!isNaN(k)&&!isNaN(Y)?(Y>k&&Y-k>180?Se=Y-(k+360):Y<k&&k-Y>180?Se=Y+360-k:Se=Y-k,ge=k+p*Se):isNaN(k)?isNaN(Y)?ge=Number.NaN:(ge=Y,(q==1||q==0)&&y!="hsv"&&(K=N)):(ge=k,(ee==1||ee==0)&&y!="hsv"&&(K=V)),K===void 0&&(K=V+p*(N-V)),ve=q+p*(ee-q),y==="oklch"?new _c([ve,K,ge],y):new _c([ge,K,ve],y)},Fg=yn,qc=function(f,O,p){return Fg(f,O,p,"lch")};Dt.lch=qc,Dt.hcl=qc;var Gg=Z,Hg=function(f,O,p){var y=f.num(),S=O.num();return new Gg(y+p*(S-y),"num")};Dt.num=Hg;var Kg=yn,Jg=function(f,O,p){return Kg(f,O,p,"hcg")};Dt.hcg=Jg;var em=yn,tm=function(f,O,p){return em(f,O,p,"hsi")};Dt.hsi=tm;var im=yn,sm=function(f,O,p){return im(f,O,p,"hsl")};Dt.hsl=sm;var nm=yn,rm=function(f,O,p){return nm(f,O,p,"hsv")};Dt.hsv=rm;var om=Z,am=function(f,O,p){var y=f.oklab(),S=O.oklab();return new om(y[0]+p*(S[0]-y[0]),y[1]+p*(S[1]-y[1]),y[2]+p*(S[2]-y[2]),"oklab")};Dt.oklab=am;var lm=yn,hm=function(f,O,p){return lm(f,O,p,"oklch")};Dt.oklch=hm;var wa=Z,cm=v.clip_rgb,xa=Math.pow,$a=Math.sqrt,Sa=Math.PI,Mc=Math.cos,Dc=Math.sin,fm=Math.atan2,um=function(f,O,p){O===void 0&&(O="lrgb"),p===void 0&&(p=null);var y=f.length;p||(p=Array.from(new Array(y)).map(function(){return 1}));var S=y/p.reduce(function(ge,ve){return ge+ve});if(p.forEach(function(ge,ve){p[ve]*=S}),f=f.map(function(ge){return new wa(ge)}),O==="lrgb")return Om(f,p);for(var Q=f.shift(),x=Q.get(O),P=[],k=0,Y=0,V=0;V<x.length;V++)if(x[V]=(x[V]||0)*p[0],P.push(isNaN(x[V])?0:p[0]),O.charAt(V)==="h"&&!isNaN(x[V])){var N=x[V]/180*Sa;k+=Mc(N)*p[0],Y+=Dc(N)*p[0]}var q=Q.alpha()*p[0];f.forEach(function(ge,ve){var Se=ge.get(O);q+=ge.alpha()*p[ve+1];for(var Te=0;Te<x.length;Te++)if(!isNaN(Se[Te]))if(P[Te]+=p[ve+1],O.charAt(Te)==="h"){var mt=Se[Te]/180*Sa;k+=Mc(mt)*p[ve+1],Y+=Dc(mt)*p[ve+1]}else x[Te]+=Se[Te]*p[ve+1]});for(var ee=0;ee<x.length;ee++)if(O.charAt(ee)==="h"){for(var K=fm(Y/P[ee],k/P[ee])/Sa*180;K<0;)K+=360;for(;K>=360;)K-=360;x[ee]=K}else x[ee]=x[ee]/P[ee];return q/=y,new wa(x,O).alpha(q>.99999?1:q,!0)},Om=function(f,O){for(var p=f.length,y=[0,0,0,0],S=0;S<f.length;S++){var Q=f[S],x=O[S]/p,P=Q._rgb;y[0]+=xa(P[0],2)*x,y[1]+=xa(P[1],2)*x,y[2]+=xa(P[2],2)*x,y[3]+=P[3]*x}return y[0]=$a(y[0]),y[1]=$a(y[1]),y[2]=$a(y[2]),y[3]>.9999999&&(y[3]=1),new wa(cm(y))},li=G,vn=v.type,dm=Math.pow,Qa=function(f){var O="rgb",p=li("#ccc"),y=0,S=[0,1],Q=[],x=[0,0],P=!1,k=[],Y=!1,V=0,N=1,q=!1,ee={},K=!0,ge=1,ve=function(M){if(M=M||["#fff","#000"],M&&vn(M)==="string"&&li.brewer&&li.brewer[M.toLowerCase()]&&(M=li.brewer[M.toLowerCase()]),vn(M)==="array"){M.length===1&&(M=[M[0],M[0]]),M=M.slice(0);for(var he=0;he<M.length;he++)M[he]=li(M[he]);Q.length=0;for(var ye=0;ye<M.length;ye++)Q.push(ye/(M.length-1))}return At(),k=M},Se=function(M){if(P!=null){for(var he=P.length-1,ye=0;ye<he&&M>=P[ye];)ye++;return ye-1}return 0},Te=function(M){return M},mt=function(M){return M},ct=function(M,he){var ye,me;if(he==null&&(he=!1),isNaN(M)||M===null)return p;if(he)me=M;else if(P&&P.length>2){var yt=Se(M);me=yt/(P.length-2)}else N!==V?me=(M-V)/(N-V):me=1;me=mt(me),he||(me=Te(me)),ge!==1&&(me=dm(me,ge)),me=x[0]+me*(1-x[0]-x[1]),me=Math.min(1,Math.max(0,me));var Me=Math.floor(me*1e4);if(K&&ee[Me])ye=ee[Me];else{if(vn(k)==="array")for(var Qe=0;Qe<Q.length;Qe++){var Ue=Q[Qe];if(me<=Ue){ye=k[Qe];break}if(me>=Ue&&Qe===Q.length-1){ye=k[Qe];break}if(me>Ue&&me<Q[Qe+1]){me=(me-Ue)/(Q[Qe+1]-Ue),ye=li.interpolate(k[Qe],k[Qe+1],me,O);break}}else vn(k)==="function"&&(ye=k(me));K&&(ee[Me]=ye)}return ye},At=function(){return ee={}};ve(f);var $e=function(M){var he=li(ct(M));return Y&&he[Y]?he[Y]():he};return $e.classes=function(M){if(M!=null){if(vn(M)==="array")P=M,S=[M[0],M[M.length-1]];else{var he=li.analyze(S);M===0?P=[he.min,he.max]:P=li.limits(he,"e",M)}return $e}return P},$e.domain=function(M){if(!arguments.length)return S;V=M[0],N=M[M.length-1],Q=[];var he=k.length;if(M.length===he&&V!==N)for(var ye=0,me=Array.from(M);ye<me.length;ye+=1){var yt=me[ye];Q.push((yt-V)/(N-V))}else{for(var Me=0;Me<he;Me++)Q.push(Me/(he-1));if(M.length>2){var Qe=M.map(function(We,Ye){return Ye/(M.length-1)}),Ue=M.map(function(We){return(We-V)/(N-V)});Ue.every(function(We,Ye){return Qe[Ye]===We})||(mt=function(We){if(We<=0||We>=1)return We;for(var Ye=0;We>=Ue[Ye+1];)Ye++;var ci=(We-Ue[Ye])/(Ue[Ye+1]-Ue[Ye]),ns=Qe[Ye]+ci*(Qe[Ye+1]-Qe[Ye]);return ns})}}return S=[V,N],$e},$e.mode=function(M){return arguments.length?(O=M,At(),$e):O},$e.range=function(M,he){return ve(M),$e},$e.out=function(M){return Y=M,$e},$e.spread=function(M){return arguments.length?(y=M,$e):y},$e.correctLightness=function(M){return M==null&&(M=!0),q=M,At(),q?Te=function(he){for(var ye=ct(0,!0).lab()[0],me=ct(1,!0).lab()[0],yt=ye>me,Me=ct(he,!0).lab()[0],Qe=ye+(me-ye)*he,Ue=Me-Qe,We=0,Ye=1,ci=20;Math.abs(Ue)>.01&&ci-- >0;)(function(){return yt&&(Ue*=-1),Ue<0?(We=he,he+=(Ye-he)*.5):(Ye=he,he+=(We-he)*.5),Me=ct(he,!0).lab()[0],Ue=Me-Qe})();return he}:Te=function(he){return he},$e},$e.padding=function(M){return M!=null?(vn(M)==="number"&&(M=[M,M]),x=M,$e):x},$e.colors=function(M,he){arguments.length<2&&(he="hex");var ye=[];if(arguments.length===0)ye=k.slice(0);else if(M===1)ye=[$e(.5)];else if(M>1){var me=S[0],yt=S[1]-me;ye=pm(0,M,!1).map(function(Ye){return $e(me+Ye/(M-1)*yt)})}else{f=[];var Me=[];if(P&&P.length>2)for(var Qe=1,Ue=P.length,We=1<=Ue;We?Qe<Ue:Qe>Ue;We?Qe++:Qe--)Me.push((P[Qe-1]+P[Qe])*.5);else Me=S;ye=Me.map(function(Ye){return $e(Ye)})}return li[he]&&(ye=ye.map(function(Ye){return Ye[he]()})),ye},$e.cache=function(M){return M!=null?(K=M,$e):K},$e.gamma=function(M){return M!=null?(ge=M,$e):ge},$e.nodata=function(M){return M!=null?(p=li(M),$e):p},$e};function pm(f,O,p){for(var y=[],S=f<O,Q=p?S?O+1:O-1:O,x=f;S?x<Q:x>Q;S?x++:x--)y.push(x);return y}var Fn=Z,gm=Qa,mm=function(f){for(var O=[1,1],p=1;p<f;p++){for(var y=[1],S=1;S<=O.length;S++)y[S]=(O[S]||0)+O[S-1];O=y}return O},ym=function(f){var O,p,y,S,Q,x,P;if(f=f.map(function(q){return new Fn(q)}),f.length===2)O=f.map(function(q){return q.lab()}),Q=O[0],x=O[1],S=function(q){var ee=[0,1,2].map(function(K){return Q[K]+q*(x[K]-Q[K])});return new Fn(ee,"lab")};else if(f.length===3)p=f.map(function(q){return q.lab()}),Q=p[0],x=p[1],P=p[2],S=function(q){var ee=[0,1,2].map(function(K){return(1-q)*(1-q)*Q[K]+2*(1-q)*q*x[K]+q*q*P[K]});return new Fn(ee,"lab")};else if(f.length===4){var k;y=f.map(function(q){return q.lab()}),Q=y[0],x=y[1],P=y[2],k=y[3],S=function(q){var ee=[0,1,2].map(function(K){return(1-q)*(1-q)*(1-q)*Q[K]+3*(1-q)*(1-q)*q*x[K]+3*(1-q)*q*q*P[K]+q*q*q*k[K]});return new Fn(ee,"lab")}}else if(f.length>=5){var Y,V,N;Y=f.map(function(q){return q.lab()}),N=f.length-1,V=mm(N),S=function(q){var ee=1-q,K=[0,1,2].map(function(ge){return Y.reduce(function(ve,Se,Te){return ve+V[Te]*Math.pow(ee,N-Te)*Math.pow(q,Te)*Se[ge]},0)});return new Fn(K,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return S},vm=function(f){var O=ym(f);return O.scale=function(){return gm(O)},O},Xa=G,hi=function(f,O,p){if(!hi[p])throw new Error("unknown blend mode "+p);return hi[p](f,O)},is=function(f){return function(O,p){var y=Xa(p).rgb(),S=Xa(O).rgb();return Xa.rgb(f(y,S))}},ss=function(f){return function(O,p){var y=[];return y[0]=f(O[0],p[0]),y[1]=f(O[1],p[1]),y[2]=f(O[2],p[2]),y}},bm=function(f){return f},wm=function(f,O){return f*O/255},xm=function(f,O){return f>O?O:f},$m=function(f,O){return f>O?f:O},Sm=function(f,O){return 255*(1-(1-f/255)*(1-O/255))},Qm=function(f,O){return O<128?2*f*O/255:255*(1-2*(1-f/255)*(1-O/255))},Xm=function(f,O){return 255*(1-(1-O/255)/(f/255))},Pm=function(f,O){return f===255?255:(f=255*(O/255)/(1-f/255),f>255?255:f)};hi.normal=is(ss(bm)),hi.multiply=is(ss(wm)),hi.screen=is(ss(Sm)),hi.overlay=is(ss(Qm)),hi.darken=is(ss(xm)),hi.lighten=is(ss($m)),hi.dodge=is(ss(Pm)),hi.burn=is(ss(Xm));for(var km=hi,Pa=v.type,Tm=v.clip_rgb,Rm=v.TWOPI,Um=Math.pow,Wm=Math.sin,Ym=Math.cos,Ec=G,zm=function(f,O,p,y,S){f===void 0&&(f=300),O===void 0&&(O=-1.5),p===void 0&&(p=1),y===void 0&&(y=1),S===void 0&&(S=[0,1]);var Q=0,x;Pa(S)==="array"?x=S[1]-S[0]:(x=0,S=[S,S]);var P=function(k){var Y=Rm*((f+120)/360+O*k),V=Um(S[0]+x*k,y),N=Q!==0?p[0]+k*Q:p,q=N*V*(1-V)/2,ee=Ym(Y),K=Wm(Y),ge=V+q*(-.14861*ee+1.78277*K),ve=V+q*(-.29227*ee-.90649*K),Se=V+q*(1.97294*ee);return Ec(Tm([ge*255,ve*255,Se*255,1]))};return P.start=function(k){return k==null?f:(f=k,P)},P.rotations=function(k){return k==null?O:(O=k,P)},P.gamma=function(k){return k==null?y:(y=k,P)},P.hue=function(k){return k==null?p:(p=k,Pa(p)==="array"?(Q=p[1]-p[0],Q===0&&(p=p[1])):Q=0,P)},P.lightness=function(k){return k==null?S:(Pa(k)==="array"?(S=k,x=k[1]-k[0]):(S=[k,k],x=0),P)},P.scale=function(){return Ec.scale(P)},P.hue(p),P},Cm=Z,Am="0123456789abcdef",jm=Math.floor,Vm=Math.random,Zm=function(){for(var f="#",O=0;O<6;O++)f+=Am.charAt(jm(Vm()*16));return new Cm(f,"hex")},ka=h,Lc=Math.log,_m=Math.pow,qm=Math.floor,Mm=Math.abs,Ic=function(f,O){O===void 0&&(O=null);var p={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ka(f)==="object"&&(f=Object.values(f)),f.forEach(function(y){O&&ka(y)==="object"&&(y=y[O]),y!=null&&!isNaN(y)&&(p.values.push(y),p.sum+=y,y<p.min&&(p.min=y),y>p.max&&(p.max=y),p.count+=1)}),p.domain=[p.min,p.max],p.limits=function(y,S){return Bc(p,y,S)},p},Bc=function(f,O,p){O===void 0&&(O="equal"),p===void 0&&(p=7),ka(f)=="array"&&(f=Ic(f));var y=f.min,S=f.max,Q=f.values.sort(function(Ra,Ua){return Ra-Ua});if(p===1)return[y,S];var x=[];if(O.substr(0,1)==="c"&&(x.push(y),x.push(S)),O.substr(0,1)==="e"){x.push(y);for(var P=1;P<p;P++)x.push(y+P/p*(S-y));x.push(S)}else if(O.substr(0,1)==="l"){if(y<=0)throw new Error("Logarithmic scales are only possible for values > 0");var k=Math.LOG10E*Lc(y),Y=Math.LOG10E*Lc(S);x.push(y);for(var V=1;V<p;V++)x.push(_m(10,k+V/p*(Y-k)));x.push(S)}else if(O.substr(0,1)==="q"){x.push(y);for(var N=1;N<p;N++){var q=(Q.length-1)*N/p,ee=qm(q);if(ee===q)x.push(Q[ee]);else{var K=q-ee;x.push(Q[ee]*(1-K)+Q[ee+1]*K)}}x.push(S)}else if(O.substr(0,1)==="k"){var ge,ve=Q.length,Se=new Array(ve),Te=new Array(p),mt=!0,ct=0,At=null;At=[],At.push(y);for(var $e=1;$e<p;$e++)At.push(y+$e/p*(S-y));for(At.push(S);mt;){for(var M=0;M<p;M++)Te[M]=0;for(var he=0;he<ve;he++)for(var ye=Q[he],me=Number.MAX_VALUE,yt=void 0,Me=0;Me<p;Me++){var Qe=Mm(At[Me]-ye);Qe<me&&(me=Qe,yt=Me),Te[yt]++,Se[he]=yt}for(var Ue=new Array(p),We=0;We<p;We++)Ue[We]=null;for(var Ye=0;Ye<ve;Ye++)ge=Se[Ye],Ue[ge]===null?Ue[ge]=Q[Ye]:Ue[ge]+=Q[Ye];for(var ci=0;ci<p;ci++)Ue[ci]*=1/Te[ci];mt=!1;for(var ns=0;ns<p;ns++)if(Ue[ns]!==At[ns]){mt=!0;break}At=Ue,ct++,ct>200&&(mt=!1)}for(var rs={},bn=0;bn<p;bn++)rs[bn]=[];for(var wn=0;wn<ve;wn++)ge=Se[wn],rs[ge].push(Q[wn]);for(var _i=[],Ws=0;Ws<p;Ws++)_i.push(rs[Ws][0]),_i.push(rs[Ws][rs[Ws].length-1]);_i=_i.sort(function(Ra,Ua){return Ra-Ua}),x.push(_i[0]);for(var Gn=1;Gn<_i.length;Gn+=2){var Ys=_i[Gn];!isNaN(Ys)&&x.indexOf(Ys)===-1&&x.push(Ys)}}return x},Nc={analyze:Ic,limits:Bc},Fc=Z,Dm=function(f,O){f=new Fc(f),O=new Fc(O);var p=f.luminance(),y=O.luminance();return p>y?(p+.05)/(y+.05):(y+.05)/(p+.05)},Gc=Z,Zi=Math.sqrt,tt=Math.pow,Em=Math.min,Lm=Math.max,Hc=Math.atan2,Kc=Math.abs,qr=Math.cos,Jc=Math.sin,Im=Math.exp,ef=Math.PI,Bm=function(f,O,p,y,S){p===void 0&&(p=1),y===void 0&&(y=1),S===void 0&&(S=1);var Q=function(Ys){return 360*Ys/(2*ef)},x=function(Ys){return 2*ef*Ys/360};f=new Gc(f),O=new Gc(O);var P=Array.from(f.lab()),k=P[0],Y=P[1],V=P[2],N=Array.from(O.lab()),q=N[0],ee=N[1],K=N[2],ge=(k+q)/2,ve=Zi(tt(Y,2)+tt(V,2)),Se=Zi(tt(ee,2)+tt(K,2)),Te=(ve+Se)/2,mt=.5*(1-Zi(tt(Te,7)/(tt(Te,7)+tt(25,7)))),ct=Y*(1+mt),At=ee*(1+mt),$e=Zi(tt(ct,2)+tt(V,2)),M=Zi(tt(At,2)+tt(K,2)),he=($e+M)/2,ye=Q(Hc(V,ct)),me=Q(Hc(K,At)),yt=ye>=0?ye:ye+360,Me=me>=0?me:me+360,Qe=Kc(yt-Me)>180?(yt+Me+360)/2:(yt+Me)/2,Ue=1-.17*qr(x(Qe-30))+.24*qr(x(2*Qe))+.32*qr(x(3*Qe+6))-.2*qr(x(4*Qe-63)),We=Me-yt;We=Kc(We)<=180?We:Me<=yt?We+360:We-360,We=2*Zi($e*M)*Jc(x(We)/2);var Ye=q-k,ci=M-$e,ns=1+.015*tt(ge-50,2)/Zi(20+tt(ge-50,2)),rs=1+.045*he,bn=1+.015*he*Ue,wn=30*Im(-tt((Qe-275)/25,2)),_i=2*Zi(tt(he,7)/(tt(he,7)+tt(25,7))),Ws=-_i*Jc(2*x(wn)),Gn=Zi(tt(Ye/(p*ns),2)+tt(ci/(y*rs),2)+tt(We/(S*bn),2)+Ws*(ci/(y*rs))*(We/(S*bn)));return Lm(0,Em(100,Gn))},tf=Z,Nm=function(f,O,p){p===void 0&&(p="lab"),f=new tf(f),O=new tf(O);var y=f.get(p),S=O.get(p),Q=0;for(var x in y){var P=(y[x]||0)-(S[x]||0);Q+=P*P}return Math.sqrt(Q)},Fm=Z,Gm=function(){for(var f=[],O=arguments.length;O--;)f[O]=arguments[O];try{return new(Function.prototype.bind.apply(Fm,[null].concat(f))),!0}catch{return!1}},sf=G,nf=Qa,Hm={cool:function(){return nf([sf.hsl(180,1,.9),sf.hsl(250,.7,.4)])},hot:function(){return nf(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Mr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ta=0,rf=Object.keys(Mr);Ta<rf.length;Ta+=1){var of=rf[Ta];Mr[of.toLowerCase()]=Mr[of]}var Km=Mr,ht=G;ht.average=um,ht.bezier=vm,ht.blend=km,ht.cubehelix=zm,ht.mix=ht.interpolate=Cc,ht.random=Zm,ht.scale=Qa,ht.analyze=Nc.analyze,ht.contrast=Dm,ht.deltaE=Bm,ht.distance=Nm,ht.limits=Nc.limits,ht.valid=Gm,ht.scales=Hm,ht.colors=mc,ht.brewer=Km;var Jm=ht;return Jm})})(aO);var Ie=aO.exports;const pf=oO(Ie),De=(()=>(Ie.Color.symbol=Ie.Color.prototype.symbol=Symbol.for("@motion-canvas/core/types/Color"),Ie.Color.lerp=Ie.Color.prototype.lerp=(n,e,t,i="lch")=>{typeof n=="string"&&(n=new Ie.Color(n)),typeof e=="string"&&(e=new Ie.Color(e));const s=n instanceof Ie.Color,r=e instanceof Ie.Color;return s||(n=r?e.alpha(0):new Ie.Color("rgba(0, 0, 0, 0)")),r||(e=s?n.alpha(0):new Ie.Color("rgba(0, 0, 0, 0)")),Ie.mix(n,e,t,i)},Ie.Color.createLerp=Ie.Color.prototype.createLerp=n=>(e,t,i)=>Ie.Color.lerp(e,t,i,n),Ie.Color.createSignal=(n,e=Ie.Color.lerp)=>new ys(n,e,void 0,t=>new Ie.Color(t)).toSignal(),Ie.Color.prototype.toSymbol=()=>Ie.Color.symbol,Ie.Color.prototype.toUniform=function(n,e){n.uniform4fv(e,this.gl())},Ie.Color.prototype.serialize=function(){return this.css()},Ie.Color.prototype.lerp=function(n,e,t){return Ie.Color.lerp(this,n,e,t)},Ie.Color))();function q1(n,e){return b.fromDegrees(n).transform(e).degrees}function el(n,e){return b.magnitude(e.m11,e.m12)*n}class tl extends Gt{constructor(){super(...arguments),this.type=De.symbol}parse(e){return e===null?null:new De(e)}serialize(){var e;return((e=this.value.current)==null?void 0:e.serialize())??null}}class Hs extends Gt{constructor(e,t,i=(s=>(s=t[0])==null?void 0:s.value)()){super(e,i),this.options=t,this.type=Hs.symbol}set(e){var t;super.set((t=this.getOption(e))==null?void 0:t.value)}parse(e){var t;return(t=this.getOption(e))==null?void 0:t.value}getOption(e){return this.options.find(t=>t.value===e)??this.options[0]}}Hs.symbol=Symbol.for("@motion-canvas/core/meta/EnumMetaField");class M1 extends Gt{get onFieldsChanged(){return this.fields.subscribable}get options(){return this.optionFields[this.current]}constructor(e,t,i=0){var a,l;const s=t.plugins.flatMap(h=>{var c;return((c=h.exporters)==null?void 0:c.call(h,t))??[]}),r=s.map(h=>h.meta(t)),o=new Hs("exporter",s.map(h=>({value:h.id,text:h.displayName})),(a=s[i])==null?void 0:a.id);super(e,{name:o.get(),options:(l=r[i])==null?void 0:l.get()}),this.current=i,this.type=Object,this.handleChange=()=>{var u,d,g;const h=this.exporterField.get(),c=Math.max(this.exporters.findIndex(m=>m.id===h),0);this.current!==c&&((u=this.options)==null||u.onChanged.unsubscribe(this.handleChange),this.current=c,(d=this.options)==null||d.onChanged.subscribe(this.handleChange,!1),this.fields.current=this.options?[this.exporterField,this.options]:[this.exporterField]),this.value.current={name:this.exporterField.get(),options:((g=this.options)==null?void 0:g.get())??null}},this.exporters=s,this.exporterField=o,this.exporterField.onChanged.subscribe(this.handleChange,!1),this.exporterField.disable(r.length<2).space(),this.optionFields=r,this.fields=new $t([this.exporterField]),this.options&&(this.options.onChanged.subscribe(this.handleChange,!1),this.fields.current=[this.exporterField,this.options])}set(e){var t;this.exporterField.set(e.name),(t=this.options)==null||t.set(e.options??{})}serialize(){var e;return{name:this.exporterField.serialize(),options:((e=this.options)==null?void 0:e.serialize())??null}}clone(){return new this.constructor(this.name,this.exporters,this.current)}}var sr;class qt{constructor(e,t=!1){this.name=e,this.source=t,this.lock=new n1,this.ignoreChange=!1,this.cache=null,this.metaField=null,this.handleChanged=async()=>{}}attach(e){var t;this.metaField||(this.metaField=e,this.cache&&this.metaField.set(this.cache),(t=this.metaField)==null||t.onChanged.subscribe(this.handleChanged))}async saveData(e){if(this.source===!1)return;if(!this.source)throw new Error(`The meta file for ${this.name} is missing.`);if(sr.sourceLookup[this.source])throw new Error(`Metadata for ${this.name} is already being updated`);const t=this.source;await new Promise((i,s)=>{setTimeout(()=>{delete sr.sourceLookup[t],s(`Connection timeout when updating metadata for ${this.name}`)},1e3),sr.sourceLookup[t]=()=>{delete sr.sourceLookup[t],i()},(void 0).send("motion-canvas:meta",{source:t,data:e})})}loadData(e){var t;this.ignoreChange=!0,this.cache=e,(t=this.metaField)==null||t.set(e),this.ignoreChange=!1}}sr=qt;qt.sourceLookup={};class Ya extends Gt{constructor(){super(...arguments),this.type=Number,this.presets=[]}parse(e){let t=parseFloat(e);return this.min!==void 0&&t<this.min&&(t=this.min),this.max!==void 0&&t>this.max&&(t=this.max),t}getPresets(){return this.presets}setPresets(e){return this.presets=e,this}setRange(e,t){return this.min=e,this.max=t,this}getMin(){return this.min??-1/0}getMax(){return this.max??1/0}}class D1 extends Gt{get onFieldsChanged(){return this.event.subscribable}constructor(e,t){const i=new Map(Object.entries(t));super(e,Object.fromEntries(Array.from(i,([s,r])=>[s,r.get()]))),this.type=Object,this.ignoreChange=!1,this.customFields={},this.handleChange=()=>{this.ignoreChange||(this.value.current={...this.transform("get"),...this.customFields})},this.event=new $t([...i.values()]),this.fields=i;for(const[s,r]of this.fields)Object.defineProperty(this,s,{value:r}),r.onChanged.subscribe(this.handleChange)}set(e){this.ignoreChange=!0;for(const[t,i]of Object.entries(e)){const s=this.fields.get(t);s?s.set(i):this.customFields[t]=i}this.ignoreChange=!1,this.handleChange()}serialize(){return{...this.transform("serialize"),...this.customFields}}clone(){const e=new this.constructor(this.name,this.transform("clone"));return e.set(structuredClone(this.customFields)),e}transform(e){return Object.fromEntries(Array.from(this.fields,([i,s])=>[i,s[e]()]))}}const ds=D1;class Eo extends Gt{constructor(){super(...arguments),this.type=Eo.symbol}parse(e){return this.parseRange(1/0,e[0],e[1]??1/0)}update(e,t,i,s){this.value.current=this.parseRange(i/s-hr,e/s-hr,t/s-hr)}parseRange(e,t=this.value.current[0],i=this.value.current[1]){return t=ot(0,e,t),i=ot(0,e,i??1/0),t>i&&([t,i]=[i,t]),i>=e&&(i=1/0),[t,i]}}Eo.symbol=Symbol.for("@motion-canvas/core/meta/RangeMetaField");class lO extends Gt{constructor(){super(...arguments),this.type=b.symbol}parse(e){return new b(e)}serialize(){return this.value.current.serialize()}}const gf=[{value:.25,text:"0.25x (Quarter)"},{value:.5,text:"0.5x (Half)"},{value:1,text:"1.0x (Full)"},{value:2,text:"2.0x (Double)"}],E1=[{value:"srgb",text:"sRGB"},{value:"display-p3",text:"DCI-P3"}],mf=[{value:30,text:"30 FPS"},{value:60,text:"60 FPS"}];var ui;(function(n){n.Error="error",n.Warn="warn",n.Info="info",n.Http="http",n.Verbose="verbose",n.Debug="debug",n.Silly="silly"})(ui||(ui={}));class L1{constructor(){this.logged=new Ti,this.history=[],this.profilers={}}get onLogged(){return this.logged.subscribable}log(e){this.logged.dispatch(e),this.history.push(e)}error(e){this.logLevel(ui.Error,e)}warn(e){this.logLevel(ui.Warn,e)}info(e){this.logLevel(ui.Info,e)}http(e){this.logLevel(ui.Http,e)}verbose(e){this.logLevel(ui.Verbose,e)}debug(e){this.logLevel(ui.Debug,e)}silly(e){this.logLevel(ui.Silly,e)}logLevel(e,t){const i=typeof t=="string"?{message:t}:t;i.level=e,this.log(i)}profile(e,t){const i=performance.now();if(this.profilers[e]){const s=this.profilers[e];delete this.profilers[e];const r=t??{message:e};r.level??(r.level=ui.Debug),r.durationMs=i-s,this.log(r);return}this.profilers[e]=i}}function I1(n){const e={version:new Gt("version",1),shared:new ds("General",{background:new tl("background",null),range:new Eo("range",[0,1/0]),size:new lO("resolution",new b(1920,1080)),audioOffset:new Ya("audio offset",0)}),preview:new ds("Preview",{fps:new Ya("frame rate",30).setPresets(mf).setRange(1),resolutionScale:new Hs("scale",gf,1)}),rendering:new ds("Rendering",{fps:new Ya("frame rate",60).setPresets(mf).setRange(1),resolutionScale:new Hs("scale",gf,1),colorSpace:new Hs("color space",E1),exporter:new M1("exporter",n)})};return e.shared.audioOffset.disable(!n.audio),e}class B1 extends ds{constructor(e){super("project",I1(e))}getFullPreviewSettings(){return{...this.shared.get(),...this.preview.get()}}getFullRenderingSettings(){return{...this.shared.get(),...this.rendering.get()}}}function N1(){return new ds("Application Settings",{version:new Gt("version",1),appearance:new ds("Appearance",{color:new tl("accent color",new De("#33a6ff")).describe("The accent color for the user interface. (Leave empty to use the default color)"),font:new lf("legacy font",!1).describe("Use the 'JetBrains Mono' font for the user interface."),coordinates:new lf("coordinates",!0).describe("Display mouse coordinates within the preview window.")}),defaults:new ds("Defaults",{background:new tl("background",null).describe("The default background color used in new projects."),size:new lO("resolution",new b(1920,1080)).describe("The default resolution used in new projects.")})})}function F1(n,e,t,i,s,r,o=i.logger??new L1){const a=N1();r.attach(a);const l={name:n,...i,plugins:t,versions:e,settings:a,logger:o};return l.meta=new B1(l),l.meta.shared.set(a.defaults.get()),l.experimentalFeatures??(l.experimentalFeatures=!1),s.attach(l.meta),l}function G1(n,e,t){e==null&&(e=()=>{});const i=ps(),s=i.previous;i.previousOnTop=t??!1;const r=s==null?void 0:s.lifecycleEvents.onBeforeRender.subscribe(e),o=i.lifecycleEvents.onBeforeRender.subscribe(n);return i.enterInitial(),()=>{i.enterAfterTransitionIn(),r==null||r(),o()}}function*es(n=.6){const e=Ze(0),t=G1(i=>{i.globalAlpha=e()});yield*e(1,n),t()}let Hl;Hl??(Hl=new qt("project",!1));Hl.loadData({version:0,shared:{background:"rgba(0,0,0,0)",range:[0,null],size:{x:1920,y:1080},audioOffset:0},preview:{fps:60,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/ffmpeg",options:{fastStart:!0,includeAudio:!0}}}});const H1=Hl;function za(n,e,t){const i=t.split(`
`),s=i[i.length-1],r=Math.round(n.measureText(i[0]).width/e);let o=r,a=r;for(let l=1;l<i.length;l++){const h=i[l],c=Math.round(n.measureText(h).width/e);c>a&&(a=c)}return i.length>0&&(o=Math.round(n.measureText(s).width/e)),{content:t,newRows:i.length-1,endColumn:s.length,firstWidth:r,maxWidth:a,lastWidth:o}}function hO(n){return(n==null?void 0:n.content)!==void 0}function yf(n){return{before:n,after:n}}function vf(n,e,t){let i;return typeof n=="string"?i=yf(za(e,t,n)):hO(n)?i=yf(n):i={before:typeof n.before=="string"?za(e,t,n.before):n.before,after:typeof n.after=="string"?za(e,t,n.after):n.after},i}function cr(n){return{before:"",after:n}}function K1(n,e){return{before:n,after:e}}function Lr(n,...e){const t=[];for(let i=0;i<n.length;i++){t.push(n[i]);const s=e[i];s!==void 0&&(Array.isArray(s)?t.push(...s):t.push(s))}return t}function il(n){return(n==null?void 0:n.fragments)!==void 0}function J1(n){return typeof n=="string"?{progress:0,fragments:[n]}:Array.isArray(n)?{progress:0,fragments:n}:n}function Ks(n,e){let t="";const i=typeof e=="boolean"?e:e(n);for(const s of n.fragments)t+=Sn(s,i,e);return t}function Sn(n,e,t=e){const i=it(n);return typeof i=="string"?i:il(i)?Ks(i,t):hO(i)?i.content:Array.isArray(i)?Ks({progress:0,fragments:i},t):e?typeof i.after=="string"?i.after:i.after.content:typeof i.before=="string"?i.before:i.before.content}function bf(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function ey(n){return Array.isArray(n)&&n.length===2&&bf(n[0])&&bf(n[1])}function ty(n,e){return[[n,0],[e??n,1/0]]}function iy(n,e){const[t,i]=n,[[s,r],[o,a]]=e;return(t===s&&i>=r||t>s)&&(t===o&&i<a||t<o)}function Ca(n,e,t=1/0){typeof e=="string"&&(e=new RegExp(e,"g"));const i=n.matchAll(e),s=[];let r=0,o=0,a=0;for(const l of i){if(l.index===void 0||s.length>=t)continue;let h=[o,a];for(;r<=n.length;){if(r===l.index&&(h=[o,a]),r===l.index+l[0].length){s.push([h,[o,a]]);break}n[r]===`
`?(o++,a=0):a++,r++}}return s}function cO(n){return ey(n)?[n]:n}function sl(n,e){for(const t of e)if(iy(n,t))return!0;return!1}class sy{constructor(e){this.node=e,this.cursor=new b,this.beforeCursor=new b,this.afterCursor=new b,this.beforeIndex=0,this.afterIndex=0,this.context={},this.monoWidth=0,this.maxWidth=0,this.lineHeight=0,this.fallbackFill=new De("white"),this.caches=null,this.highlighter=null,this.selection=[],this.selectionProgress=null,this.globalProgress=[],this.fragmentDrawingInfo=[],this.fontHeight=0,this.verticalOffset=0}setupMeasure(e){const t=e.measureText("X");this.monoWidth=t.width,this.fontHeight=t.fontBoundingBoxDescent+t.fontBoundingBoxAscent,this.verticalOffset=t.fontBoundingBoxAscent,this.context=e,this.lineHeight=parseFloat(this.node.styles.lineHeight),this.cursor=new b,this.beforeCursor=new b,this.afterCursor=new b,this.beforeIndex=0,this.afterIndex=0,this.maxWidth=0}setupDraw(e){this.setupMeasure(e);const t=this.node.fill();this.fallbackFill=t instanceof De?t:new De("white"),this.caches=this.node.highlighterCache(),this.highlighter=this.node.highlighter(),this.selection=this.node.selection(),this.selectionProgress=this.node.selectionProgress(),this.fragmentDrawingInfo=[],this.globalProgress=[]}measureSize(e){const t=it(e.progress);for(const i of e.fragments){const s=it(i);if(il(s)){this.measureSize(s);continue}if(Array.isArray(s)){this.measureSize({progress:e.progress,fragments:s});continue}const r=vf(s,this.context,this.monoWidth),o=this.calculateMaxWidth(r.before),a=this.calculateMaxWidth(r.after),l=we(o,a,t);l>this.maxWidth&&(this.maxWidth=l);const h=this.calculateWidth(r.before),c=this.calculateWidth(r.after);this.cursor.x=we(h,c,t),this.cursor.y===0&&(this.cursor.y=1),this.cursor.y+=we(r.before.newRows,r.after.newRows,t)}}getSize(){return{x:this.maxWidth*this.monoWidth,y:this.cursor.y*this.lineHeight+this.verticalOffset}}getDrawingInfo(){return{fragments:this.fragmentDrawingInfo,verticalOffset:this.verticalOffset,fontHeight:this.fontHeight}}drawScope(e){const t=it(e.progress);for(const i of e.fragments){const s=it(i);if(il(s)){this.drawScope(s);continue}if(Array.isArray(s)){this.drawScope({progress:e.progress,fragments:s});continue}const r=vf(s,this.context,this.monoWidth),o=.8;let a=1,l=0;if(r.before.content!==r.after.content){const u=Math.abs(t-.5)*2;a=Y1(1,1-o,1,0,u);const d=r.after.newRows>r.before.newRows?1:-1,g=t<.5?1:-1,m=d*g*4;l=we(Math.abs(r.after.newRows-r.before.newRows)/m,0,u)}this.drawToken(r,e,this.cursor.addY(l),a),this.beforeCursor.x=this.calculateWidth(r.before,this.beforeCursor.x),this.afterCursor.x=this.calculateWidth(r.after,this.afterCursor.x),this.beforeCursor.y+=r.before.newRows,this.afterCursor.y+=r.after.newRows,this.beforeIndex+=r.before.content.length,this.afterIndex+=r.after.content.length,this.cursor.y+=we(r.before.newRows,r.after.newRows,t);const h=this.calculateWidth(r.before),c=this.calculateWidth(r.after);this.cursor.x=we(h,c,t)}}drawToken(e,t,i,s){var d,g;const r=it(t.progress),o=this.currentProgress();r>0&&this.globalProgress.push(r);const a=r<.5?e.before:e.after;let l=!0,h=0,c=0,u=0;for(let m=0;m<a.content.length;m++){let v=this.fallbackFill.serialize(),w=a.content.charAt(m);const X={before:null,after:null};if(w===`
`){u++,l=!1,h=0,c=0,X.before=null,X.after=null;continue}const R=this.caches&&((d=this.highlighter)==null?void 0:d.highlight(this.beforeIndex+m,this.caches.before)),_=this.caches&&((g=this.highlighter)==null?void 0:g.highlight(this.afterIndex+m,this.caches.after)),C=r<.5?R:_;if(C){e.before.content===e.after.content&&(R==null?void 0:R.color)!==(_==null?void 0:_.color)&&(C.color=De.lerp((R==null?void 0:R.color)??this.fallbackFill,(_==null?void 0:_.color)??this.fallbackFill,r).serialize()),C.color&&(v=C.color);let J=0;do{if(this.processSelection(X,J,l,c,u))break;J++}while(J<C.skipAhead&&a.content.charAt(m+J)!==`
`);J>1&&(w=a.content.slice(m,m+J)),m+=w.length-1}else{this.processSelection(X,0,l,c,u);let J=1;for(;m<a.content.length-1&&a.content.charAt(m+1)!==`
`&&!this.processSelection(X,J,l,c,u);)J++,w+=a.content.charAt(++m)}let D;const Z=X.after??0,L=X.before??0;e.before.content===""?D=Z:e.after.content===""?D=L:D=we(L,Z,this.selectionProgress??o);const G=this.context.measureText(w);this.fragmentDrawingInfo.push({text:w,position:new b((l?i.x+h:h)*this.monoWidth,(i.y+u)*this.lineHeight),cursor:new b(l?this.beforeCursor.x+c:c,this.beforeCursor.y+u),alpha:s,characterSize:new b(G.width/w.length,this.fontHeight),fill:v,time:D}),c+=w.length,h+=Math.round(G.width/this.monoWidth)}}calculateWidth(e,t=this.cursor.x){return e.newRows===0?t+e.lastWidth:e.lastWidth}calculateMaxWidth(e,t=this.cursor.x){return Math.max(this.maxWidth,e.maxWidth,t+e.firstWidth)}currentProgress(){if(this.globalProgress.length===0)return 0;let e=0;for(const t of this.globalProgress)e+=t;return e/this.globalProgress.length}processSelection(e,t,i,s,r){let o=!1,a=this.isSelected((i?this.beforeCursor.x+s:s)+t,this.beforeCursor.y+r);return e.before!==null&&e.before!==a?o=!0:e.before=a,a=this.isSelected((i?this.afterCursor.x+s:s)+t,this.afterCursor.y+r,!0),e.after!==null&&e.after!==a?o=!0:e.after=a,o}isSelected(e,t,i){const s=[t,e],r=sl(s,this.selection)?1:0;return this.node.oldSelection===null||this.selectionProgress===null||i?r:sl(s,this.node.oldSelection)?1:0}}function ny(n,e){function t(u,d,g){const m=new Map;for(let w=d;w<=g;w++){const X=u[w],R=m.get(X);R?(R.count++,R.index=w):m.set(X,{count:1,index:w})}const v=new Map;for(const[w,X]of m)X.count===1&&v.set(w,X.index);return v}function i(u,d,g,m,v,w){const X=t(u,d,g),R=t(m,v,w);return[...X.entries()].reduce((_,[C,D])=>{const Z=R.get(C);return Z!==void 0&&_.set(C,{aIndex:D,bIndex:Z}),_},new Map)}function s(u){const d=[];u.forEach(m=>{let v=0;for(;d[v]&&d[v].at(-1).bIndex<m.bIndex;)v++;v>0&&(m.prev=d[v-1].at(-1)),d[v]?d[v].push(m):d[v]=[m]});let g=[];if(d.length>0){g=[d.at(-1).at(-1)];let m=g.at(-1);for(;m!=null&&m.prev;)m=m.prev,g.push(m)}return g.reverse()}const r=[];let o=0,a=0;function l(u,d){d<0?o++:u<0&&a++,r.push({line:0<=u?n[u]:e[d],aIndex:u,bIndex:d,moved:!1})}function h(u,d,g,m){for(;u<=d&&g<=m&&n[u]===e[g];)l(u++,g++);const v=d;for(;u<=d&&g<=m&&n[d]===e[m];)d--,m--;const w=i(n,u,d,e,g,m);if(w.size===0){for(;u<=d;)l(u++,-1);for(;g<=m;)l(-1,g++)}else c(u,d,g,m,w);for(;d<v;)l(++d,++m)}function c(u,d,g,m,v=i(n,u,d,e,g,m)){const w=s(v);if(w.length===0)h(u,d,g,m);else{(u<w[0].aIndex||g<w[0].bIndex)&&h(u,w[0].aIndex-1,g,w[0].bIndex-1);let X;for(X=0;X<w.length-1;X++)h(w[X].aIndex,w[X+1].aIndex-1,w[X].bIndex,w[X+1].bIndex-1);(w[X].aIndex<=d||w[X].bIndex<=m)&&h(w[X].aIndex,d,w[X].bIndex,m)}}return c(0,n.length-1,0,e.length-1),{lines:r,lineCountDeleted:o,lineCountInserted:a}}function ry(n,e,t){const i=Ks(n,!1),s=Ks(e,!0),r=ny(t(i),t(s)),o=[];let a="",l="",h=!1;const c=()=>{(a!==""||l!=="")&&(o.push({before:a,after:l}),a="",l="")};for(const u of r.lines)u.aIndex===-1?(l!==""&&!h&&c(),h=!0,l+=u.line):u.bIndex===-1?(a!==""&&h&&c(),h=!1,a+=u.line):(c(),o.push(u.line));return c(),o}const wf={invert:{name:"invert"},sepia:{name:"sepia"},grayscale:{name:"grayscale"},brightness:{name:"brightness",default:1},contrast:{name:"contrast",default:1},saturate:{name:"saturate",default:1},hue:{name:"hue-rotate",unit:"deg",scale:1},blur:{name:"blur",transform:!0,unit:"px",scale:1}};class oy{get name(){return this.props.name}get default(){return this.props.default}constructor(e){this.props={name:"invert",default:0,unit:"%",scale:100,transform:!1,...e,value:e.value??e.default??0},this.value=Ze(this.props.value,we,this)}isActive(){return this.value()!==this.props.default}serialize(e){let t=this.value();return this.props.transform&&(t=el(t,e)),`${this.props.name}(${t*this.props.scale}${this.props.unit})`}}const Mi=Symbol.for("@motion-canvas/2d/decorators/initializers");function Ln(n,e){if(!n[Mi])n[Mi]=[];else if(n[Mi]&&!Object.prototype.hasOwnProperty.call(n,Mi)){const t=Object.getPrototypeOf(n);n[Mi]=[...t[Mi]]}n[Mi].push(e)}function ay(n,e){if(n[Mi])try{n[Mi].forEach(t=>t(n,e))}catch(t){throw t.inspect??(t.inspect=n.key),t}}function H(){return(n,e)=>{Ln(n,t=>{const i=Object.getPrototypeOf(t)[e];t[e]=j1(i.bind(t),t)})}}function nl(n={},e,t){const i={};if(t&&e){const s=n.setter??(e==null?void 0:e[`set${Fs(t)}`]);s&&(i.setter=s.bind(e));const r=n.getter??(e==null?void 0:e[`get${Fs(t)}`]);r&&(i.getter=r.bind(e));const o=n.tweener??(e==null?void 0:e[`tween${Fs(t)}`]);o&&(i.tweener=o.bind(e))}return i}const Di=Symbol.for("@motion-canvas/2d/decorators/properties");function an(n,e){var t;return((t=n[Di])==null?void 0:t[e])??null}function Lo(n,e){let t;return n[Di]?n[Di]&&!Object.prototype.hasOwnProperty.call(n,Di)?n[Di]=t=Object.fromEntries(Object.entries(n[Di]).map(([i,s])=>[i,{...s}])):t=n[Di]:n[Di]=t={},t[e]??(t[e]={cloneable:!0,inspectable:!0,compoundEntries:[]}),t[e]}function fO(n){return n&&typeof n=="object"?n[Di]??{}:{}}function Kl(n,e){ay(n);for(const[t,i]of Object.entries(fO(n))){const s=n[t];if(s.reset(),e[t]!==void 0&&s(e[t]),i.compoundEntries!==void 0)for(const[r,o]of i.compoundEntries)o in e&&s[r](e[o])}}function j(){return(n,e)=>{const t=Lo(n,e);Ln(n,i=>{var a;let s=t.default;const r=i[`getDefault${Fs(e)}`];r&&(s=()=>r.call(i,t.default));const o=new ys(s,t.interpolationFunction??sn,i,(a=t.parser)==null?void 0:a.bind(i),nl(t,i,e));i[e]=o.toSignal()})}}function E(n){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.default=n}}function Jl(n){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.interpolationFunction=n}}function $r(n){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.parser=n}}function ln(n){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.parser=s=>new n(s),"lerp"in n&&(i.interpolationFunction??(i.interpolationFunction=n.lerp))}}function $s(n=!0){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.cloneable=n}}function uO(n=!0){return(e,t)=>{const i=an(e,t);if(!i){Fe().error(`Missing property decorator for "${t.toString()}"`);return}i.inspectable=n}}function eh(n,e=Do){return(t,i)=>{const s=Lo(t,i);s.compound=!0,s.compoundEntries=Object.entries(n),Ln(t,r=>{if(!s.parser){Fe().error(`Missing parser decorator for "${i.toString()}"`);return}const o=s.default,a=s.parser.bind(r),l=new e(s.compoundEntries.map(([h,c])=>{const u=new ys(Gs(o,d=>a(d)[h]),we,r,void 0,nl(void 0,r,c)).toSignal();return[h,u]}),a,o,s.interpolationFunction??sn,r,nl(s,r,i));r[i]=l.toSignal()})}}function Ci(n){return(e,t)=>{eh(typeof n=="object"?n:{x:n?`${n}X`:"x",y:n?`${n}Y`:"y"},rO)(e,t),ln(b)(e,t)}}var Ss=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Ai{constructor(e){Kl(this,e)}canvasGradient(e){let t;switch(this.type()){case"linear":t=e.createLinearGradient(this.from.x(),this.from.y(),this.to.x(),this.to.y());break;case"conic":t=e.createConicGradient(this.angle(),this.from.x(),this.from.y());break;case"radial":t=e.createRadialGradient(this.from.x(),this.from.y(),this.fromRadius(),this.to.x(),this.to.y(),this.toRadius());break}for(const{offset:i,color:s}of this.stops())t.addColorStop(it(i),new De(it(s)).serialize());return t}}Ss([E("linear"),j()],Ai.prototype,"type",void 0);Ss([Ci("from")],Ai.prototype,"from",void 0);Ss([Ci("to")],Ai.prototype,"to",void 0);Ss([E(0),j()],Ai.prototype,"angle",void 0);Ss([E(0),j()],Ai.prototype,"fromRadius",void 0);Ss([E(0),j()],Ai.prototype,"toRadius",void 0);Ss([E([]),j()],Ai.prototype,"stops",void 0);Ss([H()],Ai.prototype,"canvasGradient",null);var th=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Sr{constructor(e){Kl(this,e)}canvasPattern(e){return e.createPattern(this.image(),this.repetition())}}th([j()],Sr.prototype,"image",void 0);th([E(null),j()],Sr.prototype,"repetition",void 0);th([H()],Sr.prototype,"canvasPattern",null);function ly(n){return n===null?null:n instanceof Ai||n instanceof Sr?n:new De(n)}function rl(n,e){return n===null?"":n instanceof De?n.serialize():n instanceof Ai?n.canvasGradient(e):n instanceof Sr?n.canvasPattern(e)??"":""}function xf(n,e,t,i,s){if(t.top===0&&t.right===0&&t.bottom===0&&t.left===0){hy(n,e);return}const r=hs(t.top,t.right,t.left,e),o=hs(t.right,t.top,t.bottom,e),a=hs(t.bottom,t.left,t.right,e),l=hs(t.left,t.bottom,t.top,e);if(i){const h=c=>{const u=c*s;return c-u};n.moveTo(e.left+r,e.top),n.lineTo(e.right-o,e.top),n.bezierCurveTo(e.right-h(o),e.top,e.right,e.top+h(o),e.right,e.top+o),n.lineTo(e.right,e.bottom-a),n.bezierCurveTo(e.right,e.bottom-h(a),e.right-h(a),e.bottom,e.right-a,e.bottom),n.lineTo(e.left+l,e.bottom),n.bezierCurveTo(e.left+h(l),e.bottom,e.left,e.bottom-h(l),e.left,e.bottom-l),n.lineTo(e.left,e.top+r),n.bezierCurveTo(e.left,e.top+h(r),e.left+h(r),e.top,e.left+r,e.top);return}n.moveTo(e.left+r,e.top),n.arcTo(e.right,e.top,e.right,e.bottom,o),n.arcTo(e.right,e.bottom,e.left,e.bottom,a),n.arcTo(e.left,e.bottom,e.left,e.top,l),n.arcTo(e.left,e.top,e.right,e.top,r)}function hs(n,e,t,i){const s=n+e>i.width?i.width*(n/(n+e)):n,r=n+t>i.height?i.height*(n/(n+t)):n;return Math.min(s,r)}function hy(n,e){n.rect(e.x,e.y,e.width,e.height)}function OO(n,e,t,i){i?n.drawImage(e,t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height):n.drawImage(e,t.x,t.y,t.width,t.height)}function Oi(n,e){n.moveTo(e.x,e.y)}function Ft(n,e){n.lineTo(e.x,e.y)}function Xi(n,e){if(!(e.length<2)){Oi(n,e[0]);for(const t of e.slice(1))Ft(n,t)}}function Io(n,e,t=8){Ft(n,e.addY(-t)),Ft(n,e.addY(t)),Ft(n,e),Ft(n,e.addX(-t)),fr(n,e,t)}function fr(n,e,t,i=0,s=Math.PI*2,r=!1){n.arc(e.x,e.y,t,i,s,r)}function dO(n,e,t,i){n.bezierCurveTo(e.x,e.y,t.x,t.y,i.x,i.y)}function pO(n,e,t){n.quadraticCurveTo(e.x,e.y,t.x,t.y)}function Lt(n){return e=>e instanceof n}function cy(n){var e;return!!((e=n.prototype)!=null&&e.isClass)}const fy=Symbol.for("@motion-canvas/2d/fragment");function uy(n,e,t){const{ref:i,children:s,...r}=e,o=Array.isArray(s)?s.flat():s;if(n===fy)return o;if(cy(n)){const a=new n({...r,children:o,key:t});return i==null||i(a),a}else return n({...r,ref:i,children:o,key:t})}function Oy(n,e){const t=n;return i=>uy(t,{...e,...i})}function gO(){return(n,e)=>{j()(n,e),$r(ly)(n,e),Jl(De.lerp)(n,e),E(null)(n,e)}}function mO(){return(n,e)=>{j()(n,e),ln(De)(n,e)}}function Qs(n,e=t=>t){return(t,i)=>{t[`getDefault${Fs(i)}`]=function(){this.requestLayoutUpdate();const s=this.element.style[n];this.element.style[n]="";const r=e.call(this,this.styles.getPropertyValue(n));return this.element.style[n]=s,r}}}class dy extends ys{constructor(e,t){super(e,sn,t);for(const i in wf){const s=wf[i];Object.defineProperty(this.invokable,i,{value:(r,o,a=Bt)=>{var h,c,u;if(r===void 0)return((c=(h=this.get())==null?void 0:h.find(d=>d.name===s.name))==null?void 0:c.value())??s.default??0;let l=(u=this.get())==null?void 0:u.find(d=>d.name===s.name);return l||(l=new oy(s),this.set([...this.get(),l])),o===void 0?(l.value(r),this.owner):l.value(r,o,a)}})}}*tweener(e,t,i){const s=this.get(),r=it(e);if(gy(s,r)){yield*z(...s.map((l,h)=>l.value(r[h].value(),t,i))),this.set(r);return}for(const l of r)l.value(l.default);const o=r.map(l=>l.value.context.raw()),a=s.length>0&&r.length>0?t/2:t;s.length>0&&(yield*z(...s.map(l=>l.value(l.default,a,i)))),this.set(r),r.length>0&&(yield*z(...r.map((l,h)=>l.value(o[h],a,i))))}}function py(){return(n,e)=>{const t=Lo(n,e);Ln(n,i=>{i[e]=new dy(t.default??[],i).toSignal()})}}function gy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t].name!==e[t].name)return!1;return!0}const my=Symbol.for("@motion-canvas/2d/nodeName");function Mt(n){return function(e){e.prototype[my]=n}}function ol(n,e){const t=ot(0,n.arcLength,e);let i=0;for(const s of n.segments){const r=i;if(i+=s.arcLength,i>=t){const o=(t-r)/s.arcLength;return s.getPoint(ot(0,1,o))}}return{position:b.zero,tangent:b.up,normal:b.up}}function Bo(n){return(e,t)=>{eh({top:n?`${n}Top`:"top",right:n?`${n}Right`:"right",bottom:n?`${n}Bottom`:"bottom",left:n?`${n}Left`:"left"})(e,t),ln(ei)(e,t)}}function yy(n){let e;return n?typeof n=="string"?e=[{fragment:n}]:Array.isArray(n)?e=n.map(t=>typeof t=="string"?{fragment:t}:t):e=[n]:e=[],!ps().experimentalFeatures&&e.length>0&&(e=[],Fe().log({...Gu("Node uses experimental shaders."),inspect:this.key})),e}function ho(){return ps()}var de=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},co;let le=co=class{get x(){return this.position.x}get y(){return this.position.y}getAbsolutePosition(){return new b(this.parentToWorld().transformPoint(this.position()))}setAbsolutePosition(e){this.position(Gs(e,t=>new b(t).transformAsPoint(this.worldToParent())))}getAbsoluteRotation(){const e=this.localToWorld();return b.degrees(e.m11,e.m12)}setAbsoluteRotation(e){this.rotation(Gs(e,t=>q1(t,this.worldToParent())))}getAbsoluteScale(){const e=this.localToWorld();return new b(b.magnitude(e.m11,e.m12),b.magnitude(e.m21,e.m22))}setAbsoluteScale(e){this.scale(Gs(e,t=>this.getRelativeScale(new b(t))))}getRelativeScale(e){var i;const t=((i=this.parent())==null?void 0:i.absoluteScale())??b.one;return e.div(t)}*tweenCompositeOperation(e,t,i){const s=it(e);s==="source-over"?(yield*this.compositeOverride(1,t,i),this.compositeOverride(0),this.compositeOperation(s)):(this.compositeOperation(s),this.compositeOverride(1),yield*this.compositeOverride(0,t,i))}absoluteOpacity(){var e;return(((e=this.parent())==null?void 0:e.absoluteOpacity())??1)*this.opacity()}hasFilters(){return!!this.filters().find(e=>e.isActive())}hasShadow(){return!!this.shadowColor()&&(this.shadowBlur()>0||this.shadowOffset.x()!==0||this.shadowOffset.y()!==0)}filterString(){let e="";const t=this.compositeToWorld();for(const i of this.filters())i.isActive()&&(e+=" "+i.serialize(t));return e}getSpawner(){return this.children()}setSpawner(e){this.children(e)}setChildren(e){if(this.children.context.raw()!==e){if(this.children.context.setter(e),!pi(e))this.spawnChildren(!1,e);else if(!this.hasSpawnedChildren)for(const t of this.realChildren)t.parent(null)}}getChildren(){return this.children.context.getter(),this.spawnedChildren()}spawnedChildren(){const e=this.children.context.getter();return pi(this.children.context.raw())&&this.spawnChildren(!0,e),this.realChildren}sortedChildren(){return[...this.children()].sort((e,t)=>Math.sign(e.zIndex()-t.zIndex()))}constructor({children:e,spawner:t,key:i,...s}){this.compositeOverride=Ze(0),this.stateStack=[],this.realChildren=[],this.hasSpawnedChildren=!1,this.parent=Ze(null),this.properties=fO(this);const r=ho();[this.key,this.unregister]=r.registerNode(this,i),this.view2D=r.getView(),this.creationStack=new Error().stack,Kl(this,s),t&&Fe().warn({message:"Node.spawner() has been deprecated.",remarks:"Use <code>Node.children()</code> instead.",inspect:this.key,stack:new Error().stack}),this.children(t??e)}localToWorld(){const e=this.parent();return e?e.localToWorld().multiply(this.localToParent()):this.localToParent()}worldToLocal(){return this.localToWorld().inverse()}worldToParent(){var e;return((e=this.parent())==null?void 0:e.worldToLocal())??new DOMMatrix}parentToWorld(){var e;return((e=this.parent())==null?void 0:e.localToWorld())??new DOMMatrix}localToParent(){const e=new DOMMatrix;return e.translateSelf(this.x(),this.y()),e.rotateSelf(0,0,this.rotation()),e.scaleSelf(this.scale.x(),this.scale.y()),e.skewXSelf(this.skew.x()),e.skewYSelf(this.skew.y()),e}compositeToWorld(){var e;return((e=this.compositeRoot())==null?void 0:e.localToWorld())??new DOMMatrix}compositeRoot(){var e;return this.composite()?this:((e=this.parent())==null?void 0:e.compositeRoot())??null}compositeToLocal(){const e=this.compositeRoot();if(e){const t=this.worldToLocal();return t.m44=1,e.localToWorld().multiply(t)}return new DOMMatrix}view(){return this.view2D}add(e){return this.insert(e,1/0)}insert(e,t=0){const i=Array.isArray(e)?e:[e];if(i.length===0)return this;const s=this.children(),r=s.slice(0,t);for(const o of i)o instanceof co&&(r.push(o),o.remove(),o.parent(this));return r.push(...s.slice(t)),this.setParsedChildren(r),this}remove(){const e=this.parent();return e===null?this:(e.removeChild(this),this.parent(null),this)}move(e=1){const t=this.parent();if(e===0||!t)return this;const i=t.children(),s=[];if(e>0)for(let r=0;r<i.length;r++){const o=i[r];if(o===this){const a=r+e;for(;r<a&&r+1<i.length;r++)s[r]=i[r+1]}s[r]=o}else for(let r=i.length-1;r>=0;r--){const o=i[r];if(o===this){const a=r+e;for(;r>a&&r>0;r--)s[r]=i[r-1]}s[r]=o}return t.setParsedChildren(s),this}moveUp(){return this.move(1)}moveDown(){return this.move(-1)}moveToTop(){return this.move(1/0)}moveToBottom(){return this.move(-1/0)}moveTo(e){const t=this.parent();if(!t)return this;const i=t.children().indexOf(this),s=e-i;return this.move(s)}moveBelow(e,t=!1){const i=this.parent();if(!i)return this;if(e.parent()!==i)return Fe().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const s=i.children(),r=s.indexOf(this),o=s.indexOf(e);if(!t&&r<o)return this;const a=o-r-1;return this.move(a)}moveAbove(e,t=!1){const i=this.parent();if(!i)return this;if(e.parent()!==i)return Fe().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const s=i.children(),r=s.indexOf(this),o=s.indexOf(e);if(!t&&r>o)return this;const a=o-r+1;return this.move(a)}reparent(e){const t=this.absolutePosition(),i=this.absoluteRotation(),s=this.absoluteScale();return e.add(this),this.absolutePosition(t),this.absoluteRotation(i),this.absoluteScale(s),this}removeChildren(){for(const e of this.realChildren)e.parent(null);return this.setParsedChildren([]),this}peekChildren(){return this.realChildren}findAll(e){const t=[],i=this.reversedChildren();for(;i.length>0;){const s=i.pop();e(s)&&t.push(s);const r=s.children();for(let o=r.length-1;o>=0;o--)i.push(r[o])}return t}findFirst(e){const t=this.reversedChildren();for(;t.length>0;){const i=t.pop();if(e(i))return i;const s=i.children();for(let r=s.length-1;r>=0;r--)t.push(s[r])}return null}findLast(e){const t=[],i=this.reversedChildren();for(;i.length>0;){const s=i.pop();t.push(s);const r=s.children();for(let o=r.length-1;o>=0;o--)i.push(r[o])}for(;t.length>0;){const s=t.pop();if(e(s))return s}return null}findAncestor(e){let t=this.parent();for(;t;){if(e(t))return t;t=t.parent()}return null}childAs(e){return this.children()[e]??null}childrenAs(){return this.children()}parentAs(){return this.parent()??null}dispose(){if(this.unregister){this.stateStack=[],this.unregister(),this.unregister=null;for(const{signal:e}of this)e==null||e.context.dispose();for(const e of this.realChildren)e.dispose()}}clone(e={}){const t={...e};pi(this.children.context.raw())?t.children??(t.children=this.children.context.raw()):this.children().length>0&&(t.children??(t.children=this.children().map(i=>i.clone())));for(const{key:i,meta:s,signal:r}of this)if(!(!s.cloneable||i in t))if(s.compound)for(const[o,a]of s.compoundEntries){if(a in t)continue;const l=r[o];l.context.isInitial()||(t[a]=l.context.raw())}else r.context.isInitial()||(t[i]=r.context.raw());return this.instantiate(t)}snapshotClone(e={}){const t={...this.getState(),...e};return this.children().length>0&&(t.children??(t.children=this.children().map(i=>i.snapshotClone()))),this.instantiate(t)}reactiveClone(e={}){const t={...e};this.children().length>0&&(t.children??(t.children=this.children().map(i=>i.reactiveClone())));for(const{key:i,meta:s,signal:r}of this)!s.cloneable||i in t||(t[i]=()=>r());return this.instantiate(t)}instantiate(e={}){return new this.constructor(e)}setParsedChildren(e){this.children.context.setter(e),this.realChildren=e}spawnChildren(e,t){const i=this.parseChildren(t),s=new Set;for(const r of i){const o=r.parent.context.raw();o&&o!==this&&o.removeChild(r),s.add(r.key),r.parent(this)}for(const r of this.realChildren)s.has(r.key)||r.parent(null);this.hasSpawnedChildren=e,this.realChildren=i}parseChildren(e){const t=[],i=Array.isArray(e)?e:[e];for(const s of i)s instanceof co&&t.push(s);return t}removeChild(e){this.setParsedChildren(this.children().filter(t=>t!==e))}requiresCache(){return this.cache()||this.opacity()<1||this.compositeOperation()!=="source-over"||this.hasFilters()||this.hasShadow()||this.shaders().length>0}cacheCanvas(){const e=document.createElement("canvas").getContext("2d");if(!e)throw new Error("Could not create a cache canvas");return e}cachedCanvas(){const e=this.cacheCanvas(),t=this.worldSpaceCacheBBox(),i=this.localToWorld();return e.canvas.width=t.width,e.canvas.height=t.height,e.setTransform(i.a,i.b,i.c,i.d,i.e-t.x,i.f-t.y),this.draw(e),e}getCacheBBox(){return new Oe}cacheBBox(){const e=this.getCacheBBox(),t=this.children(),i=this.cachePadding();if(t.length===0)return e.addSpacing(i);const s=e.corners;for(const o of t){const a=o.fullCacheBBox(),l=o.localToParent();s.push(...a.corners.map(h=>h.transformAsPoint(l)))}return Oe.fromPoints(...s).addSpacing(i)}fullCacheBBox(){const e=this.compositeToLocal(),t=this.shadowOffset().transform(e),i=el(this.shadowBlur(),e),s=this.cacheBBox().expand(this.filters.blur()*2+i);return t.x<0?(s.x+=t.x,s.width-=t.x):s.width+=t.x,t.y<0?(s.y+=t.y,s.height-=t.y):s.height+=t.y,s}worldSpaceCacheBBox(){const e=Oe.fromSizeCentered(this.view().size()).expand(this.view().cachePadding()),t=Oe.fromPoints(...e.transformCorners(this.view().localToWorld())),i=Oe.fromPoints(...this.cacheBBox().transformCorners(this.localToWorld())).pixelPerfect.expand(2);return t.intersection(i)}parentWorldSpaceCacheBBox(){var e;return((e=this.findAncestor(t=>t.requiresCache()))==null?void 0:e.worldSpaceCacheBBox())??new Oe(b.zero,ho().getRealSize())}setupDrawFromCache(e){if(e.globalCompositeOperation=this.compositeOperation(),e.globalAlpha*=this.opacity(),this.hasFilters()&&(e.filter=this.filterString()),this.hasShadow()){const i=this.compositeToWorld(),s=this.shadowOffset().transform(i),r=el(this.shadowBlur(),i);e.shadowColor=this.shadowColor().serialize(),e.shadowBlur=r,e.shadowOffsetX=s.x,e.shadowOffsetY=s.y}const t=this.worldToLocal();e.transform(t.a,t.b,t.c,t.d,t.e,t.f)}renderFromSource(e,t,i,s){this.setupDrawFromCache(e);const r=this.compositeOverride();e.drawImage(t,i,s),r>0&&(e.save(),e.globalAlpha*=r,e.globalCompositeOperation="source-over",e.drawImage(t,i,s),e.restore())}shaderCanvas(e,t){var u,d;const i=this.shaders();if(i.length===0)return null;const s=ho(),r=s.getRealSize(),o=this.parentWorldSpaceCacheBBox(),a=new DOMMatrix().scaleSelf(r.width/o.width,r.height/-o.height).translateSelf(o.x/-r.width,o.y/r.height-1),l=this.worldSpaceCacheBBox(),h=new DOMMatrix().scaleSelf(r.width/l.width,r.height/-l.height).translateSelf(l.x/-r.width,l.y/r.height-1).invertSelf(),c=s.shaders.getGL();s.shaders.copyTextures(e,t),s.shaders.clear();for(const g of i){const m=s.shaders.getProgram(g.fragment);if(m){if(g.uniforms)for(const[v,w]of Object.entries(g.uniforms)){const X=c.getUniformLocation(m,v);if(X===null)continue;const R=it(w);typeof R=="number"?c.uniform1f(X,R):"toUniform"in R?R.toUniform(c,X):R.length===1?c.uniform1f(X,R[0]):R.length===2?c.uniform2f(X,R[0],R[1]):R.length===3?c.uniform3f(X,R[0],R[1],R[2]):R.length===4&&c.uniform4f(X,R[0],R[1],R[2],R[3])}c.uniform1f(c.getUniformLocation(m,Of),this.view2D.globalTime()),c.uniform1i(c.getUniformLocation(m,Of),s.playback.frame),c.uniformMatrix4fv(c.getUniformLocation(m,S1),!1,h.toFloat32Array()),c.uniformMatrix4fv(c.getUniformLocation(m,Q1),!1,a.toFloat32Array()),(u=g.setup)==null||u.call(g,c,m),s.shaders.render(),(d=g.teardown)==null||d.call(g,c,m)}}return c.canvas}render(e){if(!(this.absoluteOpacity()<=0)){if(e.save(),this.transformContext(e),this.requiresCache()){const t=this.worldSpaceCacheBBox();if(t.width!==0&&t.height!==0){const i=this.cachedCanvas().canvas,s=this.shaderCanvas(e.canvas,i);s?this.renderFromSource(e,s,0,0):this.renderFromSource(e,i,t.position.x,t.position.y)}}else this.draw(e);e.restore()}}draw(e){this.drawChildren(e)}drawChildren(e){for(const t of this.sortedChildren())t.render(e)}drawOverlay(e,t){const i=this.cacheBBox().transformCorners(t),s=this.getCacheBBox().transformCorners(t);e.strokeStyle="white",e.lineWidth=1,e.beginPath(),Xi(e,i),e.closePath(),e.stroke(),e.strokeStyle="blue",e.beginPath(),Xi(e,s),e.closePath(),e.stroke()}transformContext(e){const t=this.localToParent();e.transform(t.a,t.b,t.c,t.d,t.e,t.f)}hit(e){let t=null;const i=e.transformAsPoint(this.localToParent().inverse()),s=this.children();for(let r=s.length-1;r>=0&&(t=s[r].hit(i),!t);r--);return t}collectAsyncResources(){for(const e of this.children())e.collectAsyncResources()}async toPromise(){do await Ve.consumePromises(),this.collectAsyncResources();while(Ve.hasPromises());return this}getState(){const e={};for(const{key:t,meta:i,signal:s}of this)!i.cloneable||t in e||(e[t]=s());return e}applyState(e,t,i=Bt){if(t===void 0)for(const r in e){const o=this.signalByKey(r);o&&o(e[r])}const s=[];for(const r in e){const o=this.signalByKey(r);e[r]!==o.context.raw()&&s.push(o(e[r],t,i))}return z(...s)}save(){this.stateStack.push(this.getState())}restore(e,t=Bt){const i=this.stateStack.pop();if(i!==void 0)return this.applyState(i,e,t)}*[Symbol.iterator](){for(const e in this.properties){const t=this.properties[e],i=this.signalByKey(e);yield{meta:t,signal:i,key:e}}}signalByKey(e){return this[e]}reversedChildren(){const e=this.children(),t=[];for(let i=e.length-1;i>=0;i--)t.push(e[i]);return t}};de([Ci()],le.prototype,"position",void 0);de([ln(b),$s(!1),j()],le.prototype,"absolutePosition",void 0);de([E(0),j()],le.prototype,"rotation",void 0);de([$s(!1),j()],le.prototype,"absoluteRotation",void 0);de([E(b.one),Ci("scale")],le.prototype,"scale",void 0);de([E(b.zero),Ci("skew")],le.prototype,"skew",void 0);de([ln(b),$s(!1),j()],le.prototype,"absoluteScale",void 0);de([E(0),j()],le.prototype,"zIndex",void 0);de([E(!1),j()],le.prototype,"cache",void 0);de([Bo("cachePadding")],le.prototype,"cachePadding",void 0);de([E(!1),j()],le.prototype,"composite",void 0);de([E("source-over"),j()],le.prototype,"compositeOperation",void 0);de([Ee()],le.prototype,"tweenCompositeOperation",null);de([E(1),$r(n=>ot(0,1,n)),j()],le.prototype,"opacity",void 0);de([H()],le.prototype,"absoluteOpacity",null);de([py()],le.prototype,"filters",void 0);de([E("#0000"),mO()],le.prototype,"shadowColor",void 0);de([E(0),j()],le.prototype,"shadowBlur",void 0);de([Ci("shadowOffset")],le.prototype,"shadowOffset",void 0);de([E([]),$r(yy),j()],le.prototype,"shaders",void 0);de([H()],le.prototype,"hasFilters",null);de([H()],le.prototype,"hasShadow",null);de([H()],le.prototype,"filterString",null);de([uO(!1),$s(!1),j()],le.prototype,"spawner",void 0);de([uO(!1),$s(!1),j()],le.prototype,"children",void 0);de([H()],le.prototype,"spawnedChildren",null);de([H()],le.prototype,"sortedChildren",null);de([H()],le.prototype,"localToWorld",null);de([H()],le.prototype,"worldToLocal",null);de([H()],le.prototype,"worldToParent",null);de([H()],le.prototype,"parentToWorld",null);de([H()],le.prototype,"localToParent",null);de([H()],le.prototype,"compositeToWorld",null);de([H()],le.prototype,"compositeRoot",null);de([H()],le.prototype,"compositeToLocal",null);de([H()],le.prototype,"cacheCanvas",null);de([H()],le.prototype,"cachedCanvas",null);de([H()],le.prototype,"cacheBBox",null);de([H()],le.prototype,"fullCacheBBox",null);de([H()],le.prototype,"worldSpaceCacheBBox",null);de([H()],le.prototype,"parentWorldSpaceCacheBBox",null);le=co=de([Mt("Node")],le);le.prototype.isClass=!0;var ie=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},fo;let A=fo=class extends le{get columnGap(){return this.gap.x}get rowGap(){return this.gap.y}getX(){return this.isLayoutRoot()?this.x.context.getter():this.computedPosition().x}setX(e){this.x.context.setter(e)}getY(){return this.isLayoutRoot()?this.y.context.getter():this.computedPosition().y}setY(e){this.y.context.setter(e)}get width(){return this.size.x}get height(){return this.size.y}getWidth(){return this.computedSize().width}setWidth(e){this.width.context.setter(e)}*tweenWidth(e,t,i,s){const r=this.desiredSize().x,o=typeof r!="number"||typeof e!="number";let a;o?a=this.size.x():a=r;let l;o?(this.size.x(e),l=this.size.x()):l=e,this.size.x(a),o&&this.lockSize(),yield*Ut(t,h=>this.size.x(s(a,l,i(h)))),this.size.x(e),o&&this.releaseSize()}getHeight(){return this.computedSize().height}setHeight(e){this.height.context.setter(e)}*tweenHeight(e,t,i,s){const r=this.desiredSize().y,o=typeof r!="number"||typeof e!="number";let a;o?a=this.size.y():a=r;let l;o?(this.size.y(e),l=this.size.y()):l=e,this.size.y(a),o&&this.lockSize(),yield*Ut(t,h=>this.size.y(s(a,l,i(h)))),this.size.y(e),o&&this.releaseSize()}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}*tweenSize(e,t,i,s){const r=this.desiredSize();let o;typeof r.x!="number"||typeof r.y!="number"?o=this.size():o=new b(r);let a;typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"?a=new b(e):(this.size(e),a=this.size()),this.size(o),this.lockSize(),yield*Ut(t,l=>this.size(s(o,a,i(l)))),this.releaseSize(),this.size(e)}cardinalPoint(e){switch(e){case Ke.TopLeft:return this.topLeft;case Ke.TopRight:return this.topRight;case Ke.BottomLeft:return this.bottomLeft;case Ke.BottomRight:return this.bottomRight;case Ke.Top:case Vt.Top:return this.top;case Ke.Bottom:case Vt.Bottom:return this.bottom;case Ke.Left:case Vt.Left:return this.left;case Ke.Right:case Vt.Right:return this.right;default:return this.middle}}constructor(e){super(e),this.element.dataset.motionCanvasKey=this.key}lockSize(){this.sizeLockCounter(this.sizeLockCounter()+1)}releaseSize(){this.sizeLockCounter(this.sizeLockCounter()-1)}parentTransform(){return this.findAncestor(Lt(fo))}anchorPosition(){const e=this.computedSize(),t=this.offset();return e.scale(.5).mul(t)}layoutEnabled(){var e;return this.layout()??((e=this.parentTransform())==null?void 0:e.layoutEnabled())??!1}isLayoutRoot(){var e;return!this.layoutEnabled()||!((e=this.parentTransform())!=null&&e.layoutEnabled())}localToParent(){const e=super.localToParent(),t=this.offset();if(!t.exactlyEquals(b.zero)){const i=this.size().mul(t).scale(-.5);e.translateSelf(i.x,i.y)}return e}scalingRotationMatrix(){const e=new DOMMatrix;e.rotateSelf(0,0,this.rotation()),e.scaleSelf(this.scale.x(),this.scale.y());const t=this.offset();if(!t.exactlyEquals(b.zero)){const i=this.size().mul(t).scale(-.5);e.translateSelf(i.x,i.y)}return e}getComputedLayout(){return new Oe(this.element.getBoundingClientRect())}computedPosition(){this.requestLayoutUpdate();const e=this.getComputedLayout(),t=new b(e.x+e.width/2*this.offset.x(),e.y+e.height/2*this.offset.y()),i=this.parentTransform();if(i){const s=i.getComputedLayout();t.x-=s.x+(s.width-e.width)/2,t.y-=s.y+(s.height-e.height)/2}return t}computedSize(){return this.requestLayoutUpdate(),this.getComputedLayout().size}requestLayoutUpdate(){const e=this.parentTransform();this.appendedToView()?(e==null||e.requestFontUpdate(),this.updateLayout()):e.requestLayoutUpdate()}appendedToView(){const e=this.isLayoutRoot();return e&&this.view().element.append(this.element),e}updateLayout(){if(this.applyFont(),this.applyFlex(),this.layoutEnabled()){const e=this.layoutChildren();for(const t of e)t.updateLayout()}}layoutChildren(){const e=[...this.children()],t=[],i=[];for(;e.length;){const s=e.shift();s instanceof fo?s.layoutEnabled()&&(t.push(s),i.push(s.element)):s&&e.unshift(...s.children())}return this.element.replaceChildren(...i),t}requestFontUpdate(){var e;this.appendedToView(),(e=this.parentTransform())==null||e.requestFontUpdate(),this.applyFont()}getCacheBBox(){return Oe.fromSizeCentered(this.computedSize())}draw(e){if(this.clip()){const t=this.computedSize();if(t.width===0||t.height===0)return;e.beginPath(),e.rect(t.width/-2,t.height/-2,t.width,t.height),e.closePath(),e.clip()}this.drawChildren(e)}drawOverlay(e,t){const i=this.computedSize(),s=i.mul(this.offset()).scale(.5).transformAsPoint(t),r=Oe.fromSizeCentered(i),o=r.transformCorners(t),a=r.addSpacing(this.padding().scale(-1)).transformCorners(t),l=r.addSpacing(this.margin()).transformCorners(t);e.beginPath(),Xi(e,l),Xi(e,o),e.closePath(),e.fillStyle="rgba(255,193,125,0.6)",e.fill("evenodd"),e.beginPath(),Xi(e,o),Xi(e,a),e.closePath(),e.fillStyle="rgba(180,255,147,0.6)",e.fill("evenodd"),e.beginPath(),Xi(e,o),e.closePath(),e.lineWidth=1,e.strokeStyle="white",e.stroke(),e.beginPath(),Io(e,s),e.stroke()}getOriginDelta(e){const t=this.computedSize().scale(.5),i=this.offset().mul(t);return e===Ke.Middle?i.flipped:Z1(e).mul(t).sub(i)}moveOffset(e){const t=this.computedSize().scale(.5),i=this.offset().mul(t),s=e.mul(t);this.offset(e),this.position(this.position().add(s).sub(i))}parsePixels(e){return e===null?"":`${e}px`}parseLength(e){return e===null?"":typeof e=="string"?e:`${e}px`}applyFlex(){this.element.style.position=this.isLayoutRoot()?"absolute":"relative";const e=this.desiredSize();this.element.style.width=this.parseLength(e.x),this.element.style.height=this.parseLength(e.y),this.element.style.maxWidth=this.parseLength(this.maxWidth()),this.element.style.minWidth=this.parseLength(this.minWidth()),this.element.style.maxHeight=this.parseLength(this.maxHeight()),this.element.style.minHeight=this.parseLength(this.minHeight()),this.element.style.aspectRatio=this.ratio()===null?"":this.ratio().toString(),this.element.style.marginTop=this.parsePixels(this.margin.top()),this.element.style.marginBottom=this.parsePixels(this.margin.bottom()),this.element.style.marginLeft=this.parsePixels(this.margin.left()),this.element.style.marginRight=this.parsePixels(this.margin.right()),this.element.style.paddingTop=this.parsePixels(this.padding.top()),this.element.style.paddingBottom=this.parsePixels(this.padding.bottom()),this.element.style.paddingLeft=this.parsePixels(this.padding.left()),this.element.style.paddingRight=this.parsePixels(this.padding.right()),this.element.style.flexDirection=this.direction(),this.element.style.flexBasis=this.parseLength(this.basis()),this.element.style.flexWrap=this.wrap(),this.element.style.justifyContent=this.justifyContent(),this.element.style.alignContent=this.alignContent(),this.element.style.alignItems=this.alignItems(),this.element.style.alignSelf=this.alignSelf(),this.element.style.columnGap=this.parseLength(this.gap.x()),this.element.style.rowGap=this.parseLength(this.gap.y()),this.sizeLockCounter()>0?(this.element.style.flexGrow="0",this.element.style.flexShrink="0"):(this.element.style.flexGrow=this.grow().toString(),this.element.style.flexShrink=this.shrink().toString())}applyFont(){if(this.element.style.fontFamily=this.fontFamily.isInitial()?"":this.fontFamily(),this.element.style.fontSize=this.fontSize.isInitial()?"":`${this.fontSize()}px`,this.element.style.fontStyle=this.fontStyle.isInitial()?"":this.fontStyle(),this.lineHeight.isInitial())this.element.style.lineHeight="";else{const e=this.lineHeight();this.element.style.lineHeight=typeof e=="string"?(parseFloat(e)/100).toString():`${e}px`}if(this.element.style.fontWeight=this.fontWeight.isInitial()?"":this.fontWeight().toString(),this.element.style.letterSpacing=this.letterSpacing.isInitial()?"":`${this.letterSpacing()}px`,this.element.style.textAlign=this.textAlign.isInitial()?"":this.textAlign(),this.textWrap.isInitial())this.element.style.whiteSpace="";else{const e=this.textWrap();typeof e=="boolean"?this.element.style.whiteSpace=e?"normal":"nowrap":this.element.style.whiteSpace=e}}dispose(){var e;super.dispose(),(e=this.sizeLockCounter)==null||e.context.dispose(),this.element&&(this.element.remove(),this.element.innerHTML=""),this.element=null,this.styles=null}hit(e){const t=e.transformAsPoint(this.localToParent().inverse());return this.cacheBBox().includes(t)?super.hit(e)??this:null}};ie([E(null),Jl(W1),j()],A.prototype,"layout",void 0);ie([E(null),j()],A.prototype,"maxWidth",void 0);ie([E(null),j()],A.prototype,"maxHeight",void 0);ie([E(null),j()],A.prototype,"minWidth",void 0);ie([E(null),j()],A.prototype,"minHeight",void 0);ie([E(null),j()],A.prototype,"ratio",void 0);ie([Bo("margin")],A.prototype,"margin",void 0);ie([Bo("padding")],A.prototype,"padding",void 0);ie([E("row"),j()],A.prototype,"direction",void 0);ie([E(null),j()],A.prototype,"basis",void 0);ie([E(0),j()],A.prototype,"grow",void 0);ie([E(1),j()],A.prototype,"shrink",void 0);ie([E("nowrap"),j()],A.prototype,"wrap",void 0);ie([E("start"),j()],A.prototype,"justifyContent",void 0);ie([E("normal"),j()],A.prototype,"alignContent",void 0);ie([E("stretch"),j()],A.prototype,"alignItems",void 0);ie([E("auto"),j()],A.prototype,"alignSelf",void 0);ie([E(0),Ci({x:"columnGap",y:"rowGap"})],A.prototype,"gap",void 0);ie([Qs("font-family"),j()],A.prototype,"fontFamily",void 0);ie([Qs("font-size",parseFloat),j()],A.prototype,"fontSize",void 0);ie([Qs("font-style"),j()],A.prototype,"fontStyle",void 0);ie([Qs("font-weight",parseInt),j()],A.prototype,"fontWeight",void 0);ie([Qs("line-height",parseFloat),j()],A.prototype,"lineHeight",void 0);ie([Qs("letter-spacing",n=>n==="normal"?0:parseFloat(n)),j()],A.prototype,"letterSpacing",void 0);ie([Qs("white-space",n=>n==="pre"?"pre":n==="normal"),j()],A.prototype,"textWrap",void 0);ie([E("inherit"),j()],A.prototype,"textDirection",void 0);ie([Qs("text-align"),j()],A.prototype,"textAlign",void 0);ie([E({x:null,y:null}),Ci({x:"width",y:"height"})],A.prototype,"size",void 0);ie([Ee()],A.prototype,"tweenWidth",null);ie([Ee()],A.prototype,"tweenHeight",null);ie([H()],A.prototype,"desiredSize",null);ie([Ee()],A.prototype,"tweenSize",null);ie([Ci("offset")],A.prototype,"offset",void 0);ie([ts(Ke.Middle)],A.prototype,"middle",void 0);ie([ts(Ke.Top)],A.prototype,"top",void 0);ie([ts(Ke.Bottom)],A.prototype,"bottom",void 0);ie([ts(Ke.Left)],A.prototype,"left",void 0);ie([ts(Ke.Right)],A.prototype,"right",void 0);ie([ts(Ke.TopLeft)],A.prototype,"topLeft",void 0);ie([ts(Ke.TopRight)],A.prototype,"topRight",void 0);ie([ts(Ke.BottomLeft)],A.prototype,"bottomLeft",void 0);ie([ts(Ke.BottomRight)],A.prototype,"bottomRight",void 0);ie([E(!1),j()],A.prototype,"clip",void 0);ie([E(0),j()],A.prototype,"sizeLockCounter",void 0);ie([H()],A.prototype,"parentTransform",null);ie([H()],A.prototype,"anchorPosition",null);ie([H()],A.prototype,"layoutEnabled",null);ie([H()],A.prototype,"isLayoutRoot",null);ie([H()],A.prototype,"scalingRotationMatrix",null);ie([H()],A.prototype,"computedPosition",null);ie([H()],A.prototype,"computedSize",null);ie([H()],A.prototype,"requestLayoutUpdate",null);ie([H()],A.prototype,"appendedToView",null);ie([H()],A.prototype,"updateLayout",null);ie([H()],A.prototype,"layoutChildren",null);ie([H()],A.prototype,"requestFontUpdate",null);ie([H()],A.prototype,"applyFlex",null);ie([H()],A.prototype,"applyFont",null);A=fo=ie([Mt("Layout")],A);function ts(n){return(e,t)=>{j()(e,t),$s(!1)(e,t);const i=an(e,t);i.parser=s=>new b(s),i.getter=function(){return this.computedSize().getOriginOffset(n).transformAsPoint(this.localToParent())},i.setter=function(s){return this.position(Gs(s,r=>this.getOriginDelta(n).transform(this.scalingRotationMatrix()).flipped.add(r))),this}}}Ln(A.prototype,n=>{n.element=document.createElement("div"),n.element.style.display="flex",n.element.style.boxSizing="border-box",n.styles=getComputedStyle(n.element)});var Kt=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let at=class extends A{rippleSize(){return z1(this.rippleStrength(),0,50)}constructor(e){super(e),this.rippleStrength=Ze(0)}applyText(e){e.direction=this.textDirection(),this.element.dir=this.textDirection()}applyStyle(e){e.fillStyle=rl(this.fill(),e),e.strokeStyle=rl(this.stroke(),e),e.lineWidth=this.lineWidth(),e.lineJoin=this.lineJoin(),e.lineCap=this.lineCap(),e.setLineDash(this.lineDash()),e.lineDashOffset=this.lineDashOffset(),this.antialiased()||(e.filter="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxmaWx0ZXIgaWQ9ImZpbHRlciIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jUiB0eXBlPSJpZGVudGl0eSIvPjxmZUZ1bmNHIHR5cGU9ImlkZW50aXR5Ii8+PGZlRnVuY0IgdHlwZT0iaWRlbnRpdHkiLz48ZmVGdW5jQSB0eXBlPSJkaXNjcmV0ZSIgdGFibGVWYWx1ZXM9IjAgMSIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48L2ZpbHRlcj48L3N2Zz4=#filter)")}draw(e){this.drawShape(e),this.clip()&&e.clip(this.getPath()),this.drawChildren(e)}drawShape(e){const t=this.getPath(),i=this.lineWidth()>0&&this.stroke()!==null,s=this.fill()!==null;e.save(),this.applyStyle(e),this.drawRipple(e),this.strokeFirst()?(i&&e.stroke(t),s&&e.fill(t)):(s&&e.fill(t),i&&e.stroke(t)),e.restore()}getCacheBBox(){return super.getCacheBBox().expand(this.lineWidth()/2)}getPath(){return new Path2D}getRipplePath(){return new Path2D}drawRipple(e){const t=this.rippleStrength();if(t>0){const i=this.getRipplePath();e.save(),e.globalAlpha*=we(.54,0,t),e.fill(i),e.restore()}}*ripple(e=1){this.rippleStrength(0),yield*this.rippleStrength(1,e,Ja),this.rippleStrength(0)}};Kt([gO()],at.prototype,"fill",void 0);Kt([gO()],at.prototype,"stroke",void 0);Kt([E(!1),j()],at.prototype,"strokeFirst",void 0);Kt([E(0),j()],at.prototype,"lineWidth",void 0);Kt([E("miter"),j()],at.prototype,"lineJoin",void 0);Kt([E("butt"),j()],at.prototype,"lineCap",void 0);Kt([E([]),j()],at.prototype,"lineDash",void 0);Kt([E(0),j()],at.prototype,"lineDashOffset",void 0);Kt([E(!0),j()],at.prototype,"antialiased",void 0);Kt([H()],at.prototype,"rippleSize",null);Kt([H()],at.prototype,"getPath",null);Kt([Ee()],at.prototype,"ripple",null);at=Kt([Mt("Shape")],at);var yi=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let St=class extends at{desiredSize(){return this.childrenBBox().size}constructor(e){super(e),this.canHaveSubpath=!1}percentageToDistance(e){return ot(0,this.baseArcLength(),this.startOffset()+this.offsetArcLength()*e)}distanceToPercentage(e){return(e-this.startOffset())/this.offsetArcLength()}baseArcLength(){return this.profile().arcLength}offsetArcLength(){const e=this.startOffset(),t=this.endOffset(),i=this.baseArcLength();return ot(0,i,i-e-t)}arcLength(){return this.offsetArcLength()*Math.abs(this.start()-this.end())}completion(){return Math.abs(this.start()-this.end())}processSubpath(e,t,i){}curveDrawingInfo(){const e=new Path2D;let t=new Path2D;const i=this.profile();let s=this.percentageToDistance(this.start()),r=this.percentageToDistance(this.end());s>r&&([s,r]=[r,s]);const o=r-s,a=Math.min(o/2,this.arrowSize());this.startArrow()&&(s+=a/2),this.endArrow()&&(r-=a/2);let l=0,h=null,c=null,u=null,d=null;for(const g of i.segments){const m=l;if(l+=g.arcLength,l<s)continue;const v=(s-m)/g.arcLength,w=(r-m)/g.arcLength,X=ot(0,1,v),R=ot(0,1,w);this.canHaveSubpath&&u&&!g.getPoint(0).position.equals(u)&&(e.addPath(t),this.processSubpath(t,h,u),t=new Path2D,h=null);const[_,C]=g.draw(t,X,R,h===null);if(h===null&&(h=_.position,c=_.normal.flipped.perpendicular),u=C.position,d=C.normal.flipped.perpendicular,l>r)break}return this.closed()&&this.start.isInitial()&&this.end.isInitial()&&this.startOffset.isInitial()&&this.endOffset.isInitial()&&t.closePath(),this.processSubpath(t,h,u),e.addPath(t),{startPoint:h??b.zero,startTangent:c??b.right,endPoint:u??b.zero,endTangent:d??b.right,arrowSize:a,path:e,startOffset:s}}getPointAtDistance(e){return ol(this.profile(),e+this.startOffset())}getPointAtPercentage(e){return ol(this.profile(),this.percentageToDistance(e))}getComputedLayout(){return this.offsetComputedLayout(super.getComputedLayout())}offsetComputedLayout(e){return e.position=e.position.sub(this.childrenBBox().center),e}getPath(){return this.curveDrawingInfo().path}getCacheBBox(){const e=this.childrenBBox(),t=this.startArrow()||this.endArrow()?this.arrowSize():0,i=this.lineWidth(),s=this.lineWidthCoefficient();return e.expand(Math.max(0,t,i*s))}lineWidthCoefficient(){return this.lineCap()==="square"?.5*1.4143:.5}requiresProfile(){return!this.start.isInitial()||!this.startOffset.isInitial()||!this.startArrow.isInitial()||!this.end.isInitial()||!this.endOffset.isInitial()||!this.endArrow.isInitial()}drawShape(e){super.drawShape(e),(this.startArrow()||this.endArrow())&&this.drawArrows(e)}drawArrows(e){const{startPoint:t,startTangent:i,endPoint:s,endTangent:r,arrowSize:o}=this.curveDrawingInfo();o<.001||(e.save(),e.beginPath(),this.endArrow()&&this.drawArrow(e,s,r.flipped,o),this.startArrow()&&this.drawArrow(e,t,i,o),e.fillStyle=rl(this.stroke(),e),e.closePath(),e.fill(),e.restore())}drawArrow(e,t,i,s){const r=i.perpendicular,o=t.add(i.scale(-s/2));Oi(e,o),Ft(e,o.add(i.add(r).scale(s))),Ft(e,o.add(i.sub(r).scale(s))),Ft(e,o),e.closePath()}};yi([E(!1),j()],St.prototype,"closed",void 0);yi([E(0),j()],St.prototype,"start",void 0);yi([E(0),j()],St.prototype,"startOffset",void 0);yi([E(!1),j()],St.prototype,"startArrow",void 0);yi([E(1),j()],St.prototype,"end",void 0);yi([E(0),j()],St.prototype,"endOffset",void 0);yi([E(!1),j()],St.prototype,"endArrow",void 0);yi([E(24),j()],St.prototype,"arrowSize",void 0);yi([H()],St.prototype,"arcLength",null);yi([H()],St.prototype,"curveDrawingInfo",null);St=yi([Mt("Curve")],St);class No{}class yO extends No{constructor(e,t,i,s,r){super(),this.center=e,this.radius=t,this.from=i,this.to=s,this.counter=r,this.angle=Math.acos(ot(-1,1,i.dot(s))),this.length=Math.abs(this.angle*t);const o=new b(1,1).scale(t);this.points=[e.sub(o),e.add(o)]}get arcLength(){return this.length}draw(e,t,i){const s=this.counter?-1:1,r=this.from.radians+t*this.angle*s,o=this.to.radians-(1-i)*this.angle*s;Math.abs(this.angle)>1e-4&&e.arc(this.center.x,this.center.y,this.radius,r,o,this.counter);const a=b.fromRadians(r),l=b.fromRadians(o);return[{position:this.center.add(a.scale(this.radius)),tangent:this.counter?a:a.flipped,normal:this.counter?a.flipped:a},{position:this.center.add(l.scale(this.radius)),tangent:this.counter?l.flipped:l,normal:this.counter?l.flipped:l}]}getPoint(e){const t=this.counter?-1:1,i=this.from.radians+e*this.angle*t,s=b.fromRadians(i);return{position:this.center.add(s.scale(this.radius)),tangent:this.counter?s:s.flipped,normal:this.counter?s:s.flipped}}}class Rt{static constant(e){return new Rt(e)}static linear(e,t){return new Rt(e,t)}static quadratic(e,t,i){return new Rt(e,t,i)}static cubic(e,t,i,s){return new Rt(e,t,i,s)}get degree(){return this.c3!==0?3:this.c2!==0?2:this.c1!==0?1:0}constructor(e,t,i,s){this.c0=e,this.c1=t??0,this.c2=i??0,this.c3=s??0}differentiate(e=1){switch(e){case 0:return this;case 1:return new Rt(this.c1,2*this.c2,3*this.c3,0);case 2:return new Rt(2*this.c2,6*this.c3,0,0);case 3:return new Rt(6*this.c3,0,0,0);default:throw new Error("Unsupported derivative")}}eval(e,t=0){return t!==0?this.differentiate(t).eval(e):this.c3*(e*e*e)+this.c2*(e*e)+this.c1*e+this.c0}split(e){const t=1-e,i=new Rt(this.c0,this.c1*e,this.c2*e*e,this.c3*e*e*e),s=new Rt(this.eval(0),t*this.differentiate(1).eval(e),t*t/2*this.differentiate(2).eval(e),t*t*t/6*this.differentiate(3).eval(e));return[i,s]}roots(){switch(this.degree){case 3:return this.solveCubicRoots();case 2:return this.solveQuadraticRoots();case 1:return this.solveLinearRoot();case 0:return[];default:throw new Error(`Unsupported polynomial degree: ${this.degree}`)}}localExtrema(){return this.differentiate().roots()}localExtrema01(){const e=this.localExtrema(),t=[];for(let i=0;i<e.length;i++){const s=e[i];s>=0&&s<=1&&t.push(e[i])}return t}outputRange01(){let e=[this.eval(0),this.eval(1)];const t=i=>{e[1]>e[0]?e=[Math.min(e[0],i),Math.max(e[1],i)]:e=[Math.min(e[1],i),Math.max(e[0],i)]};return this.localExtrema01().forEach(i=>t(this.eval(i))),e}solveCubicRoots(){const e=this.c0,t=this.c1,i=this.c2,s=this.c3,r=e*e,o=e*i,a=t*t,l=(3*o-a)/(3*r),h=(2*a*t-9*o*t+27*r*s)/(27*r*e),c=this.solveDepressedCubicRoots(l,h),u=d=>d-t/(3*e);switch(c.length){case 1:return[u(c[0])];case 2:return[u(c[0]),u(c[1])];case 3:return[u(c[0]),u(c[1]),u(c[2])];default:return[]}}solveDepressedCubicRoots(e,t){if(this.almostZero(e))return[Math.cbrt(-t)];const i=Math.PI*2,s=4*e*e*e+27*t*t;if(s<1e-5){const r=2*Math.sqrt(-e/3),o=3*t/(2*e)*Math.sqrt(-3/e),a=l=>r*Math.cos(1/3*Math.acos(ot(-1,1,o))-i/3*l);return o>=.9999?[a(0),a(2)]:o<=-.9999?[a(1),a(2)]:[a(0),a(1),a(2)]}if(s>0&&e<0){const r=.3333333333333333*Math.acosh(-3*Math.abs(t)/(2*e)*Math.sqrt(-3/e));return[-2*Math.sign(t)*Math.sqrt(-e/3)*Math.cosh(r)]}if(e>0){const r=.3333333333333333*Math.asinh(3*t/(2*e)*Math.sqrt(3/e));return[-2*Math.sqrt(e/3)*Math.sinh(r)]}return[]}solveQuadraticRoots(){const e=this.c2,t=this.c1,i=this.c0,s=t*t-4*e*i;if(this.almostZero(s))return[-t/(2*e)];if(s>=0){const r=Math.sqrt(s),o=(-t-r)/(2*e),a=(-t+r)/(2*e);return[Math.min(o,a),Math.max(o,a)]}return[]}solveLinearRoot(){return[-this.c0/this.c1]}almostZero(e){return Math.abs(0-e)<=Number.EPSILON}}class Xn{constructor(e,t,i,s){this.c0=e,this.c1=t,this.c2=i,this.c3=s,e instanceof Rt?(this.x=e,this.y=t):s!==void 0?(this.x=new Rt(e.x,t.x,i.x,s.x),this.y=new Rt(e.y,t.y,i.y,s.y)):(this.x=new Rt(e.x,t.x,i.x),this.y=new Rt(e.y,t.y,i.y))}eval(e,t=0){return new b(this.x.differentiate(t).eval(e),this.y.differentiate(t).eval(e))}split(e){const[t,i]=this.x.split(e),[s,r]=this.y.split(e);return[new Xn(t,s),new Xn(i,r)]}differentiate(e=1){return new Xn(this.x.differentiate(e),this.y.differentiate(e))}evalDerivative(e){return this.differentiate().eval(e)}getBounds(){const e=this.x.outputRange01(),t=this.y.outputRange01();return Oe.fromPoints(new b(Math.min(...e),Math.max(...t)),new b(Math.max(...e),Math.min(...t)))}}class vy{constructor(e,t=20){this.curve=e,this.sampledDistances=[],this.resample(t)}resample(e){this.sampledDistances=[0];let t=0,i=this.curve.eval(0).position;for(let s=1;s<e;s++){const r=s/(e-1),o=this.curve.eval(r),a=i.sub(o.position).magnitude;t+=a,this.sampledDistances.push(t),i=o.position}this.sampledDistances[this.sampledDistances.length-1]=this.curve.arcLength}pointAtDistance(e){return this.curve.eval(this.distanceToT(e))}distanceToT(e){const t=this.sampledDistances.length;e=ot(0,this.curve.arcLength,e);for(let i=0;i<t;i++){const s=this.sampledDistances[i],r=this.sampledDistances[i+1];if(e>=s&&e<=r)return sO(s,r,i/(t-1),(i+1)/(t-1),e)}return 1}}class vO extends No{get arcLength(){return this.length}constructor(e,t){super(),this.curve=e,this.length=t,this.pointSampler=new vy(this)}getBBox(){return this.curve.getBounds()}eval(e){const t=this.tangent(e);return{position:this.curve.eval(e),tangent:t,normal:t.perpendicular}}getPoint(e){const t=this.pointSampler.pointAtDistance(this.arcLength*e);return{position:t.position,tangent:t.tangent,normal:t.tangent.perpendicular}}transformPoints(e){return this.points.map(t=>t.transformAsPoint(e))}tangent(e){return this.curve.evalDerivative(e).normalized}draw(e,t=0,i=1,s=!0){let r=null,o=t,a=i,l=this.points;if(t!==0||i!==1){const u=this.length*t,d=this.length*i;o=this.pointSampler.distanceToT(u),a=this.pointSampler.distanceToT(d);const g=(a-o)/(1-o),[,m]=this.split(o);[r]=m.split(g),l=r.points}s&&Oi(e,l[0]),(r??this).doDraw(e);const h=this.tangent(o),c=this.tangent(a);return[{position:l[0],tangent:h,normal:h.perpendicular},{position:l.at(-1),tangent:c,normal:c.perpendicular}]}}var by=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Wt extends vO{get points(){return[this.p0,this.p1,this.p2,this.p3]}constructor(e,t,i,s){super(new Xn(e,e.flipped.add(t).scale(3),e.scale(3).sub(t.scale(6)).add(i.scale(3)),e.flipped.add(t.scale(3)).sub(i.scale(3)).add(s)),Wt.getLength(e,t,i,s)),this.p0=e,this.p1=t,this.p2=i,this.p3=s}split(e){const t=new b(this.p0.x+(this.p1.x-this.p0.x)*e,this.p0.y+(this.p1.y-this.p0.y)*e),i=new b(this.p1.x+(this.p2.x-this.p1.x)*e,this.p1.y+(this.p2.y-this.p1.y)*e),s=new b(this.p2.x+(this.p3.x-this.p2.x)*e,this.p2.y+(this.p3.y-this.p2.y)*e),r=new b(t.x+(i.x-t.x)*e,t.y+(i.y-t.y)*e),o=new b(i.x+(s.x-i.x)*e,i.y+(s.y-i.y)*e),a=new b(r.x+(o.x-r.x)*e,r.y+(o.y-r.y)*e),l=new Wt(this.p0,t,r,a),h=new Wt(a,o,s,this.p3);return[l,h]}doDraw(e){dO(e,this.p1,this.p2,this.p3)}static getLength(e,t,i,s){return Wt.el.setAttribute("d",`M ${e.x} ${e.y} C ${t.x} ${t.y} ${i.x} ${i.y} ${s.x} ${s.y}`),Wt.el.getTotalLength()}}by([En(()=>document.createElementNS("http://www.w3.org/2000/svg","path"))],Wt,"el",void 0);class Zt extends No{constructor(e,t){super(),this.from=e,this.to=t,this.vector=t.sub(e),this.length=this.vector.magnitude,this.normal=this.vector.perpendicular.normalized.safe,this.points=[e,t]}get arcLength(){return this.length}draw(e,t=0,i=1,s=!1){const r=this.from.add(this.vector.scale(t)),o=this.from.add(this.vector.scale(i));return s&&Oi(e,r),Ft(e,o),[{position:r,tangent:this.normal.flipped,normal:this.normal},{position:o,tangent:this.normal,normal:this.normal}]}getPoint(e){return{position:this.from.add(this.vector.scale(e)),tangent:this.normal.flipped,normal:this.normal}}}function wy(n,e,t,i){const s={arcLength:0,segments:[],minSin:1},r=hs(e.top,e.right,e.left,n),o=hs(e.right,e.top,e.bottom,n),a=hs(e.bottom,e.left,e.right,n),l=hs(e.left,e.bottom,e.top,n);let h=new b(n.left+r,n.top),c=new b(n.right-o,n.top);return Qn(s,new Zt(h,c)),h=new b(n.right,n.top+o),c=new b(n.right,n.bottom-a),o>0&&Ir(s,h.addX(-o),o,b.down,b.right,t,i),Qn(s,new Zt(h,c)),h=new b(n.right-a,n.bottom),c=new b(n.left+l,n.bottom),a>0&&Ir(s,h.addY(-a),a,b.right,b.up,t,i),Qn(s,new Zt(h,c)),h=new b(n.left,n.bottom-l),c=new b(n.left,n.top+r),l>0&&Ir(s,h.addX(l),l,b.up,b.left,t,i),Qn(s,new Zt(h,c)),h=new b(n.left+r,n.top),r>0&&Ir(s,h.addY(r),r,b.left,b.down,t,i),s}function Qn(n,e){n.segments.push(e),n.arcLength+=e.arcLength}function Ir(n,e,t,i,s,r,o){const a=e.add(i.scale(t)),l=e.add(s.scale(t));r?Qn(n,new Wt(a,a.add(s.scale(o*t)),l.add(i.scale(o*t)),l)):Qn(n,new yO(e,t,i,s,!1))}var Qr=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let pe=class extends St{constructor(e){super(e)}profile(){return wy(this.childrenBBox(),this.radius(),this.smoothCorners(),this.cornerSharpness())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(e){return e}childrenBBox(){return Oe.fromSizeCentered(this.computedSize())}getPath(){if(this.requiresProfile())return this.curveDrawingInfo().path;const e=new Path2D,t=this.radius(),i=this.smoothCorners(),s=this.cornerSharpness(),r=Oe.fromSizeCentered(this.size());return xf(e,r,t,i,s),e}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}getRipplePath(){const e=new Path2D,t=this.rippleSize(),i=this.radius().addScalar(t),s=this.smoothCorners(),r=this.cornerSharpness(),o=Oe.fromSizeCentered(this.size()).expand(t);return xf(e,o,i,s,r),e}};Qr([Bo("radius")],pe.prototype,"radius",void 0);Qr([E(!1),j()],pe.prototype,"smoothCorners",void 0);Qr([E(.6),j()],pe.prototype,"cornerSharpness",void 0);Qr([H()],pe.prototype,"profile",null);pe=Qr([Mt("Rect")],pe);var Xs=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class vi extends le{constructor({children:e,...t}){super(t),this.scene()||this.scene(new le({})),e&&this.scene().add(e)}getZoom(){return 1/this.scale.x()}setZoom(e){this.scale(Gs(e,t=>1/t))}getDefaultZoom(){return this.scale.x.context.getInitial()}*tweenZoom(e,t,i,s){const r=this.scale.x();yield*Ut(t,o=>{this.zoom(1/s(r,1/it(e),i(o)))})}*reset(e,t=Bt){yield*z(this.position(Os,e,t),this.zoom(Os,e,t),this.rotation(Os,e,t))}*centerOn(e,t,i=Bt,s=b.lerp){const r=e instanceof le?e.absolutePosition().transformAsPoint(this.scene().worldToLocal()):e;yield*this.position(r,t,i,s)}*followCurve(e,t,i=Bt){yield*Ut(t,s=>{const r=i(s),o=e.getPointAtPercentage(r).position.transformAsPoint(e.localToWorld());this.position(o)})}*followCurveReverse(e,t,i=Bt){yield*Ut(t,s=>{const r=1-i(s),o=e.getPointAtPercentage(r).position.transformAsPoint(e.localToWorld());this.position(o)})}*followCurveWithRotation(e,t,i=Bt){yield*Ut(t,s=>{const r=i(s),{position:o,normal:a}=e.getPointAtPercentage(r),l=o.transformAsPoint(e.localToWorld()),h=a.flipped.perpendicular.degrees;this.position(l),this.rotation(h)})}*followCurveWithRotationReverse(e,t,i=Bt){yield*Ut(t,s=>{const r=1-i(s),{position:o,normal:a}=e.getPointAtPercentage(r),l=o.transformAsPoint(e.localToWorld()),h=a.flipped.perpendicular.degrees;this.position(l),this.rotation(h)})}transformContext(e){const t=this.localToParent().inverse();e.transform(t.a,t.b,t.c,t.d,t.e,t.f)}hit(e){const t=e.transformAsPoint(this.localToParent());return this.scene().hit(t)}drawChildren(e){this.scene().drawChildren(e)}static Stage({children:e,cameraRef:t,scene:i,...s}){const r=new vi({scene:i,children:e});return t==null||t(r),new pe({clip:!0,...s,children:[r]})}}Xs([j()],vi.prototype,"scene",void 0);Xs([$s(!1),j()],vi.prototype,"zoom",void 0);Xs([Ee()],vi.prototype,"reset",null);Xs([Ee()],vi.prototype,"centerOn",null);Xs([Ee()],vi.prototype,"followCurve",null);Xs([Ee()],vi.prototype,"followCurveReverse",null);Xs([Ee()],vi.prototype,"followCurveWithRotation",null);Xs([Ee()],vi.prototype,"followCurveWithRotationReverse",null);var xy=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class di extends vO{get points(){return[this.p0,this.p1,this.p2]}constructor(e,t,i){super(new Xn(e,e.flipped.add(t).scale(2),e.sub(t.scale(2)).add(i)),di.getLength(e,t,i)),this.p0=e,this.p1=t,this.p2=i}split(e){const t=new b(this.p0.x+(this.p1.x-this.p0.x)*e,this.p0.y+(this.p1.y-this.p0.y)*e),i=new b(this.p1.x+(this.p2.x-this.p1.x)*e,this.p1.y+(this.p2.y-this.p1.y)*e),s=new b(t.x+(i.x-t.x)*e,t.y+(i.y-t.y)*e),r=new di(this.p0,t,s),o=new di(s,i,this.p2);return[r,o]}static getLength(e,t,i){return di.el.setAttribute("d",`M ${e.x} ${e.y} Q ${t.x} ${t.y} ${i.x} ${i.y}`),di.el.getTotalLength()}doDraw(e){pO(e,this.p1,this.p2)}}xy([En(()=>document.createElementNS("http://www.w3.org/2000/svg","path"))],di,"el",void 0);function $f(n){return n instanceof Wt}function $y(n,e,t,i){if(n.auto.start===0&&n.auto.end===0)return;const s=n.position.sub(e.position).magnitude,r=t.position.sub(n.position).magnitude,o=i*s/(s+r),a=i-o,l=new b(n.position.x-o*(t.position.x-e.position.x),n.position.y-o*(t.position.y-e.position.y)),h=new b(n.position.x+a*(t.position.x-e.position.x),n.position.y+a*(t.position.y-e.position.y));n.startHandle=n.startHandle.lerp(l,n.auto.start),n.endHandle=n.endHandle.lerp(h,n.auto.end)}function Sy(n){for(let e=0;e<n.segments.length;e++){const t=n.segments[e],i=n.segments[(e+1)%n.segments.length];if(!$f(t)||!$f(i))continue;const s=t.p2.sub(t.p3).normalized.safe,r=i.p1.sub(i.p0).normalized.safe,o=s.dot(r);if(!(1-Math.abs(o)>1e-4))continue;const l=Math.acos(ot(-1,1,o)),h=Math.sin(l/2);n.minSin=Math.min(n.minSin,Math.abs(h))}}function xn(n,e,t,i,s){const r=s!==void 0?new Wt(e,t,i,s):new di(e,t,i);n.segments.push(r),n.arcLength+=r.arcLength}function Qy(n,e,t){const i={segments:[],arcLength:0,minSin:1};if(n.length<2)return i;const s=n.length;for(let h=0;h<s;h++){const c=(h-1+s)%s,u=(h+1)%s;$y(n[h],n[c],n[u],t)}const r=n[0],o=n[1];!e&&r.auto.start===1&&r.auto.end===1?xn(i,r.position,o.startHandle,o.position):xn(i,r.position,r.endHandle,o.startHandle,o.position);for(let h=1;h<s-2;h++){const c=n[h],u=n[h+1];xn(i,c.position,c.endHandle,u.startHandle,u.position)}const a=n.at(-1),l=n.at(-2);return n.length>2&&(!e&&a.auto.start===1&&a.auto.end===1?xn(i,l.position,l.endHandle,a.position):xn(i,l.position,l.endHandle,a.startHandle,a.position)),e&&xn(i,a.position,a.endHandle,r.startHandle,r.position),Sy(i),i}var Xr=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},al;let Hi=al=class extends pe{constructor(e){super({composite:!0,fontFamily:"Roboto",fontSize:48,lineHeight:"120%",textWrap:!1,fontStyle:"normal",...e}),this.view2D=this,al.shadowRoot.append(this.element),this.applyFlex()}dispose(){this.removeChildren(),super.dispose()}render(e){this.computedSize(),this.computedPosition(),super.render(e)}findKey(e){return ho().getNode(e)??null}requestLayoutUpdate(){this.updateLayout()}requestFontUpdate(){this.applyFont()}view(){return this}};Xr([E(ms.Paused),j()],Hi.prototype,"playbackState",void 0);Xr([E(0),j()],Hi.prototype,"globalTime",void 0);Xr([j()],Hi.prototype,"assetHash",void 0);Xr([En(()=>{const n="motion-canvas-2d-frame";let e=document.querySelector(`#${n}`);return e||(e=document.createElement("div"),e.id=n,e.style.position="absolute",e.style.pointerEvents="none",e.style.top="0",e.style.left="0",e.style.opacity="0",e.style.overflow="hidden",document.body.prepend(e)),e.shadowRoot??e.attachShadow({mode:"open"})})],Hi,"shadowRoot",void 0);Hi=al=Xr([Mt("View2D")],Hi);var Xy=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Js extends No{constructor(e,t,i,s,r,o){super(),this.startPoint=e,this.radius=t,this.xAxisRotationDegree=i,this.largeArcFlag=s,this.sweepFlag=r,this.endPoint=o,this.xAxisRotation=this.xAxisRotationDegree*ls,this.radius=new b(Math.abs(t.x),Math.abs(t.y));const a=e.sub(o).div(2).transform(Ge.fromRotation(-i).domMatrix),l=a.x*a.x/(t.x*t.x)+a.y*a.y/(t.y*t.y);if(l>1){const g=Math.sqrt(l);t.x=g*t.x,t.y=g*t.y}const h=new b(t.ctg*a.y,t.perpendicular.ctg*a.x).scale(Math.sqrt(1/(a.x*a.x/(t.x*t.x)+a.y*a.y/(t.y*t.y))-1)*(s===r?-1:1));this.xAxisRotationMatrix=Ge.fromRotation(i).domMatrix,this.center=h.transform(this.xAxisRotationMatrix).add(e.add(o).div(2));const c=a.sub(h).div(t),u=a.scale(-1).sub(h).div(t);this.startAngle=c.radians,this.deltaAngle=b.angleBetween(c,u)%(Math.PI*2),this.sweepFlag===0&&this.deltaAngle>0&&(this.deltaAngle-=Math.PI*2),this.sweepFlag===1&&this.deltaAngle<0&&(this.deltaAngle+=Math.PI*2),Js.el.setAttribute("d",`M ${this.startPoint.x} ${this.startPoint.y} A ${this.radius.x} ${this.radius.y} ${this.xAxisRotationDegree} ${this.largeArcFlag} ${this.sweepFlag} ${this.endPoint.x} ${this.endPoint.y}`),this.length=Js.el.getTotalLength();const d=new Oe(Js.el.getBBox());this.points=[d.topLeft,d.bottomRight]}getAnglePosition(e){return this.radius.mul(b.fromRadians(e)).transform(this.xAxisRotationMatrix).add(this.center)}getAngleDerivative(e){return new b(-this.radius.x*Math.sin(e),this.radius.y*Math.cos(e)).transform(this.xAxisRotationMatrix)}draw(e,t,i,s){const r=this.startAngle+this.deltaAngle*t,o=this.startAngle+this.deltaAngle*i,a=this.getPoint(t),l=this.getPoint(i);return s&&e.moveTo(a.position.x,a.position.y),e.ellipse(this.center.x,this.center.y,this.radius.x,this.radius.y,this.xAxisRotation,r,o,this.sweepFlag===0),[a,l]}getPoint(e){const t=this.startAngle+e*this.deltaAngle,i=this.getAngleDerivative(t).normalized;return{position:e===0?this.startPoint:e===1?this.endPoint:this.getAnglePosition(t),tangent:i,normal:i.perpendicular}}get arcLength(){return this.length}}Xy([En(()=>{const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","path");return n.appendChild(e),Hi.shadowRoot.appendChild(n),e})],Js,"el",void 0);function Py(n,e,t,i,s=!1){const r={arcLength:0,minSin:1,segments:[]};if(t<e){const c=Math.floor((e-t)/(Math.PI*2))+1;t+=Math.PI*2*c}else if(t>e+Math.PI*2){const c=Math.floor((t-e)/(Math.PI*2));t-=Math.PI*2*c}const o=(e+t)/2,a=n.mul(b.fromRadians(e)),l=n.mul(b.fromRadians(t)),h=n.mul(b.fromRadians(o)).scale(s?-1:1);return i&&ll(r,new Zt(b.zero,a)),Sf(r,n,a,h,e,o,s),Sf(r,n,h,l,o,t,s),i&&ll(r,new Zt(l,b.zero)),r}function ll(n,e){n.segments.push(e),n.arcLength+=e.arcLength}function Sf(n,e,t,i,s,r,o){const a=Math.abs(s-r)<=180?1:0,l=s>r?0:1,h=o?0:1;ll(n,new Js(t,e,0,0,a^h^l,i))}function bO(n,e,t){const i={arcLength:0,segments:[],minSin:1};if(n.length===0)return i;if(t){const o=n[0].add(n[n.length-1]).scale(.5);n=[o,...n,o]}let s=n[0];for(let o=2;o<n.length;o++){const a=n[o-2],l=n[o-1],h=n[o],c=a.sub(l),u=h.sub(l),d=c.normalized.safe,g=u.normalized.safe,m=Math.acos(ot(-1,1,d.dot(g))),v=Math.tan(m/2),w=Math.sin(m/2),X=Math.min(e,v*c.magnitude*(o===2?1:.5),v*u.magnitude*(o===n.length-1?1:.5)),R=w===0?0:X/w,_=v===0?0:X/v,C=d.add(g).scale(1/2).normalized.safe.scale(R).add(l),D=d.perpendicular.dot(g)<0,Z=new Zt(s,l.add(d.scale(_))),L=new yO(C,X,d.perpendicular.scale(D?1:-1),g.perpendicular.scale(D?-1:1),D);Z.arcLength>0&&(i.segments.push(Z),i.arcLength+=Z.arcLength),L.arcLength>0&&(i.segments.push(L),i.arcLength+=L.arcLength),i.minSin=Math.min(i.minSin,Math.abs(w)),s=l.add(g.scale(_))}const r=new Zt(s,n[n.length-1]);return r.arcLength>0&&(i.segments.push(r),i.arcLength+=r.arcLength),i}var Pr=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let vs=class extends St{constructor(e){super(e)}profile(){return Py(this.size().scale(.5),this.startAngle()*ls,this.endAngle()*ls,this.closed(),this.counterclockwise())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(e){return e}childrenBBox(){return Oe.fromSizeCentered(this.computedSize())}getPath(){return this.requiresProfile()?this.curveDrawingInfo().path:this.createPath()}getRipplePath(){return this.createPath(this.rippleSize())}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}createPath(e=0){const t=new Path2D,i=this.startAngle()*ls;let s=this.endAngle()*ls;const r=this.size().scale(.5).add(e),o=this.closed();if(s>i+Math.PI*2){const a=Math.floor((s-i)/(Math.PI*2));s-=Math.PI*2*a}return o&&t.moveTo(0,0),t.ellipse(0,0,r.x,r.y,0,i,s,this.counterclockwise()),o&&t.closePath(),t}};Pr([E(0),j()],vs.prototype,"startAngle",void 0);Pr([E(360),j()],vs.prototype,"endAngle",void 0);Pr([E(!1),j()],vs.prototype,"counterclockwise",void 0);Pr([H()],vs.prototype,"profile",null);vs=Pr([Mt("Circle")],vs);var Ps=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let zt=class extends at{static createSignal(e,t){return new hl(e,void 0,t).toSignal()}setDrawHooks(e){!ps().experimentalFeatures&&e!==this.drawHooks.context.getInitial()?Fe().log({...Gu("Code uses experimental draw hooks."),inspect:this.key}):this.drawHooks.context.setter(e)}*tweenSelection(e,t,i){this.oldSelection=this.selection(),this.selection(e),this.selectionProgress(0),yield*this.selectionProgress(1,t,i),this.selectionProgress(null),this.oldSelection=null}parsed(){return Ks(this.code(),e=>it(e.progress)>.5)}highlighterCache(){const e=this.highlighter();if(!e||!e.initialize())return null;const t=this.code(),i=Ks(t,!1),s=Ks(t,!0);return{before:e.prepare(i),after:e.prepare(s)}}get cursor(){return this.cursorCache??(this.cursorCache=new sy(this)),this.cursorCache}constructor(e){super({fontFamily:"monospace",...e}),this.oldSelection=null,this.selectionProgress=Ze(null)}createSignal(e){return new hl(e,this,this.highlighter).toSignal()}findAllRanges(e){return Ca(this.parsed(),e)}findFirstRange(e){return Ca(this.parsed(),e,1)[0]??[[0,0],[0,0]]}findLastRange(e){return Ca(this.parsed(),e).at(-1)??[[0,0],[0,0]]}getPointBBox(e){const[t,i]=e,s=this.drawingInfo();let r;for(const a of s.fragments){if(a.cursor.y<t){r=a;continue}if(a.cursor.y===t&&a.cursor.x<i){r=a;continue}break}if(!r)return new Oe;const o=this.computedSize();return new Oe(r.position.sub(o.scale(.5)).addX(r.characterSize.x*(i-r.cursor.x)),r.characterSize)}getSelectionBBox(e){const t=this.computedSize(),i=cO(e),s=this.drawingInfo(),r=[];let o=null,a=0,l=0;for(const h of s.fragments){h.cursor.y!==a&&(a=h.cursor.y,o&&(r.push(o),o=null)),l=h.cursor.x;for(let c=0;c<h.text.length;c++){if(sl([a,l],i)){const u=new Oe(h.position.sub(t.scale(.5)).addX(h.characterSize.x*(l-h.cursor.x)),h.characterSize);o?o=o.union(u):o=u}else o&&(r.push(o),o=null);l++}}return o&&r.push(o),r}drawingInfo(){this.requestFontUpdate();const e=this.cacheCanvas(),t=this.code();e.save(),this.applyStyle(e),this.applyText(e),this.cursor.setupDraw(e),this.cursor.drawScope(t);const i=this.cursor.getDrawingInfo();return e.restore(),i}desiredSize(){this.requestFontUpdate();const e=this.cacheCanvas(),t=this.code();e.save(),this.applyStyle(e),this.applyText(e),this.cursor.setupMeasure(e),this.cursor.measureSize(t);const i=this.cursor.getSize();return e.restore(),i}draw(e){this.requestFontUpdate(),this.applyStyle(e),this.applyText(e);const t=this.computedSize(),i=this.drawingInfo();e.save(),e.translate(-t.width/2,-t.height/2+i.verticalOffset);const s=this.drawHooks();for(const r of i.fragments)e.save(),e.globalAlpha*=r.alpha,s.token(e,r.text,r.position,r.fill,r.time),e.restore();e.restore(),this.drawChildren(e)}applyText(e){super.applyText(e),e.font=this.styles.font,e.textBaseline="top","letterSpacing"in e&&(e.letterSpacing=this.styles.letterSpacing)}collectAsyncResources(){var e;super.collectAsyncResources(),(e=this.highlighter())==null||e.initialize()}};zt.defaultHighlighter=null;Ps([E(()=>zt.defaultHighlighter),j()],zt.prototype,"highlighter",void 0);Ps([Ey()],zt.prototype,"code",void 0);Ps([E({token(n,e,t,i,s){n.fillStyle=i,n.globalAlpha*=we(.2,1,s),n.fillText(e,t.x,t.y)}}),j()],zt.prototype,"drawHooks",void 0);Ps([E(ty(0,1/0)),$r(cO),j()],zt.prototype,"selection",void 0);Ps([H()],zt.prototype,"parsed",null);Ps([H()],zt.prototype,"highlighterCache",null);Ps([H()],zt.prototype,"drawingInfo",null);zt=Ps([Mt("CodeBlock")],zt);var Fo=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let zn=class extends at{constructor(e){super(e)}drawShape(e){e.save(),this.applyStyle(e),this.drawRipple(e);const t=this.spacing(),i=this.computedSize().scale(.5),s=i.div(t).floored;for(let r=-s.x;r<=s.x;r++){const[o,a]=this.mapPoints(-i.height,i.height);e.beginPath(),e.moveTo(t.x*r,o),e.lineTo(t.x*r,a),e.stroke()}for(let r=-s.y;r<=s.y;r++){const[o,a]=this.mapPoints(-i.width,i.width);e.beginPath(),e.moveTo(o,t.y*r),e.lineTo(a,t.y*r),e.stroke()}e.restore()}mapPoints(e,t){let i=we(e,t,this.start()),s=we(e,t,this.end());return s<i&&([i,s]=[s,i]),[i,s]}};Fo([E(80),Ci("spacing")],zn.prototype,"spacing",void 0);Fo([E(0),j()],zn.prototype,"start",void 0);Fo([E(1),j()],zn.prototype,"end",void 0);zn=Fo([Mt("Grid")],zn);var ks=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},uo;let Re=uo=class extends pe{constructor(e){super(e),"src"in e||Fe().warn({message:"No source specified for the image",remarks:`<p>The image won&#39;t be visible unless you specify a source:</p>
<pre class=""><code class="language-tsx"><span class="hljs-keyword">import</span> myImage <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./example.png&#x27;</span>;
<span class="hljs-comment">// ...</span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{myImage}</span> /&gt;</span></span>;</code></pre><p>If you did this intentionally, and don&#39;t want to see this warning, set the <code>src</code>
property to <code>null</code>:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Img</span> src={<span class="hljs-literal">null</span>} /&gt;</code></pre><p><a href='https://motioncanvas.io/docs/media#images' target='_blank'>Learn more</a> about working with
images.</p>
`,inspect:this.key})}desiredSize(){const e=super.desiredSize();if(e.x===null&&e.y===null){const t=this.image();return{x:t.naturalWidth,y:t.naturalHeight}}return e}image(){const e=this.src();let t="",i="";if(e){i=c1(e);const r=new URL(i,window.location.origin);if(r.origin===window.location.origin){const o=this.view().assetHash();r.searchParams.set("asset-hash",o)}t=r.toString()}let s=uo.pool[i];return s||(s=document.createElement("img"),s.crossOrigin="anonymous",s.src=t,uo.pool[i]=s),s.complete||Ve.collectPromise(new Promise((r,o)=>{s.addEventListener("load",r),s.addEventListener("error",()=>o(new Il({message:"Failed to load an image",remarks:`The <code>src</code> property was set to:
<pre><code>${e}</code></pre>
...which resolved to the following url:
<pre><code>${t}</code></pre>
Make sure that source is correct and that the image exists.<br/>
<a target='_blank' href='https://motioncanvas.io/docs/media#images'>Learn more</a>
about working with images.`,inspect:this.key})))})),s}imageCanvas(){const e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});if(!e)throw new Error("Could not create an image canvas");return e}filledImageCanvas(){const e=this.imageCanvas(),t=this.image();return e.canvas.width=t.naturalWidth,e.canvas.height=t.naturalHeight,e.imageSmoothingEnabled=this.smoothing(),e.drawImage(t,0,0),e}draw(e){this.drawShape(e);const t=this.alpha();if(t>0){const i=Oe.fromSizeCentered(this.computedSize());e.save(),e.clip(this.getPath()),t<1&&(e.globalAlpha*=t),e.imageSmoothingEnabled=this.smoothing(),OO(e,this.image(),i),e.restore()}this.clip()&&e.clip(this.getPath()),this.drawChildren(e)}applyFlex(){super.applyFlex();const e=this.image();this.element.style.aspectRatio=(this.ratio()??e.naturalWidth/e.naturalHeight).toString()}getColorAtPoint(e){const t=this.computedSize(),i=this.naturalSize(),s=new b(e).add(this.computedSize().scale(.5)).mul(i.div(t).safe);return this.getPixelColor(s)}naturalSize(){const e=this.image();return new b(e.naturalWidth,e.naturalHeight)}getPixelColor(e){const t=this.filledImageCanvas(),i=new b(e),s=t.getImageData(i.x,i.y,1,1).data;return new De({r:s[0],g:s[1],b:s[2],a:s[3]/255})}collectAsyncResources(){super.collectAsyncResources(),this.image()}};Re.pool={};ks([j()],Re.prototype,"src",void 0);ks([E(1),j()],Re.prototype,"alpha",void 0);ks([E(!0),j()],Re.prototype,"smoothing",void 0);ks([H()],Re.prototype,"image",null);ks([H()],Re.prototype,"imageCanvas",null);ks([H()],Re.prototype,"filledImageCanvas",null);ks([H()],Re.prototype,"naturalSize",null);Re=uo=ks([Mt("Img")],Re);var ih=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class zi extends Re{constructor(e){super({...e,src:null})}svgUrl(){const e=this.icon().replace(":","/"),t=encodeURIComponent(this.color().hex());return`https://api.iconify.design/${e}.svg?color=${t}`}getSrc(){return this.svgUrl()}setSrc(e){e!==null&&Fe().warn("The Icon Component does not accept setting the `src`. If you need access to `src`, use '<Img/>` instead.")}}ih([j()],zi.prototype,"icon",void 0);ih([E("white"),mO()],zi.prototype,"color",void 0);ih([H()],zi.prototype,"svgUrl",null);var Go=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class kr extends le{get startHandleAuto(){return this.auto.startHandle}get endHandleAuto(){return this.auto.endHandle}constructor(e){super(e.startHandle===void 0&&e.endHandle===void 0?{auto:1,...e}:e)}points(){const e=!this.startHandle.isInitial()||!this.endHandle.isInitial(),t=e?this.startHandle():b.zero,i=e?this.endHandle():b.zero;return{position:this.position(),startHandle:t.transformAsPoint(this.localToParent()),endHandle:i.transformAsPoint(this.localToParent()),auto:{start:this.startHandleAuto(),end:this.endHandleAuto()}}}getDefaultEndHandle(){return this.startHandle().flipped}getDefaultStartHandle(){return this.endHandle().flipped}}Go([ln(b),j()],kr.prototype,"startHandle",void 0);Go([ln(b),j()],kr.prototype,"endHandle",void 0);Go([$s(!1),E(()=>({startHandle:0,endHandle:0})),$r(n=>typeof n=="object"&&!Array.isArray(n)?n:(typeof n=="number"&&(n=[n,n]),{startHandle:n[0],endHandle:n[1]})),eh({startHandle:"startHandleAuto",endHandle:"endHandleAuto"})],kr.prototype,"auto",void 0);Go([H()],kr.prototype,"points",null);function ky(n,e){for(let t=0;t<n.length-1;t++){const i=n[t];let s=n[t+1];for(;i.sub(s).magnitude>e;)s=b.lerp(i,s,.5),n.splice(t+1,0,s)}}function Ty(n,e){const t=[];let i=null;for(const s of n.segments){if(!(s instanceof Zt))return null;t.push(s.from),i=s.to}return i&&t.push(i),!Number.isNaN(e)&&e>0&&ky(t,e),t}function Ry(n){return n.reduce((e,t,i)=>{const s=n[(i+1)%n.length];return e+(t.y*s.x-t.x*s.y)},0)/2}function Uy(n,e){const t=[];let i=3;!Number.isNaN(e)&&e>0&&(i=Math.max(i,Math.ceil(n.arcLength/e)));for(let s=0;s<i;s+=1){const r=ol(n,n.arcLength*(s/(i-1)));t.push(r.position)}return Ry(t)>0&&t.reverse(),t}function Qf(n){if(n.segments.length===0)return[];let e={arcLength:0,minSin:0,segments:[],closed:!1},t=null;const i=[e];for(const s of n.segments){const r=s.getPoint(0).position;t&&!r.equals(t)&&(e={arcLength:0,minSin:0,segments:[],closed:!1},i.push(e)),e.segments.push(s),e.arcLength+=s.arcLength,t=s.getPoint(1).position}for(const s of i)s.closed=s.segments[0].getPoint(0).position.equals(s.segments[s.segments.length-1].getPoint(1).position);return i}function Xf(n,e){return{points:[...Ty(n,e)||Uy(n,e)],closed:n.closed}}function wO(n){return n.reduce((e,t,i)=>i?e+n[i-1].sub(t).magnitude:0,0)}function Pf(n,e){const t=n.length+e,i=wO(n)/e;let s=0,r=0,o=i/2;for(;n.length<t;){const a=n[s],l=n[(s+1)%n.length],h=a.sub(l).magnitude;o<=r+h?(n.splice(s+1,0,h?b.lerp(a,l,(o-r)/h):new b(a)),o+=i):(r+=h,s+=1)}}function Pn(n,e,t){const i=n.length;let s=0;for(let r=0;r<e.length;r+=1){const o=n[(t+r)%i],a=e[r];s+=o.sub(a).squaredMagnitude}return s}function kf(n,e){const{points:t,closed:i}=n,s=t.length;if(i){let r=1/0,o=0;const a=t.pop();for(let l=0;l<s;l+=1){const h=Pn(t,e.points,l);h<r&&(r=h,o=l)}if(a&&t.push(a),o){t.pop();const l=t.splice(0,o);t.splice(t.length,0,...l),t.push(t[0])}}else{const r=Pn(t,e.points,0),o=[...t].reverse();Pn(o,e.points,0)<r&&(n.points=o)}}function Tf({points:n,...e},t){const i=t>=1?10**t:1;return{points:n.map(s=>{const[r,o]=[s.x,s.y].map(a=>Math.round(a*i)/i);return new b(r,o)}),...e}}function Wy(n,e,t,i){const s=t,r=Xf(n,s),o=Xf(e,s),a=r.points.length-o.points.length;return Pf(r.points,a<0?a*-1:0),Pf(o.points,a>0?a:0),!n.closed&&e.closed?kf(o,r):kf(r,o),{from:Tf(r,i),to:Tf(o,i)}}function Rf(n,e){for(let t=n.length;t<e.length;t++){const i=e[t].segments[0].getPoint(0).position;n.push({arcLength:0,closed:!1,minSin:0,segments:[new Zt(i,i)]})}}function Yy(n,e,t,i){const s=Qf(n),r=Qf(e);return s.length<r.length?Rf(s,r):Rf(r,s),s.map((o,a)=>Wy(o,r[a],t,i))}function zy(n,e){const{segments:t,arcLength:i,minSin:s}=e;n.segments.push(...t),n.arcLength+=i,n.minSin=Math.min(n.minSin,s)}function xO(n,e,t){const i=[];if(t===0)return[...n];if(t===1)return[...e];for(let s=0;s<n.length;s++){const r=n[s],o=e[s];i.push(b.lerp(r,o,t))}return i}function Cy(n,e){const t=Yy(n,e,5,4);return i=>{const s={segments:[],arcLength:0,minSin:1};for(const{from:r,to:o}of t){const a=xO(r.points,o.points,i);zy(s,bO(a,0,!1))}return s}}var hn=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Oo;let rt=Oo=class extends St{static rotatePoints(e,t,i){if(i){let s=1/0,r=0;for(let o=0;o<e.length;o+=1){const a=Pn(e,t,o);a<s&&(s=a,r=o)}if(r){const o=e.splice(0,r);e.splice(e.length,0,...o)}}else{const s=Pn(e,t,0),r=[...e].reverse();Pn(r,t,0)<s&&e.reverse()}}static distributePoints(e,t){if(e.length===0){for(let a=0;a<t;a++)e.push(b.zero);return}if(e.length===1){const a=e[0];for(let l=0;l<t;l++)e.push(a);return}const i=e.length+t,s=wO(e);let r=t/s,o=0;for(;e.length<i;){const a=i-e.length;if(o+1>=e.length){r=a/s,o=0;continue}const l=e[o],h=e[o+1],c=l.sub(h).magnitude,u=Math.min(Math.round(c*r),a)+1;for(let d=1;d<u;d++)e.splice(++o,0,b.lerp(l,h,d/u));o++}}*tweenPoints(e,t,i){const s=[...this.parsedPoints()],r=this.parsePoints(it(e)),o=this.closed(),a=s.length-r.length;Oo.distributePoints(a<0?s:r,Math.abs(a)),Oo.rotatePoints(r,s,o),this.tweenedPoints(s),yield*Ut(t,l=>{const h=i(l);this.tweenedPoints(xO(s,r,h))},()=>{this.tweenedPoints(null),this.points(e)})}constructor(e){super(e),this.tweenedPoints=Ze(null),e.children===void 0&&e.points===void 0&&Fe().warn({message:"No points specified for the line",remarks:`<p>The line won&#39;t be visible unless you specify at least two points:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span>
  stroke=<span class="hljs-string">&quot;#fff&quot;</span>
  lineWidth={<span class="hljs-number">8</span>}
  points={[
    [<span class="hljs-number">100</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],
  ]}
/&gt;</code></pre><p>Alternatively, you can define the points using the children:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>}&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">x</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">y</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">Line</span>&gt;</code></pre><p>If you did this intentionally, and want to disable this message, set the
<code>points</code> property to <code>null</code>:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>} points={<span class="hljs-literal">null</span>} /&gt;</code></pre>`,inspect:this.key})}childrenBBox(){let e=this.tweenedPoints();if(!e){const t=this.points();e=t?t.map(i=>new b(it(i))):this.children().filter(i=>!(i instanceof A)||i.isLayoutRoot()).map(i=>i.position())}return Oe.fromPoints(...e)}parsedPoints(){return this.parsePoints(this.points())}profile(){return bO(this.tweenedPoints()??this.parsedPoints(),this.radius(),this.closed())}lineWidthCoefficient(){const e=this.radius(),t=this.lineJoin();let i=super.lineWidthCoefficient();if(e===0&&t==="miter"){const{minSin:s}=this.profile();s>0&&(i=Math.max(i,.5/s))}return i}drawOverlay(e,t){const i=this.childrenBBox().transformCorners(t),r=this.computedSize().mul(this.offset()).scale(.5).transformAsPoint(t);e.fillStyle="white",e.strokeStyle="black",e.lineWidth=1;const o=new Path2D,a=(this.tweenedPoints()??this.parsedPoints()).map(l=>l.transformAsPoint(t));if(a.length>0){Oi(o,a[0]);for(const l of a)Ft(o,l),e.beginPath(),fr(e,l,4),e.closePath(),e.fill(),e.stroke()}e.strokeStyle="white",e.stroke(o),e.beginPath(),Io(e,r),e.stroke(),e.beginPath(),Xi(e,i),e.closePath(),e.stroke()}parsePoints(e){return e?e.map(t=>new b(it(t))):this.children().map(t=>t.position())}};hn([E(0),j()],rt.prototype,"radius",void 0);hn([E(null),j()],rt.prototype,"points",void 0);hn([Ee()],rt.prototype,"tweenPoints",null);hn([H()],rt.prototype,"childrenBBox",null);hn([H()],rt.prototype,"parsedPoints",null);hn([H()],rt.prototype,"profile",null);rt=Oo=hn([Mt("Line")],rt);var Ay=Vy,Aa={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},jy=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Vy(n){var e=[];return n.replace(jy,function(t,i,s){var r=i.toLowerCase();for(s=_y(s),r=="m"&&s.length>2&&(e.push([i].concat(s.splice(0,2))),r="l",i=i=="m"?"l":"L");;){if(s.length==Aa[r])return s.unshift(i),e.push(s);if(s.length<Aa[r])throw new Error("malformed path data");e.push([i].concat(s.splice(0,Aa[r])))}}),e}var Zy=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function _y(n){var e=n.match(Zy);return e?e.map(Number):[]}const qy=oO(Ay);function qi(n,e){n.segments.push(e),n.arcLength+=e.arcLength}function Hn(n,e){return n[e+1]}function $O(n,e){return new b(n[e+1],n[e+2])}function fi(n,e,t,i){const s=$O(n,e);return t?i.add(s):s}function Uf(n,e){return e.add(e.sub(n))}function My(n){for(let e=0;e<n.segments.length;e++){const t=n.segments[e],i=n.segments[(e+1)%n.segments.length],s=t.getPoint(1).tangent.scale(-1),r=i.getPoint(0).tangent,o=s.dot(r),a=Math.acos(ot(-1,1,o)),l=Math.sin(a/2);n.minSin=Math.min(n.minSin,Math.abs(l))}}function Wf(n){const e={segments:[],arcLength:0,minSin:1},t=qy(n);let i=new b(0,0),s=null;for(const r of t){const o=r[0].toLowerCase(),a=r[0]===o;if(o==="m")i=fi(r,0,a,i),s=i;else if(o==="l"){const l=fi(r,0,a,i);qi(e,new Zt(i,l)),i=l}else if(o==="h"){const l=Hn(r,0),h=a?i.addX(l):new b(l,i.y);qi(e,new Zt(i,h)),i=h}else if(o==="v"){const l=Hn(r,0),h=a?i.addY(l):new b(i.x,l);qi(e,new Zt(i,h)),i=h}else if(o==="q"){const l=fi(r,0,a,i),h=fi(r,2,a,i);qi(e,new di(i,l,h)),i=h}else if(o==="t"){const l=e.segments.at(-1),h=l instanceof di?Uf(l.p1,i):i,c=fi(r,0,a,i);qi(e,new di(i,h,c)),i=c}else if(o==="c"){const l=fi(r,0,a,i),h=fi(r,2,a,i),c=fi(r,4,a,i);qi(e,new Wt(i,l,h,c)),i=c}else if(o==="s"){const l=e.segments.at(-1),h=l instanceof Wt?Uf(l.p2,i):i,c=fi(r,0,a,i),u=fi(r,2,a,i);qi(e,new Wt(i,h,c,u)),i=u}else if(o==="a"){const l=$O(r,0),h=Hn(r,2),c=Hn(r,3),u=Hn(r,4),d=fi(r,5,a,i);qi(e,new Js(i,l,h,c,u,d)),i=d}else if(o==="z"){if(!s||i.equals(s))continue;qi(e,new Zt(i,s)),i=s}}return My(e),e}var sh=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Ho extends St{constructor(e){super(e),this.currentProfile=Ze(null),this.canHaveSubpath=!0}profile(){return this.currentProfile()??Wf(this.data())}childrenBBox(){const e=this.profile().segments.flatMap(t=>t.points);return Oe.fromPoints(...e)}lineWidthCoefficient(){const e=this.lineJoin();let t=super.lineWidthCoefficient();if(e==="miter"){const{minSin:i}=this.profile();i>0&&(t=Math.max(t,.5/i))}return t}processSubpath(e,t,i){t&&i&&t.equals(i)&&e.closePath()}*tweenData(e,t,i){const s=this.profile(),r=Wf(pi(e)?e():e),o=Cy(s,r);this.currentProfile(s),yield*Ut(t,a=>{const l=i(a);this.currentProfile(o(l))},()=>{this.currentProfile(null),this.data(e)})}drawOverlay(e,t){const i=this.childrenBBox().transformCorners(t),r=this.computedSize().mul(this.offset()).scale(.5).transformAsPoint(t),o=this.profile().segments;e.lineWidth=1,e.strokeStyle="white",e.fillStyle="white",e.save(),e.setTransform(t);let a=null,l=new Path2D;for(const h of o){a&&!h.getPoint(0).position.equals(a)&&(e.stroke(l),l=new Path2D,a=null);const[,c]=h.draw(l,0,1,a==null);a=c.position}e.stroke(l),e.restore(),e.beginPath(),Io(e,r),e.stroke(),e.beginPath(),Xi(e,i),e.closePath(),e.stroke()}}sh([j()],Ho.prototype,"data",void 0);sh([H()],Ho.prototype,"profile",null);sh([Ee()],Ho.prototype,"tweenData",null);var In=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class cn extends St{constructor(e){super(e),(e.children===void 0||!Array.isArray(e.children)||e.children.length<2)&&(e.points===void 0||typeof e.points!="function"&&e.points.length<2)&&e.spawner===void 0&&Fe().warn({message:"Insufficient number of knots specified for spline. A spline needs at least two knots.",remarks:`<p>The spline won&#39;t be visible unless you specify at least two knots:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Spline</span>
  stroke=<span class="hljs-string">&quot;#fff&quot;</span>
  lineWidth={<span class="hljs-number">8</span>}
  points={[
    [<span class="hljs-number">100</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],
  ]}
/&gt;</code></pre><p>For more control over the knot handles, you can alternatively provide the knots
as children to the spline using the <code>Knot</code> component:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Spline</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>}&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> <span class="hljs-attr">x</span>=<span class="hljs-string">{100}</span> <span class="hljs-attr">endHandle</span>=<span class="hljs-string">{[-50,</span> <span class="hljs-attr">0</span>]} /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Knot</span> <span class="hljs-attr">y</span>=<span class="hljs-string">{100}</span> <span class="hljs-attr">startHandle</span>=<span class="hljs-string">{[-100,</span> <span class="hljs-attr">50</span>]} /&gt;</span></span>
&lt;/<span class="hljs-title class_">Spline</span>&gt;</code></pre>`,inspect:this.key})}profile(){return Qy(this.knots(),this.closed(),this.smoothness())}knots(){const e=this.points();return e?e.map(t=>{const i=new b(it(t));return{position:i,startHandle:i,endHandle:i,auto:{start:1,end:1}}}):this.children().filter(this.isKnot).map(t=>t.points())}childrenBBox(){const e=this.profile().segments.flatMap(t=>t.points);return Oe.fromPoints(...e)}lineWidthCoefficient(){const e=this.lineJoin();let t=super.lineWidthCoefficient();if(e!=="miter")return t;const{minSin:i}=this.profile();return i>0&&(t=Math.max(t,.5/i)),t}desiredSize(){return this.getTightBBox().size}offsetComputedLayout(e){return e.position=e.position.sub(this.getTightBBox().center),e}getTightBBox(){const e=this.profile().segments.map(t=>t.getBBox());return Oe.fromBBoxes(...e)}drawOverlay(e,t){const i=this.computedSize(),s=this.childrenBBox().transformCorners(t),r=i.mul(this.offset()).scale(.5).transformAsPoint(t),o=this.profile().segments;e.lineWidth=1,e.strokeStyle="white",e.fillStyle="white";const a=new Path2D;for(let l=0;l<o.length;l++){const h=o[l],[c,u,d,g]=h.transformPoints(t);Oi(a,c),h instanceof Wt?dO(a,u,d,g):pO(a,u,d)}e.stroke(a);for(let l=0;l<o.length;l++){const h=o[l];e.fillStyle="white";const[c,u,d,g]=h.transformPoints(t),m=new Path2D;e.globalAlpha=.5,Oi(m,c),Ft(m,u),h instanceof Wt?(Oi(m,d),Ft(m,g),e.beginPath(),e.stroke(m)):(Ft(m,d),e.beginPath(),e.stroke(m)),e.globalAlpha=1,e.lineWidth=2,Oi(e,c),e.beginPath(),fr(e,c,4),e.closePath(),e.stroke(),e.fill(),l===o.length-1&&g!==void 0&&(Oi(e,g),e.beginPath(),fr(e,g,4),e.closePath(),e.stroke(),e.fill()),e.fillStyle="black";for(const v of[u,d])v.magnitude>0&&(Oi(e,v),e.beginPath(),fr(e,v,4),e.closePath(),e.fill(),e.stroke())}e.lineWidth=1,e.beginPath(),Io(e,r),e.stroke(),e.beginPath(),Xi(e,s),e.closePath(),e.stroke()}isKnot(e){return e instanceof kr}}In([E(.4),j()],cn.prototype,"smoothness",void 0);In([E(null),j()],cn.prototype,"points",void 0);In([H()],cn.prototype,"profile",null);In([H()],cn.prototype,"knots",null);In([H()],cn.prototype,"childrenBBox",null);In([H()],cn.prototype,"getTightBBox",null);var Tr=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},po;let ii=po=class extends at{constructor({children:e,...t}){super(t),e&&this.text(e)}parentTxt(){const e=this.parent();return e instanceof ae?e:null}draw(e){this.requestFontUpdate(),this.applyStyle(e),this.applyText(e),e.font=this.styles.font,"letterSpacing"in e&&(e.letterSpacing=`${this.letterSpacing()}px`);const t=this.element.getBoundingClientRect(),{width:i,height:s}=this.size(),r=document.createRange();let o="";const a=new Oe;for(const l of this.element.childNodes){if(!l.textContent)continue;r.selectNodeContents(l);const h=r.getBoundingClientRect(),c=i/-2+h.left-t.left,u=s/-2+h.top-t.top;a.y===u?(a.width+=h.width,o+=l.textContent):(this.drawText(e,o,a),a.x=c,a.y=u,a.width=h.width,a.height=h.height,o=l.textContent)}this.drawText(e,o,a)}drawText(e,t,i){const s=i.y+i.height/2;e.save(),e.textBaseline="middle",t=t.replace(/\s+/g," "),this.lineWidth()<=0?e.fillText(t,i.x,s):this.strokeFirst()?(e.strokeText(t,i.x,s),e.fillText(t,i.x,s)):(e.fillText(t,i.x,s),e.strokeText(t,i.x,s)),e.restore()}getCacheBBox(){const e=this.computedSize(),t=document.createRange();t.selectNodeContents(this.element);const i=t.getBoundingClientRect(),s=this.lineWidth(),r=this.lineJoin()==="miter"?.5*10:.5;return new Oe(-e.width/2,-e.height/2,i.width,i.height).expand([0,this.fontSize()*.5]).expand(s*r)}applyFlex(){super.applyFlex(),this.element.style.display="inline"}updateLayout(){if(this.applyFont(),this.applyFlex(),this.justifyContent.isInitial()&&(this.element.style.justifyContent=this.styles.getPropertyValue("text-align")),this.styles.whiteSpace!=="nowrap"&&this.styles.whiteSpace!=="pre")if(this.element.innerText="",po.segmenter)for(const t of po.segmenter.segment(this.text()))this.element.appendChild(document.createTextNode(t.segment));else for(const t of this.text().split(""))this.element.appendChild(document.createTextNode(t));else if(this.styles.whiteSpace==="pre"){this.element.innerText="";for(const t of this.text().split(`
`))this.element.appendChild(document.createTextNode(t+`
`))}else this.element.innerText=this.text()}};Tr([E(""),Jl(iO),j()],ii.prototype,"text",void 0);Tr([H()],ii.prototype,"parentTxt",null);Tr([En(()=>{const n=document.createElement("span");return Hi.shadowRoot.append(n),n})],ii,"formatter",void 0);Tr([En(()=>{try{return new Intl.Segmenter(void 0,{granularity:"grapheme"})}catch{return null}})],ii,"segmenter",void 0);ii=po=Tr([Mt("TxtLeaf")],ii);["fill","stroke","lineWidth","strokeFirst","lineCap","lineJoin","lineDash","lineDashOffset"].forEach(n=>{ii.prototype[`get${Fs(n)}`]=function(){var e;return((e=this.parentTxt())==null?void 0:e[n]())??this[n].context.getInitial()}});var Rr=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},Cs;let ae=Cs=class extends at{static b(e){return new Cs({...e,fontWeight:700})}static i(e){return new Cs({...e,fontStyle:"italic"})}getText(){return this.innerText()}setText(e){const t=this.children();let i=null;for(let s=0;s<t.length;s++){const r=t[s];i===null&&r instanceof ii?i=r:r.parent(null)}i===null?(i=new ii({text:e}),i.parent(this)):i.text(e),this.setParsedChildren([i])}setChildren(e){this.children.context.raw()!==e&&(typeof e=="string"?this.text(e):super.setChildren(e))}*tweenText(e,t,i,s){const r=this.children();(r.length!==1||!(r[0]instanceof ii))&&this.text.save();const o=this.childAs(0),a=o.text.context.raw(),l=this.size.context.raw();o.text(e);const h=this.size();o.text(a??Os),this.height()===0&&this.height(h.height),yield*z(this.size(h,t,i),o.text(e,t,i,s)),this.children.context.setter(e),this.size(l)}getLayout(){return!0}constructor({children:e,text:t,...i}){super(i),this.children(t??e)}innerText(){const e=this.childrenAs();let t="";for(const i of e)t+=i.text();return t}parentTxt(){const e=this.parent();return e instanceof Cs?e:null}parseChildren(e){const t=[],i=Array.isArray(e)?e:[e];for(const s of i)s instanceof Cs||s instanceof ii?t.push(s):typeof s=="string"&&t.push(new ii({text:s}));return t}applyFlex(){super.applyFlex(),this.element.style.display=this.findAncestor(Lt(Cs))?"inline":"block"}draw(e){this.drawChildren(e)}};Rr([E(""),j()],ae.prototype,"text",void 0);Rr([Ee()],ae.prototype,"tweenText",null);Rr([H()],ae.prototype,"innerText",null);Rr([H()],ae.prototype,"parentTxt",null);ae=Cs=Rr([Mt("Txt")],ae);["fill","stroke","lineWidth","strokeFirst","lineCap","lineJoin","lineDash","lineDashOffset"].forEach(n=>{ae.prototype[`getDefault${Fs(n)}`]=function(e){var t;return((t=this.parentTxt())==null?void 0:t[n]())??e}});var ai=globalThis&&globalThis.__decorate||function(n,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},go;let kt=go=class extends pe{constructor({play:e,...t}){super(t),this.lastTime=-1,e&&this.play()}isPlaying(){return this.playing()}getCurrentTime(){return this.clampTime(this.time())}getDuration(){return this.video().duration}desiredSize(){const e=super.desiredSize();if(e.x===null&&e.y===null){const t=this.video();return{x:t.videoWidth,y:t.videoHeight}}return e}completion(){return this.clampTime(this.time())/this.video().duration}video(){const e=this.src(),t=`${this.key}/${e}`;let i=go.pool[t];return i||(i=document.createElement("video"),i.src=e,go.pool[t]=i),i.readyState<2&&Ve.collectPromise(new Promise(s=>{const r=()=>{s(),i.removeEventListener("canplay",r)};i.addEventListener("canplay",r)})),i}seekedVideo(){const e=this.video(),t=this.clampTime(this.time());return e.playbackRate=this.playbackRate(),e.paused||e.pause(),this.lastTime===t||this.setCurrentTime(t),e}fastSeekedVideo(){const e=this.video(),t=this.clampTime(this.time());if(e.playbackRate=this.playbackRate(),this.lastTime===t)return e;const i=this.playing()&&t<e.duration&&e.playbackRate>0;return i?e.paused&&Ve.collectPromise(e.play()):e.paused||e.pause(),Math.abs(e.currentTime-t)>.2?this.setCurrentTime(t):i||(e.currentTime=t),e}draw(e){this.drawShape(e);const t=this.alpha();if(t>0){const i=this.view().playbackState(),s=i===ms.Playing||i===ms.Presenting?this.fastSeekedVideo():this.seekedVideo(),r=Oe.fromSizeCentered(this.computedSize());e.save(),e.clip(this.getPath()),t<1&&(e.globalAlpha*=t),e.imageSmoothingEnabled=this.smoothing(),OO(e,s,r),e.restore()}this.clip()&&e.clip(this.getPath()),this.drawChildren(e)}applyFlex(){super.applyFlex();const e=this.video();this.element.style.aspectRatio=(this.ratio()??e.videoWidth/e.videoHeight).toString()}setCurrentTime(e){const t=this.video();t.readyState<2||(t.currentTime=e,this.lastTime=e,t.seeking&&Ve.collectPromise(new Promise(i=>{const s=()=>{i(),t.removeEventListener("seeked",s)};t.addEventListener("seeked",s)})))}setPlaybackRate(e){let t;if(pi(e)?(t=e(),Fe().warn({message:"Invalid value set as the playback rate",remarks:`<p>The <code>playbackRate</code> of a <code>Video</code> cannot be reactive.</p>
<p>Make sure to use a concrete value and not a function:</p>
<pre class="wrong"><code class="language-ts">video.<span class="hljs-title function_">playbackRate</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-number">7</span>);</code></pre><pre class="correct"><code class="language-ts">video.<span class="hljs-title function_">playbackRate</span>(<span class="hljs-number">7</span>);</code></pre><p>If you&#39;re using a signal, extract its value before passing it to the property:</p>
<pre class="wrong"><code class="language-ts">video.<span class="hljs-title function_">playbackRate</span>(mySignal);</code></pre><pre class="correct"><code class="language-ts">video.<span class="hljs-title function_">playbackRate</span>(<span class="hljs-title function_">mySignal</span>());</code></pre>`,inspect:this.key,stack:new Error().stack})):t=e,this.playbackRate.context.setter(t),this.playing())if(t===0)this.pause();else{const i=Yi().time,s=i(),r=this.time();this.time(()=>this.clampTime(r+(i()-s)*t))}}play(){const e=Yi().time,t=e(),i=this.time(),s=this.playbackRate();this.playing(!0),this.time(()=>this.clampTime(i+(e()-t)*s))}pause(){this.playing(!1),this.time.save(),this.video().pause()}seek(e){const t=this.playing();this.time(this.clampTime(e)),t?this.play():this.pause()}clampTime(e){const t=this.video().duration;return this.loop()&&(e%=t),ot(0,t,e)}collectAsyncResources(){super.collectAsyncResources(),this.seekedVideo()}};kt.pool={};ai([j()],kt.prototype,"src",void 0);ai([E(1),j()],kt.prototype,"alpha",void 0);ai([E(!0),j()],kt.prototype,"smoothing",void 0);ai([E(!1),j()],kt.prototype,"loop",void 0);ai([E(1),j()],kt.prototype,"playbackRate",void 0);ai([E(0),j()],kt.prototype,"time",void 0);ai([E(!1),j()],kt.prototype,"playing",void 0);ai([H()],kt.prototype,"completion",null);ai([H()],kt.prototype,"video",null);ai([H()],kt.prototype,"seekedVideo",null);ai([H()],kt.prototype,"fastSeekedVideo",null);kt=go=ai([Mt("Video")],kt);function Dy(n){const e=[];let t="",i=!1;for(const s of n)switch(s){case" ":case"	":case`
`:!i&&t!==""&&(e.push(t),t=""),i=!0,t+=s;break;case"(":case")":case"{":case"}":case"[":case"]":t!==""&&(e.push(t),t=""),i=!1,e.push(s);break;default:i&&t!==""&&(e.push(t),t=""),i=!1,t+=s;break}return t!==""&&e.push(t),e}function Yf(n,e){const[t,i]=n;let[s,r]=t,[o,a]=i;(s>o||s===o&&r>a)&&([s,r]=i,[o,a]=t);let l=0,h=0;const c=[];let u=-1,d=!1,g="";for(const m of e){if(d){c.push(m);continue}const v=Sn(m,!1),w=v.split(`
`),X=w.length-1,R=w[X].length,_=X>0?R:h+R;if(s>l+X||s===l+X&&r>_){l+=X,h=_,c.push(m);continue}for(let C=0;C<v.length;C++){const D=v.charAt(C);if(s===l&&r>=h&&(r===h?(u=c.length+1,c.push(v.slice(0,C),"")):D===`
`&&(u=c.length+1,c.push(v.slice(0,C)+" ".repeat(r-h),""))),u!==-1&&o===l&&a>=h){if(a===h){c.push(v.slice(C)),d=!0;break}if(D===`
`){h<a?(g+=`
`,C+1<v.length&&c.push(v.slice(C+1))):c.push(v.slice(C)),d=!0;break}}u!==-1&&(g+=D),D===`
`?(l++,h=0):h++}u===-1&&c.push(m)}if(u===-1){u=c.length+1;const m=s-l,v=m>0?r:r-h;c.push(`
`.repeat(m)+" ".repeat(v),"")}return c[u]=g,[c,u]}class hl extends ys{constructor(e,t,i){super(e,sn,t),this.highlighter=i,this.progress=Ze(0),t instanceof zt&&(this.highlighter??(this.highlighter=t.highlighter)),Object.defineProperty(this.invokable,"edit",{value:this.edit.bind(this)}),Object.defineProperty(this.invokable,"append",{value:this.append.bind(this)}),Object.defineProperty(this.invokable,"prepend",{value:this.prepend.bind(this)}),Object.defineProperty(this.invokable,"insert",{value:this.insert.bind(this)}),Object.defineProperty(this.invokable,"remove",{value:this.remove.bind(this)}),Object.defineProperty(this.invokable,"replace",{value:this.replace.bind(this)})}*tweener(e,t,i){let s=Dy;const r=it(this.highlighter);r&&(yield(async()=>{do await Ve.consumePromises(),r.initialize();while(Ve.hasPromises())})(),s=o=>r.tokenize(o)),this.progress(0),this.set({progress:this.progress,fragments:ry(this.get(),this.parse(it(e)),s)}),yield*this.progress(1,t,i),this.set(e)}edit(e=.6){return(t,...i)=>this.editTween(Lr(t,...i),e)}append(e=.6,t){if(typeof e<"u"&&typeof e!="number")if(t===void 0){const s=this.get();return this.set({progress:0,fragments:[...s.fragments,e]})}else return this.appendTween(e,t);const i=e;return(s,...r)=>this.append(Lr(s,...r),i)}prepend(e=.6,t){if(typeof e<"u"&&typeof e!="number")if(t===void 0){const s=this.get();return this.set({progress:0,fragments:[e,...s.fragments]})}else return this.prependTween(e,t);const i=e;return(s,...r)=>this.prepend(Lr(s,...r),i)}insert(e,t=.6,i){return this.replace([e,e],t,i)}remove(e,t){return this.replace(e,"",t)}replace(e,t=.6,i){if(typeof t<"u"&&typeof t!="number")if(i===void 0){const r=this.get(),[o,a]=Yf(e,r.fragments);return o[a]=t,this.set({progress:r.progress,fragments:o})}else return this.replaceTween(e,t,i);const s=t;return(r,...o)=>this.replaceTween(e,Lr(r,...o),s)}*replaceTween(e,t,i){let s=this.get();const[r,o]=Yf(e,s.fragments),a=Ze(0),l=Sn(t,!0),h={progress:a,fragments:[K1(r[o],l)]};r[o]=h,this.set({progress:s.progress,fragments:r}),yield*a(1,i),s=this.get(),this.set({progress:s.progress,fragments:s.fragments.map(c=>c===h?t:c)}),a.context.dispose()}*editTween(e,t){this.progress(0),this.set({progress:this.progress,fragments:e}),yield*this.progress(1,t);const i=this.get();this.set({progress:0,fragments:i.fragments.map(s=>e.includes(s)?Sn(s,!0):s)})}*appendTween(e,t){let i=this.get();const s=Ze(0),r=Sn(e,!0),o={progress:s,fragments:[cr(r)]};this.set({progress:i.progress,fragments:[...i.fragments,o]}),yield*s(1,t),i=this.get(),this.set({progress:i.progress,fragments:i.fragments.map(a=>a===o?e:a)}),s.context.dispose()}*prependTween(e,t){let i=this.get();const s=Ze(0),r=Sn(e,!0),o={progress:s,fragments:[cr(r)]};this.set({progress:i.progress,fragments:[o,...i.fragments]}),yield*s(1,t),i=this.get(),this.set({progress:i.progress,fragments:i.fragments.map(a=>a===o?e:a)}),s.context.dispose()}parse(e){return J1(e)}toSignal(){return this.invokable}}function Ey(){return(n,e)=>{const t=Lo(n,e);Ln(n,i=>{i[e]=new hl(t.default??[],i).toSignal()})}}const SO=1024;let Ly=0,ja=class{constructor(e,t){this.from=e,this.to=t}};class Ce{constructor(e={}){this.id=Ly++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=_t.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Ce.closedBy=new Ce({deserialize:n=>n.split(" ")});Ce.openedBy=new Ce({deserialize:n=>n.split(" ")});Ce.group=new Ce({deserialize:n=>n.split(" ")});Ce.isolate=new Ce({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ce.contextHash=new Ce({perNode:!0});Ce.lookAhead=new Ce({perNode:!0});Ce.mounted=new Ce({perNode:!0});class Po{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Ce.mounted.id]}}const Iy=Object.create(null);class _t{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):Iy,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new _t(e.name||"",t,e.id,i);if(e.props){for(let r of e.props)if(Array.isArray(r)||(r=r(s)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ce.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(Ce.group),r=-1;r<(s?s.length:0);r++){let o=t[r<0?i.name:s[r]];if(o)return o}}}}_t.none=new _t("",Object.create(null),0,8);class nh{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let r of e){let o=r(i);o&&(s||(s=Object.assign({},i.props)),s[o[0].id]=o[1])}t.push(s?new _t(i.name,s,i.id,i.flags):i)}return new nh(t)}}const Br=new WeakMap,zf=new WeakMap;var Ot;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ot||(Ot={}));class st{constructor(e,t,i,s,r){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,r&&r.length){this.props=Object.create(null);for(let[o,a]of r)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Po.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new fl(this.topNode,e)}cursorAt(e,t=0,i=0){let s=Br.get(this)||this.topNode,r=new fl(s);return r.moveTo(e,t),Br.set(this,r._tree),r}get topNode(){return new si(this,0,0,null)}resolve(e,t=0){let i=mr(Br.get(this)||this.topNode,e,t,!1);return Br.set(this,i),i}resolveInner(e,t=0){let i=mr(zf.get(this)||this.topNode,e,t,!0);return zf.set(this,i),i}resolveStack(e,t=0){return Fy(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:r=this.length}=e,o=e.mode||0,a=(o&Ot.IncludeAnonymous)>0;for(let l=this.cursor(o|Ot.IncludeAnonymous);;){let h=!1;if(l.from<=r&&l.to>=s&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;h=!0}for(;h&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ah(_t.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new st(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new st(_t.none,t,i,s)))}static build(e){return Gy(e)}}st.empty=new st(_t.none,[],[],0);class rh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new rh(this.buffer,this.index)}}class bs{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return _t.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],r=s.name;if(/\W/.test(r)&&!s.isError&&(r=JSON.stringify(r)),e+=4,i==e)return r;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,i,s,r){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(QO(r,s,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let s=this.buffer,r=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){r[l++]=s[a++],r[l++]=s[a++]-i;let h=r[l++]=s[a++]-i;r[l++]=s[a++]-e,o=Math.max(o,h)}return new bs(r,o,this.set)}}function QO(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function mr(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof si&&n.index<0?null:n.parent;if(!o)return n;n=o}let r=i?0:Ot.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof si&&o.index<0&&((s=a.enter(e,t,r))===null||s===void 0?void 0:s.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,r);if(!o)return n;n=o}}class XO{cursor(e=0){return new fl(this,e)}getChild(e,t=null,i=null){let s=Cf(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return Cf(this,e,t,i)}resolve(e,t=0){return mr(this,e,t,!1)}resolveInner(e,t=0){return mr(this,e,t,!0)}matchContext(e){return cl(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class si extends XO{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,r=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,h=t>0?a.length:-1;e!=h;e+=t){let c=a[e],u=l[e]+o.from;if(QO(s,i,u,u+c.length)){if(c instanceof bs){if(r&Ot.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,i-u,s);if(d>-1)return new cs(new By(o,c,e,u),null,d)}else if(r&Ot.IncludeAnonymous||!c.type.isAnonymous||oh(c)){let d;if(!(r&Ot.IgnoreMounts)&&(d=Po.get(c))&&!d.overlay)return new si(d.tree,u,e,o);let g=new si(c,u,e,o);return r&Ot.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?c.children.length-1:0,t,i,s)}}}if(r&Ot.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&Ot.IgnoreOverlays)&&(s=Po.get(this._tree))&&s.overlay){let r=e-this.from;for(let{from:o,to:a}of s.overlay)if((t>0?o<=r:o<r)&&(t<0?a>=r:a>r))return new si(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Cf(n,e,t,i){let s=n.cursor(),r=[];if(!s.firstChild())return r;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return r}for(;;){if(i!=null&&s.type.is(i))return r;if(s.type.is(e)&&r.push(s.node),!s.nextSibling())return i==null?r:[]}}function cl(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class By{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class cs extends XO{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return r<0?null:new cs(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ot.ExcludeBuffers)return null;let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new cs(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new cs(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new cs(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,r=i.buffer[this.index+3];if(r>s){let o=i.buffer[this.index+1];e.push(i.slice(s,r,o)),t.push(0)}return new st(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function PO(n){if(!n.length)return null;let e=0,t=n[0];for(let r=1;r<n.length;r++){let o=n[r];(o.from>t.from||o.to<t.to)&&(t=o,e=r)}let i=t instanceof si&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new Ny(s,t)}class Ny{constructor(e,t){this.heads=e,this.node=t}get next(){return PO(this.heads)}}function Fy(n,e,t){let i=n.resolveInner(e,t),s=null;for(let r=i instanceof si?i:i.context.parent;r;r=r.parent)if(r.index<0){let o=r.parent;(s||(s=[i])).push(o.resolve(e,t)),r=o}else{let o=Po.get(r.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new si(o.tree,o.overlay[0].from+r.from,-1,r);(s||(s=[i])).push(mr(a,e,t,!1))}}return s?PO(s):i}class fl{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof si)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof si?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return r<0?!1:(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ot.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ot.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ot.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let r=0;r<this.index;r++)if(s.buffer.buffer[r+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let r=t+e,o=e<0?-1:i._tree.children.length;r!=o;r+=e){let a=i._tree.children[r];if(this.mode&Ot.IncludeAnonymous||a instanceof bs||!a.type.isAnonymous||oh(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,i=r+1;break e}s=this.stack[--r]}for(let s=i;s<this.stack.length;s++)t=new cs(this.buffer,t,this.stack[s]);return this.bufferNode=new cs(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return cl(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,r=this.stack.length-1;s>=0;r--){if(r<0)return cl(this.node,e,s);let o=i[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function oh(n){return n.children.some(e=>e instanceof bs||!e.type.isAnonymous||oh(e))}function Gy(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=SO,reused:r=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new rh(t,t.length):t,l=i.types,h=0,c=0;function u(D,Z,L,G,J,re){let{id:ce,start:fe,end:Xe,size:Pe}=a,ke=c;for(;Pe<0;)if(a.next(),Pe==-1){let Ct=r[ce];L.push(Ct),G.push(fe-D);return}else if(Pe==-3){h=ce;return}else if(Pe==-4){c=ce;return}else throw new RangeError(`Unrecognized record size: ${Pe}`);let oe=l[ce],F,xe,Ts=fe-D;if(Xe-fe<=s&&(xe=w(a.pos-Z,J))){let Ct=new Uint16Array(xe.size-xe.skip),lt=a.pos-xe.size,pt=Ct.length;for(;a.pos>lt;)pt=X(xe.start,Ct,pt);F=new bs(Ct,Xe-xe.start,i),Ts=xe.start-D}else{let Ct=a.pos-Pe;a.next();let lt=[],pt=[],se=ce>=o?ce:-1,Le=0,gt=Xe;for(;a.pos>Ct;)se>=0&&a.id==se&&a.size>=0?(a.end<=gt-s&&(m(lt,pt,fe,Le,a.end,gt,se,ke),Le=lt.length,gt=a.end),a.next()):re>2500?d(fe,Ct,lt,pt):u(fe,Ct,lt,pt,se,re+1);if(se>=0&&Le>0&&Le<lt.length&&m(lt,pt,fe,Le,fe,gt,se,ke),lt.reverse(),pt.reverse(),se>-1&&Le>0){let Rs=g(oe);F=ah(oe,lt,pt,0,lt.length,0,Xe-fe,Rs,Rs)}else F=v(oe,lt,pt,Xe-fe,ke-Xe)}L.push(F),G.push(Ts)}function d(D,Z,L,G){let J=[],re=0,ce=-1;for(;a.pos>Z;){let{id:fe,start:Xe,end:Pe,size:ke}=a;if(ke>4)a.next();else{if(ce>-1&&Xe<ce)break;ce<0&&(ce=Pe-s),J.push(fe,Xe,Pe),re++,a.next()}}if(re){let fe=new Uint16Array(re*4),Xe=J[J.length-2];for(let Pe=J.length-3,ke=0;Pe>=0;Pe-=3)fe[ke++]=J[Pe],fe[ke++]=J[Pe+1]-Xe,fe[ke++]=J[Pe+2]-Xe,fe[ke++]=ke;L.push(new bs(fe,J[2]-Xe,i)),G.push(Xe-D)}}function g(D){return(Z,L,G)=>{let J=0,re=Z.length-1,ce,fe;if(re>=0&&(ce=Z[re])instanceof st){if(!re&&ce.type==D&&ce.length==G)return ce;(fe=ce.prop(Ce.lookAhead))&&(J=L[re]+ce.length+fe)}return v(D,Z,L,G,J)}}function m(D,Z,L,G,J,re,ce,fe){let Xe=[],Pe=[];for(;D.length>G;)Xe.push(D.pop()),Pe.push(Z.pop()+L-J);D.push(v(i.types[ce],Xe,Pe,re-J,fe-re)),Z.push(J-L)}function v(D,Z,L,G,J=0,re){if(h){let ce=[Ce.contextHash,h];re=re?[ce].concat(re):[ce]}if(J>25){let ce=[Ce.lookAhead,J];re=re?[ce].concat(re):[ce]}return new st(D,Z,L,G,re)}function w(D,Z){let L=a.fork(),G=0,J=0,re=0,ce=L.end-s,fe={size:0,start:0,skip:0};e:for(let Xe=L.pos-D;L.pos>Xe;){let Pe=L.size;if(L.id==Z&&Pe>=0){fe.size=G,fe.start=J,fe.skip=re,re+=4,G+=4,L.next();continue}let ke=L.pos-Pe;if(Pe<0||ke<Xe||L.start<ce)break;let oe=L.id>=o?4:0,F=L.start;for(L.next();L.pos>ke;){if(L.size<0)if(L.size==-3)oe+=4;else break e;else L.id>=o&&(oe+=4);L.next()}J=F,G+=Pe,re+=oe}return(Z<0||G==D)&&(fe.size=G,fe.start=J,fe.skip=re),fe.size>4?fe:void 0}function X(D,Z,L){let{id:G,start:J,end:re,size:ce}=a;if(a.next(),ce>=0&&G<o){let fe=L;if(ce>4){let Xe=a.pos-(ce-4);for(;a.pos>Xe;)L=X(D,Z,L)}Z[--L]=fe,Z[--L]=re-D,Z[--L]=J-D,Z[--L]=G}else ce==-3?h=G:ce==-4&&(c=G);return L}let R=[],_=[];for(;a.pos>0;)u(n.start||0,n.bufferStart||0,R,_,-1,0);let C=(e=n.length)!==null&&e!==void 0?e:R.length?_[0]+R[0].length:0;return new st(l[n.topID],R.reverse(),_.reverse(),C)}const Af=new WeakMap;function mo(n,e){if(!n.isAnonymous||e instanceof bs||e.type!=n)return 1;let t=Af.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof st)){t=1;break}t+=mo(n,i)}Af.set(e,t)}return t}function ah(n,e,t,i,s,r,o,a,l){let h=0;for(let m=i;m<s;m++)h+=mo(n,e[m]);let c=Math.ceil(h*1.5/8),u=[],d=[];function g(m,v,w,X,R){for(let _=w;_<X;){let C=_,D=v[_],Z=mo(n,m[_]);for(_++;_<X;_++){let L=mo(n,m[_]);if(Z+L>=c)break;Z+=L}if(_==C+1){if(Z>c){let L=m[C];g(L.children,L.positions,0,L.children.length,v[C]+R);continue}u.push(m[C])}else{let L=v[_-1]+m[_-1].length-D;u.push(ah(n,m,v,C,_,D,L,null,l))}d.push(D+R-r)}}return g(e,t,i,s,0),(a||l)(u,d,o)}class en{constructor(e,t,i,s,r=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(r?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new en(0,e.length,e,0,!1,i)];for(let r of t)r.to>e.length&&s.push(r);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],r=1,o=e.length?e[0]:null;for(let a=0,l=0,h=0;;a++){let c=a<t.length?t[a]:null,u=c?c.fromA:1e9;if(u-l>=i)for(;o&&o.from<u;){let d=o;if(l>=d.from||u<=d.to||h){let g=Math.max(d.from,l)-h,m=Math.min(d.to,u)-h;d=g>=m?null:new en(g,m,d.tree,d.offset+h,a>0,!!c)}if(d&&s.push(d),o.to>u)break;o=r<e.length?e[r++]:null}if(!c)break;l=c.toA,h=c.toA-c.toB}return s}}class kO{startParse(e,t,i){return typeof e=="string"&&(e=new Hy(e)),i=i?i.length?i.map(s=>new ja(s.from,s.to)):[new ja(0,0)]:[new ja(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let r=s.advance();if(r)return r}}}class Hy{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ce({perNode:!0});class ze{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=Cn(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),Pi.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Cn(this,e,t);let i=[];return this.decompose(e,t,i,0),Pi.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new ur(this),r=new ur(e);for(let o=t,a=t;;){if(s.next(o),r.next(o),o=0,s.lineBreak!=r.lineBreak||s.done!=r.done||s.value!=r.value)return!1;if(a+=s.value.length,s.done||a>=i)return!0}}iter(e=1){return new ur(this,e)}iterRange(e,t=this.length){return new TO(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new RO(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ze.empty:e.length<=32?new et(e):Pi.from(et.split(e,[]))}}class et extends ze{constructor(e,t=Ky(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let r=0;;r++){let o=this.text[r],a=s+o.length;if((t?i:a)>=e)return new Jy(s,a,i,o);s=a+1,i++}}decompose(e,t,i,s){let r=e<=0&&t>=this.length?this:new et(jf(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=i.pop(),a=yo(r.text,o.text.slice(),0,r.length);if(a.length<=32)i.push(new et(a,o.length+r.length));else{let l=a.length>>1;i.push(new et(a.slice(0,l)),new et(a.slice(l)))}}else i.push(r)}replace(e,t,i){if(!(i instanceof et))return super.replace(e,t,i);[e,t]=Cn(this,e,t);let s=yo(this.text,yo(i.text,jf(this.text,0,e)),t),r=this.length+i.length-(t-e);return s.length<=32?new et(s,r):Pi.from(et.split(s,[]),r)}sliceString(e,t=this.length,i=`
`){[e,t]=Cn(this,e,t);let s="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let a=this.text[o],l=r+a.length;r>e&&o&&(s+=i),e<l&&t>r&&(s+=a.slice(Math.max(0,e-r),t-r)),r=l+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let r of e)i.push(r),s+=r.length+1,i.length==32&&(t.push(new et(i,s)),i=[],s=-1);return s>-1&&t.push(new et(i,s)),t}}class Pi extends ze{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let r=0;;r++){let o=this.children[r],a=s+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,s);s=a+1,i=l+1}}decompose(e,t,i,s){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let a=this.children[r],l=o+a.length;if(e<=l&&t>=o){let h=s&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!h?i.push(a):a.decompose(e-o,t-o,i,h)}o=l+1}}replace(e,t,i){if([e,t]=Cn(this,e,t),i.lines<this.lines)for(let s=0,r=0;s<this.children.length;s++){let o=this.children[s],a=r+o.length;if(e>=r&&t<=a){let l=o.replace(e-r,t-r,i),h=this.lines-o.lines+l.lines;if(l.lines<h>>5-1&&l.lines>h>>5+1){let c=this.children.slice();return c[s]=l,new Pi(c,this.length-(t-e)+i.length)}return super.replace(r,a,l)}r=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=Cn(this,e,t);let s="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let a=this.children[r],l=o+a.length;o>e&&r&&(s+=i),e<l&&t>o&&(s+=a.sliceString(e-o,t-o,i)),o=l+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Pi))return 0;let i=0,[s,r,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,r+=t){if(s==o||r==a)return i;let l=this.children[s],h=e.children[r];if(l!=h)return i+l.scanIdentical(h,t);i+=l.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let g of e)i+=g.lines;if(i<32){let g=[];for(let m of e)m.flatten(g);return new et(g,t)}let s=Math.max(32,i>>5),r=s<<1,o=s>>1,a=[],l=0,h=-1,c=[];function u(g){let m;if(g.lines>r&&g instanceof Pi)for(let v of g.children)u(v);else g.lines>o&&(l>o||!l)?(d(),a.push(g)):g instanceof et&&l&&(m=c[c.length-1])instanceof et&&g.lines+m.lines<=32?(l+=g.lines,h+=g.length+1,c[c.length-1]=new et(m.text.concat(g.text),m.length+1+g.length)):(l+g.lines>s&&d(),l+=g.lines,h+=g.length+1,c.push(g))}function d(){l!=0&&(a.push(c.length==1?c[0]:Pi.from(c,h)),h=-1,l=c.length=0)}for(let g of e)u(g);return d(),a.length==1?a[0]:new Pi(a,t)}}ze.empty=new et([""],0);function Ky(n){let e=-1;for(let t of n)e+=t.length+1;return e}function yo(n,e,t=0,i=1e9){for(let s=0,r=0,o=!0;r<n.length&&s<=i;r++){let a=n[r],l=s+a.length;l>=t&&(l>i&&(a=a.slice(0,i-s)),s<t&&(a=a.slice(t-s)),o?(e[e.length-1]+=a,o=!1):e.push(a)),s=l+1}return e}function jf(n,e,t){return yo(n,[""],e,t)}class ur{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],r=this.offsets[i],o=r>>1,a=s instanceof et?s.text.length:s.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof et){let l=s.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=s.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof et?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class TO{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ur(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class RO{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ze.prototype[Symbol.iterator]=function(){return this.iter()},ur.prototype[Symbol.iterator]=TO.prototype[Symbol.iterator]=RO.prototype[Symbol.iterator]=function(){return this});class Jy{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function Cn(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let kn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<kn.length;n++)kn[n]+=kn[n-1];function ev(n){for(let e=1;e<kn.length;e+=2)if(kn[e]>n)return kn[e-1]<=n;return!1}function Vf(n){return n>=127462&&n<=127487}const Zf=8205;function Li(n,e,t=!0,i=!0){return(t?UO:tv)(n,e,i)}function UO(n,e,t){if(e==n.length)return e;e&&WO(n.charCodeAt(e))&&YO(n.charCodeAt(e-1))&&e--;let i=Va(n,e);for(e+=_f(i);e<n.length;){let s=Va(n,e);if(i==Zf||s==Zf||t&&ev(s))e+=_f(s),i=s;else if(Vf(s)){let r=0,o=e-2;for(;o>=0&&Vf(Va(n,o));)r++,o-=2;if(r%2==0)break;e+=2}else break}return e}function tv(n,e,t){for(;e>0;){let i=UO(n,e-2,t);if(i<e)return i;e--}return 0}function WO(n){return n>=56320&&n<57344}function YO(n){return n>=55296&&n<56320}function Va(n,e){let t=n.charCodeAt(e);if(!YO(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return WO(i)?(t-55296<<10)+(i-56320)+65536:t}function _f(n){return n<65536?1:2}const ul=/\r\n?|\n/;var Nt=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Nt||(Nt={}));class Bi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(i,s,r),s+=r):s+=o,i+=r}}iterChangedRanges(e,t=!1){Ol(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new Bi(e)}composeDesc(e){return this.empty?e:e.empty?this:zO(this,e)}mapDesc(e,t=!1){return e.empty?this:dl(this,e,t)}mapPos(e,t=-1,i=Nt.Simple){let s=0,r=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],h=s+a;if(l<0){if(h>e)return r+(e-s);r+=a}else{if(i!=Nt.Simple&&h>=e&&(i==Nt.TrackDel&&s<e&&h>e||i==Nt.TrackBefore&&s<e||i==Nt.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!a)return e==s||t<0?r:r+l;r+=l}s=h}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return r}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let r=this.sections[i++],o=this.sections[i++],a=s+r;if(o>=0&&s<=t&&a>=e)return s<e&&a>t?"cover":!0;s=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Bi(e)}static create(e){return new Bi(e)}}class ut extends Bi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ol(this,(t,i,s,r,o)=>e=e.replace(s,s+(i-t),o),!1),e}mapDesc(e,t=!1){return dl(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,r=0;s<t.length;s+=2){let o=t[s],a=t[s+1];if(a>=0){t[s]=a,t[s+1]=o;let l=s>>1;for(;i.length<l;)i.push(ze.empty);i.push(o?e.slice(r,r+o):ze.empty)}r+=o}return new ut(t,i)}compose(e){return this.empty?e:e.empty?this:zO(this,e,!0)}map(e,t=!1){return e.empty?this:dl(this,e,t,!0)}iterChanges(e,t=!1){Ol(this,e,t)}get desc(){return Bi.create(this.sections)}filter(e){let t=[],i=[],s=[],r=new yr(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&r.len==0;){if(r.done)break e;let c=Math.min(r.len,l-a);Qt(s,c,-1);let u=r.ins==-1?-1:r.off==0?r.ins:0;Qt(t,c,u),u>0&&fs(i,t,r.text),r.forward(c),a+=c}let h=e[o++];for(;a<h;){if(r.done)break e;let c=Math.min(r.len,h-a);Qt(t,c,-1),Qt(s,c,r.ins==-1?-1:r.off==0?r.ins:0),r.forward(c),a+=c}}return{changes:new ut(t,i),filtered:Bi.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],r=[],o=0,a=null;function l(c=!1){if(!c&&!s.length)return;o<t&&Qt(s,t-o,-1);let u=new ut(s,r);a=a?a.compose(u.map(a)):u,s=[],r=[],o=0}function h(c){if(Array.isArray(c))for(let u of c)h(u);else if(c instanceof ut){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:u,to:d=u,insert:g}=c;if(u>d||u<0||d>t)throw new RangeError(`Invalid change range ${u} to ${d} (in doc of length ${t})`);let m=g?typeof g=="string"?ze.of(g.split(i||ul)):g:ze.empty,v=m.length;if(u==d&&v==0)return;u<o&&l(),u>o&&Qt(s,u-o,-1),Qt(s,d-u,v),fs(r,s,m),o=d}}return h(e),l(!a),a}static empty(e){return new ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let r=e[s];if(typeof r=="number")t.push(r,-1);else{if(!Array.isArray(r)||typeof r[0]!="number"||r.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(r.length==1)t.push(r[0],0);else{for(;i.length<s;)i.push(ze.empty);i[s]=ze.of(r.slice(1)),t.push(r[0],i[s].length)}}}return new ut(t,i)}static createSet(e,t){return new ut(e,t)}}function Qt(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function fs(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(ze.empty);n.push(t)}}function Ol(n,e,t){let i=n.inserted;for(let s=0,r=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)s+=a,r+=a;else{let h=s,c=r,u=ze.empty;for(;h+=a,c+=l,l&&i&&(u=u.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(s,h,r,c,u),s=h,r=c}}}function dl(n,e,t,i=!1){let s=[],r=i?[]:null,o=new yr(n),a=new yr(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let h=Math.min(o.len,a.len);Qt(s,h,-1),o.forward(h),a.forward(h)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let h=a.len;for(Qt(s,a.ins,-1);h;){let c=Math.min(o.len,h);o.ins>=0&&l<o.i&&o.len<=c&&(Qt(s,0,o.ins),r&&fs(r,s,o.text),l=o.i),o.forward(c),h-=c}a.next()}else if(o.ins>=0){let h=0,c=o.len;for(;c;)if(a.ins==-1){let u=Math.min(c,a.len);h+=u,c-=u,a.forward(u)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Qt(s,h,l<o.i?o.ins:0),r&&l<o.i&&fs(r,s,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return r?ut.createSet(s,r):Bi.create(s);throw new Error("Mismatched change set lengths")}}function zO(n,e,t=!1){let i=[],s=t?[]:null,r=new yr(n),o=new yr(e);for(let a=!1;;){if(r.done&&o.done)return s?ut.createSet(i,s):Bi.create(i);if(r.ins==0)Qt(i,r.len,0,a),r.next();else if(o.len==0&&!o.done)Qt(i,0,o.ins,a),s&&fs(s,i,o.text),o.next();else{if(r.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(r.len2,o.len),h=i.length;if(r.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Qt(i,l,c,a),s&&c&&fs(s,i,o.text)}else o.ins==-1?(Qt(i,r.off?0:r.len,l,a),s&&fs(s,i,r.textBit(l))):(Qt(i,r.off?0:r.len,o.off?0:o.ins,a),s&&!o.off&&fs(s,i,o.text));a=(r.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>h),r.forward2(l),o.forward(l)}}}}class yr{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ze.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ze.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class js{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new js(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ne.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ne.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ne.range(e.anchor,e.head)}static create(e,t,i){return new js(e,t,i)}}class ne{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ne.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ne([this.main],0)}addRange(e,t=!0){return ne.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,ne.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ne(e.ranges.map(t=>js.fromJSON(t)),e.main)}static single(e,t=e){return new ne([ne.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let r=e[s];if(r.empty?r.from<=i:r.from<i)return ne.normalized(e.slice(),t);i=r.to}return new ne(e,t)}static cursor(e,t=0,i,s){return js.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let r=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?js.create(t,e,48|r):js.create(e,t,(t>e?8:0)|r)}static normalized(e,t=0){let i=e[t];e.sort((s,r)=>s.from-r.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let r=e[s],o=e[s-1];if(r.empty?r.from<=o.to:r.from<o.to){let a=o.from,l=Math.max(r.to,o.to);s<=t&&t--,e.splice(--s,2,r.anchor>r.head?ne.range(l,a):ne.range(a,l))}}return new ne(e,t)}}function CO(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let lh=0;class be{constructor(e,t,i,s,r){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=lh++,this.default=e([]),this.extensions=typeof r=="function"?r(this):r}get reader(){return this}static define(e={}){return new be(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:hh),!!e.static,e.enables)}of(e){return new vo([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new vo(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new vo(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function hh(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class vo{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=lh++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,r=this.id,o=e[r]>>1,a=this.type==2,l=!1,h=!1,c=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?h=!0:((t=e[u.id])!==null&&t!==void 0?t:1)&1||c.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,d){if(l&&d.docChanged||h&&(d.docChanged||d.selection)||pl(u,c)){let g=i(u);if(a?!qf(g,u.values[o],s):!s(g,u.values[o]))return u.values[o]=g,1}return 0},reconfigure:(u,d)=>{let g,m=d.config.address[r];if(m!=null){let v=To(d,m);if(this.dependencies.every(w=>w instanceof be?d.facet(w)===u.facet(w):w instanceof fn?d.field(w,!1)==u.field(w,!1):!0)||(a?qf(g=i(u),v,s):s(g=i(u),v)))return u.values[o]=v,0}else g=i(u);return u.values[o]=g,1}}}}function qf(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function pl(n,e){let t=!1;for(let i of e)Or(n,i)&1&&(t=!0);return t}function iv(n,e,t){let i=t.map(l=>n[l.id]),s=t.map(l=>l.type),r=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let h=[];for(let c=0;c<i.length;c++){let u=To(l,i[c]);if(s[c]==2)for(let d of u)h.push(d);else h.push(u)}return e.combine(h)}return{create(l){for(let h of i)Or(l,h);return l.values[o]=a(l),1},update(l,h){if(!pl(l,r))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,h){let c=pl(l,i),u=h.config.facets[e.id],d=h.facet(e);if(u&&!c&&hh(t,u))return l.values[o]=d,0;let g=a(l);return e.compare(g,d)?(l.values[o]=d,0):(l.values[o]=g,1)}}}const Mf=be.define({static:!0});class fn{constructor(e,t,i,s,r){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=r,this.provides=void 0}static define(e){let t=new fn(lh++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Mf).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let r=i.values[t],o=this.updateF(r,s);return this.compareF(r,o)?0:(i.values[t]=o,1)},reconfigure:(i,s)=>s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,Mf.of({field:this,create:e})]}get extension(){return this}}const As={lowest:4,low:3,default:2,high:1,highest:0};function Kn(n){return e=>new AO(e,n)}const sv={highest:Kn(As.highest),high:Kn(As.high),default:Kn(As.default),low:Kn(As.low),lowest:Kn(As.lowest)};class AO{constructor(e,t){this.inner=e,this.prec=t}}class Ko{of(e){return new gl(this,e)}reconfigure(e){return Ko.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class gl{constructor(e,t){this.compartment=e,this.inner=t}}class ko{constructor(e,t,i,s,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],r=Object.create(null),o=new Map;for(let d of nv(e,t,o))d instanceof fn?s.push(d):(r[d.facet.id]||(r[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],h=[];for(let d of s)a[d.id]=h.length<<1,h.push(g=>d.slot(g));let c=i==null?void 0:i.config.facets;for(let d in r){let g=r[d],m=g[0].facet,v=c&&c[d]||[];if(g.every(w=>w.type==0))if(a[m.id]=l.length<<1|1,hh(v,g))l.push(i.facet(m));else{let w=m.combine(g.map(X=>X.value));l.push(i&&m.compare(w,i.facet(m))?i.facet(m):w)}else{for(let w of g)w.type==0?(a[w.id]=l.length<<1|1,l.push(w.value)):(a[w.id]=h.length<<1,h.push(X=>w.dynamicSlot(X)));a[m.id]=h.length<<1,h.push(w=>iv(w,m,g))}}let u=h.map(d=>d(a));return new ko(e,o,u,a,l,r)}}function nv(n,e,t){let i=[[],[],[],[],[]],s=new Map;function r(o,a){let l=s.get(o);if(l!=null){if(l<=a)return;let h=i[l].indexOf(o);h>-1&&i[l].splice(h,1),o instanceof gl&&t.delete(o.compartment)}if(s.set(o,a),Array.isArray(o))for(let h of o)r(h,a);else if(o instanceof gl){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),r(h,a)}else if(o instanceof AO)r(o.inner,o.prec);else if(o instanceof fn)i[a].push(o),o.provides&&r(o.provides,a);else if(o instanceof vo)i[a].push(o),o.facet.extensions&&r(o.facet.extensions,As.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(h,a)}}return r(n,As.default),i.reduce((o,a)=>o.concat(a))}function Or(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function To(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const jO=be.define(),ml=be.define({combine:n=>n.some(e=>e),static:!0}),VO=be.define({combine:n=>n.length?n[0]:void 0,static:!0}),ZO=be.define(),_O=be.define(),qO=be.define(),MO=be.define({combine:n=>n.length?n[0]:!1});class Bn{constructor(e,t){this.type=e,this.value=t}static define(){return new rv}}class rv{of(e){return new Bn(this,e)}}class ov{constructor(e){this.map=e}of(e){return new dt(this,e)}}class dt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new dt(this.type,t)}is(e){return this.type==e}static define(e={}){return new ov(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let r=s.map(t);r&&i.push(r)}return i}}dt.reconfigure=dt.define();dt.appendConfig=dt.define();class Pt{constructor(e,t,i,s,r,o){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,i&&CO(i,t.newLength),r.some(a=>a.type==Pt.time)||(this.annotations=r.concat(Pt.time.of(Date.now())))}static create(e,t,i,s,r,o){return new Pt(e,t,i,s,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Pt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Pt.time=Bn.define();Pt.userEvent=Bn.define();Pt.addToHistory=Bn.define();Pt.remote=Bn.define();function av(n,e){let t=[];for(let i=0,s=0;;){let r,o;if(i<n.length&&(s==e.length||e[s]>=n[i]))r=n[i++],o=n[i++];else if(s<e.length)r=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<r?t.push(r,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function DO(n,e,t){var i;let s,r,o;return t?(s=e.changes,r=ut.empty(e.changes.length),o=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),r=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(r):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:dt.mapEffects(n.effects,s).concat(dt.mapEffects(e.effects,r)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function yl(n,e,t){let i=e.selection,s=Tn(e.annotations);return e.userEvent&&(s=s.concat(Pt.userEvent.of(e.userEvent))),{changes:e.changes instanceof ut?e.changes:ut.of(e.changes||[],t,n.facet(VO)),selection:i&&(i instanceof ne?i:ne.single(i.anchor,i.head)),effects:Tn(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function EO(n,e,t){let i=yl(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let r=1;r<e.length;r++){e[r].filter===!1&&(t=!1);let o=!!e[r].sequential;i=DO(i,yl(n,e[r],o?i.changes.newLength:n.doc.length),o)}let s=Pt.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return hv(t?lv(s):s)}function lv(n){let e=n.startState,t=!0;for(let s of e.facet(ZO)){let r=s(n);if(r===!1){t=!1;break}Array.isArray(r)&&(t=t===!0?r:av(t,r))}if(t!==!0){let s,r;if(t===!1)r=n.changes.invertedDesc,s=ut.empty(e.doc.length);else{let o=n.changes.filter(t);s=o.changes,r=o.filtered.mapDesc(o.changes).invertedDesc}n=Pt.create(e,s,n.selection&&n.selection.map(r),dt.mapEffects(n.effects,r),n.annotations,n.scrollIntoView)}let i=e.facet(_O);for(let s=i.length-1;s>=0;s--){let r=i[s](n);r instanceof Pt?n=r:Array.isArray(r)&&r.length==1&&r[0]instanceof Pt?n=r[0]:n=EO(e,Tn(r),!1)}return n}function hv(n){let e=n.startState,t=e.facet(qO),i=n;for(let s=t.length-1;s>=0;s--){let r=t[s](n);r&&Object.keys(r).length&&(i=DO(i,yl(e,r,n.changes.newLength),!0))}return i==n?n:Pt.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const cv=[];function Tn(n){return n==null?cv:Array.isArray(n)?n:[n]}var Ii=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Ii||(Ii={}));const fv=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let vl;try{vl=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function uv(n){if(vl)return vl.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||fv.test(t)))return!0}return!1}function Ov(n){return e=>{if(!/\S/.test(e))return Ii.Space;if(uv(e))return Ii.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Ii.Word;return Ii.Other}}class Ae{constructor(e,t,i,s,r,o){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Or(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Or(this,i),To(this,i)}update(...e){return EO(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let a of e.effects)a.is(Ko.reconfigure)?(t&&(s=new Map,t.compartments.forEach((l,h)=>s.set(h,l)),t=null),s.set(a.value.compartment,a.value.extension)):a.is(dt.reconfigure)?(t=null,i=a.value):a.is(dt.appendConfig)&&(t=null,i=Tn(i).concat(a.value));let r;t?r=e.startState.values.slice():(t=ko.resolve(i,s,this),r=new Ae(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,h)=>h.reconfigure(l,this),null).values);let o=e.startState.facet(ml)?e.newSelection:e.newSelection.asSingle();new Ae(t,e.newDoc,o,r,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ne.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),r=[i.range],o=Tn(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),h=this.changes(l.changes),c=h.map(s);for(let d=0;d<a;d++)r[d]=r[d].map(c);let u=s.mapDesc(h,!0);r.push(l.range.map(u)),s=s.compose(c),o=dt.mapEffects(o,c).concat(dt.mapEffects(Tn(l.effects),u))}return{changes:s,selection:ne.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof ut?e:ut.of(e,this.doc.length,this.facet(Ae.lineSeparator))}toText(e){return ze.of(e.split(this.facet(Ae.lineSeparator)||ul))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Or(this,t),To(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof fn&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let r in i)if(Object.prototype.hasOwnProperty.call(e,r)){let o=i[r],a=e[r];s.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ae.create({doc:e.doc,selection:ne.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=ko.resolve(e.extensions||[],new Map),i=e.doc instanceof ze?e.doc:ze.of((e.doc||"").split(t.staticFacet(Ae.lineSeparator)||ul)),s=e.selection?e.selection instanceof ne?e.selection:ne.single(e.selection.anchor,e.selection.head):ne.single(0);return CO(s,i.length),t.staticFacet(ml)||(s=s.asSingle()),new Ae(t,i,s,t.dynamicSlots.map(()=>null),(r,o)=>o.create(r),null)}get tabSize(){return this.facet(Ae.tabSize)}get lineBreak(){return this.facet(Ae.lineSeparator)||`
`}get readOnly(){return this.facet(MO)}phrase(e,...t){for(let i of this.facet(Ae.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let r=+(s||1);return!r||r>t.length?i:t[r-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let r of this.facet(jO))for(let o of r(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return Ov(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Li(t,o,!1);if(r(t.slice(l,o))!=Ii.Word)break;o=l}for(;a<s;){let l=Li(t,a);if(r(t.slice(a,l))!=Ii.Word)break;a=l}return o==a?null:ne.range(o+i,a+i)}}Ae.allowMultipleSelections=ml;Ae.tabSize=be.define({combine:n=>n.length?n[0]:4});Ae.lineSeparator=VO;Ae.readOnly=MO;Ae.phrases=be.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});Ae.languageData=jO;Ae.changeFilter=ZO;Ae.transactionFilter=_O;Ae.transactionExtender=qO;Ko.reconfigure=dt.define();class An{eq(e){return this==e}range(e,t=e){return vr.create(e,t,this)}}An.prototype.startSide=An.prototype.endSide=0;An.prototype.point=!1;An.prototype.mapMode=Nt.TrackDel;class vr{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new vr(e,t,i)}}function bl(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class ch{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let r=i?this.to:this.from;for(let o=s,a=r.length;;){if(o==a)return o;let l=o+a>>1,h=r[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return h>=0?o:a;h>=0?a=l:o=l+1}}between(e,t,i,s){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,r);r<o;r++)if(s(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,t){let i=[],s=[],r=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,u=this.to[l]+e,d,g;if(c==u){let m=t.mapPos(c,h.startSide,h.mapMode);if(m==null||(d=g=m,h.startSide!=h.endSide&&(g=t.mapPos(c,h.endSide),g<d)))continue}else if(d=t.mapPos(c,h.startSide),g=t.mapPos(u,h.endSide),d>g||d==g&&h.startSide>0&&h.endSide<=0)continue;(g-d||h.endSide-h.startSide)<0||(o<0&&(o=d),h.point&&(a=Math.max(a,g-d)),i.push(h),s.push(d-o),r.push(g-o))}return{mapped:i.length?new ch(s,r,i,a):null,pos:o}}}class Ne{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new Ne(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:r=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(bl)),this.isEmpty)return t.length?Ne.of(t):this;let a=new LO(this,null,-1).goto(0),l=0,h=[],c=new Ro;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];c.addInner(u.from,u.to,u.value)||h.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||s>this.chunkEnd(a.chunkIndex)||r<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||s>a.to||r<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||h.push(vr.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?Ne.empty:this.nextLayer.update({add:h,filter:o,filterFrom:s,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],h=e.touchesRange(a,a+l.length);if(h===!1)s=Math.max(s,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(h===!0){let{mapped:c,pos:u}=l.map(a,e);c&&(s=Math.max(s,c.maxPoint),t.push(c),i.push(u))}}let r=this.nextLayer.map(e);return t.length==0?r:new Ne(i,t,r||Ne.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s];if(t>=r&&e<=r+o.length&&o.between(r,e-r,t-r,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return br.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return br.from(e).goto(t)}static compare(e,t,i,s,r=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=r),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=r),l=Df(o,a,i),h=new Jn(o,l,r),c=new Jn(a,l,r);i.iterGaps((u,d,g)=>Ef(h,u,c,d,g,s)),i.empty&&i.length==0&&Ef(h,0,c,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=1e9-1);let r=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let a=Df(r,o),l=new Jn(r,a,0).goto(i),h=new Jn(o,a,0).goto(i);for(;;){if(l.to!=h.to||!wl(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>s)return!0;l.next(),h.next()}}static spans(e,t,i,s,r=-1){let o=new Jn(e,null,r).goto(t),a=t,l=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point){let c=o.activeForPoint(o.to),u=o.pointFrom<t?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);s.point(a,h,o.point,c,u,o.pointRank),l=Math.min(o.openEnd(h),c.length)}else h>a&&(s.span(a,h,o.active,l),l=o.openEnd(h));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new Ro;for(let s of e instanceof vr?[e]:t?dv(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return Ne.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=Ne.empty;s=s.nextLayer)t=new Ne(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}Ne.empty=new Ne([],[],null,-1);function dv(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(bl(e,i)>0)return n.slice().sort(bl);e=i}return n}Ne.empty.nextLayer=Ne.empty;class Ro{finishChunk(e){this.chunks.push(new ch(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ro)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ne.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ne.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Df(n,e,t){let i=new Map;for(let r of n)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&i.set(r.chunk[o],r.chunkPos[o]);let s=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let a=i.get(r.chunk[o]);a!=null&&(t?t.mapPos(a):a)==r.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+r.chunk[o].length))&&s.add(r.chunk[o])}return s}class LO{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class br{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&s.push(new LO(o,t,i,r));return s.length==1?s[0]:new br(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Za(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Za(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Za(this.heap,0)}}}function Za(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class Jn{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=br.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Nr(this.active,e),Nr(this.activeTo,e),Nr(this.activeRank,e),this.minActive=Lf(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:r}=this.cursor;for(;t<this.activeRank.length&&(r-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Fr(this.active,t,i),Fr(this.activeTo,t,s),Fr(this.activeRank,t,r),e&&Fr(e,t,this.cursor.from),this.minActive=Lf(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Nr(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function Ef(n,e,t,i,s,r){n.goto(e),t.goto(i);let o=i+s,a=i,l=i-e;for(;;){let h=n.to+l-t.to||n.endSide-t.endSide,c=h<0?n.to+l:t.to,u=Math.min(c,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&wl(n.activeForPoint(n.to),t.activeForPoint(t.to))||r.comparePoint(a,u,n.point,t.point):u>a&&!wl(n.active,t.active)&&r.compareRange(a,u,n.active,t.active),c>o)break;a=c,h<=0&&n.next(),h>=0&&t.next()}}function wl(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Nr(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Fr(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Lf(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function pv(n,e,t,i){for(let s=0,r=0;;){if(r>=e)return s;if(s==n.length)break;r+=n.charCodeAt(s)==9?t-r%t:1,s=Li(n,s)}return i===!0?-1:n.length}const xl="",If=typeof Symbol>"u"?"__"+xl:Symbol.for(xl),$l=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ws{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function r(o,a,l,h){let c=[],u=/^@(\w+)\b/.exec(o[0]),d=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let g in a){let m=a[g];if(/&/.test(g))r(g.split(/,\s*/).map(v=>o.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),m,l);else if(m&&typeof m=="object"){if(!u)throw new RangeError("The value of a property ("+g+") should be a primitive value.");r(s(g),m,c,d)}else m!=null&&c.push(g.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+m+";")}(c.length||d)&&l.push((i&&!u&&!h?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)r(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Bf[If]||1;return Bf[If]=e+1,xl+e.toString(36)}static mount(e,t,i){let s=e[$l],r=i&&i.nonce;s?r&&s.setNonce(r):s=new gv(e,r),s.mount(Array.isArray(t)?t:[t],e)}}let Nf=new Map;class gv{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let r=Nf.get(i);if(r)return e[$l]=r;this.sheet=new s.CSSStyleSheet,Nf.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[$l]=this}mount(e,t){let i=this.sheet,s=0,r=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,a),i)for(let h=0;h<a.rules.length;h++)i.insertRule(a.rules[h],s++)}else{for(;r<l;)s+=this.modules[r++].rules.length;s+=a.rules.length,r++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var jn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'};for(var wt=0;wt<10;wt++)jn[48+wt]=jn[96+wt]=String(wt);for(var wt=1;wt<=24;wt++)jn[wt+111]="F"+wt;for(var wt=65;wt<=90;wt++)jn[wt]=String.fromCharCode(wt+32),Sl[wt]=String.fromCharCode(wt);for(var _a in jn)Sl.hasOwnProperty(_a)||(Sl[_a]=jn[_a]);function Uo(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Ql(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function mv(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bo(n,e){if(!e.anchorNode)return!1;try{return Ql(n,e.anchorNode)}catch{return!1}}function wr(n){return n.nodeType==3?rn(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function dr(n,e,t,i){return t?Ff(n,e,t,i,-1)||Ff(n,e,t,i,1):!1}function nn(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Wo(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Ff(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Ki(n))){if(n.nodeName=="DIV")return!1;let r=n.parentNode;if(!r||r.nodeType!=1)return!1;e=nn(n)+(s<0?0:1),n=r}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Ki(n):0}else return!1}}function Ki(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function fh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function yv(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function IO(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function vv(n,e,t,i,s,r,o,a){let l=n.ownerDocument,h=l.defaultView||window;for(let c=n,u=!1;c&&!u;)if(c.nodeType==1){let d,g=c==l.body,m=1,v=1;if(g)d=yv(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(u=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let R=c.getBoundingClientRect();({scaleX:m,scaleY:v}=IO(c,R)),d={left:R.left,right:R.left+c.clientWidth*m,top:R.top,bottom:R.top+c.clientHeight*v}}let w=0,X=0;if(s=="nearest")e.top<d.top?(X=-(d.top-e.top+o),t>0&&e.bottom>d.bottom+X&&(X=e.bottom-d.bottom+X+o)):e.bottom>d.bottom&&(X=e.bottom-d.bottom+o,t<0&&e.top-X<d.top&&(X=-(d.top+X-e.top+o)));else{let R=e.bottom-e.top,_=d.bottom-d.top;X=(s=="center"&&R<=_?e.top+R/2-_/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-_+o)-d.top}if(i=="nearest"?e.left<d.left?(w=-(d.left-e.left+r),t>0&&e.right>d.right+w&&(w=e.right-d.right+w+r)):e.right>d.right&&(w=e.right-d.right+r,t<0&&e.left<d.left+w&&(w=-(d.left+w-e.left+r))):w=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-r:e.right-(d.right-d.left)+r)-d.left,w||X)if(g)h.scrollBy(w,X);else{let R=0,_=0;if(X){let C=c.scrollTop;c.scrollTop+=X/v,_=(c.scrollTop-C)*v}if(w){let C=c.scrollLeft;c.scrollLeft+=w/m,R=(c.scrollLeft-C)*m}e={left:e.left-R,top:e.top-_,right:e.right-R,bottom:e.bottom-_},R&&Math.abs(R-w)<1&&(i="nearest"),_&&Math.abs(_-X)<1&&(s="nearest")}if(g)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function bv(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class wv{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ki(t):0),i,Math.min(e.focusOffset,i?Ki(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let $n=null;function BO(n){if(n.setActive)return n.setActive();if($n)return n.focus($n);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus($n==null?{get preventScroll(){return $n={preventScroll:!0},!0}}:void 0),!$n){$n=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],r=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=r&&(i.scrollLeft=r)}}}let Gf;function rn(n,e,t=e){let i=Gf||(Gf=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Rn(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let r=new KeyboardEvent("keydown",s);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function xv(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function NO(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function $v(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Ki(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=Ki(t))}else{if(t==n)return!0;i=nn(t),t=t.parentNode}}function FO(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function GO(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=Ki(t)}else if(t.parentNode&&!Wo(t))i=nn(t),t=t.parentNode;else return null}}function HO(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Wo(t))i=nn(t)+1,t=t.parentNode;else return null}}class Xt{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Xt(e.parentNode,nn(e),t)}static after(e,t){return new Xt(e.parentNode,nn(e)+1,t)}}const uh=[];class _e{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,s=null,r;for(let o of this.children){if(o.flags&7){if(!o.dom&&(r=s?s.nextSibling:i.firstChild)){let a=_e.get(r);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(r)}o.sync(e,t),o.flags&=-8}if(r=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&r!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;r&&r!=o.dom;)r=Hf(r);else i.insertBefore(o.dom,r);s=o.dom}for(r=s?s.nextSibling:i.firstChild,r&&t&&t.node==i&&(t.written=!0);r;)r=Hf(r)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=Ki(e)==0?0:t==0?-1:1;for(;;){let r=e.parentNode;if(r==this.dom)break;s==0&&r.firstChild!=r.lastChild&&(e==r.firstChild?s=-1:s=1),e=r}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!_e.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,r=0;;s++){let o=this.children[s];if(o.dom==i)return r;r+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,r=-1,o=-1,a=-1;for(let l=0,h=i,c=i;l<this.children.length;l++){let u=this.children[l],d=h+u.length;if(h<e&&d>t)return u.domBoundsAround(e,t,h);if(d>=e&&s==-1&&(s=l,r=h),h>t&&u.dom.parentNode==this.dom){o=l,a=c;break}c=d,h=d+u.breakAfter}return{from:r,to:a<0?i+this.length:a,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=uh){this.markDirty();for(let s=e;s<t;s++){let r=this.children[s];r.parent==this&&i.indexOf(r)<0&&r.destroy()}this.children.splice(e,t-e,...i);for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new KO(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,r,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}_e.prototype.breakAfter=0;function Hf(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class KO{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function JO(n,e,t,i,s,r,o,a,l){let{children:h}=n,c=h.length?h[e]:null,u=r.length?r[r.length-1]:null,d=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!d&&r.length<2&&c.merge(t,s,r.length?u:null,t==0,a,l))){if(i<h.length){let g=h[i];g&&(s<g.length||g.breakAfter&&(u!=null&&u.breakAfter))?(e==i&&(g=g.split(s),s=0),!d&&u&&g.merge(0,s,u,!0,0,l)?r[r.length-1]=g:((s||g.children.length&&!g.children[0].length)&&g.merge(0,s,null,!1,0,l),r.push(g))):g!=null&&g.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,t>0&&(!o&&r.length&&c.merge(t,c.length,r[0],!1,a,0)?c.breakAfter=r.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&r.length;)if(h[i-1].become(r[r.length-1]))i--,r.pop(),l=r.length?0:a;else if(h[e].become(r[0]))e++,r.shift(),a=r.length?0:l;else break;!r.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||r.length)&&n.replaceChildren(e,i,r)}}function ed(n,e,t,i,s,r){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:h,off:c}=o.findPos(e,-1),u=e-t;for(let d of i)u+=d.length;n.length+=u,JO(n,h,c,a,l,i,0,s,r)}let jt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Xl=typeof document<"u"?document:{documentElement:{style:{}}};const Pl=/Edge\/(\d+)/.exec(jt.userAgent),td=/MSIE \d/.test(jt.userAgent),kl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jt.userAgent),Jo=!!(td||kl||Pl),Kf=!Jo&&/gecko\/(\d+)/i.test(jt.userAgent),qa=!Jo&&/Chrome\/(\d+)/.exec(jt.userAgent),Jf="webkitFontSmoothing"in Xl.documentElement.style,id=!Jo&&/Apple Computer/.test(jt.vendor),eu=id&&(/Mobile\/\w+/.test(jt.userAgent)||jt.maxTouchPoints>2);var te={mac:eu||/Mac/.test(jt.platform),windows:/Win/.test(jt.platform),linux:/Linux|X11/.test(jt.platform),ie:Jo,ie_version:td?Xl.documentMode||6:kl?+kl[1]:Pl?+Pl[1]:0,gecko:Kf,gecko_version:Kf?+(/Firefox\/(\d+)/.exec(jt.userAgent)||[0,0])[1]:0,chrome:!!qa,chrome_version:qa?+qa[1]:0,ios:eu,android:/Android\b/.test(jt.userAgent),webkit:Jf,safari:id,webkit_version:Jf?+(/\bAppleWebKit\/(\d+)/.exec(jt.userAgent)||[0,0])[1]:0,tabSize:Xl.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Sv=256;class gi extends _e{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof gi)||this.length-(t-e)+i.length>Sv||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new gi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Xt(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Qv(this.dom,e,t)}}class Ji extends _e{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(NO(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,r,o){return i&&(!(i instanceof Ji&&i.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0)?!1:(ed(this,e,t,i?i.children.slice():[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,r=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),s<0&&i>=e&&(s=r),i=l,r++}let o=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Ji(this.mark,t,o)}domAtPos(e){return sd(this,e)}coordsAt(e,t){return rd(this,e,t)}}function Qv(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,r=e,o=0;e==0&&t<0||e==i&&t>=0?te.chrome||te.gecko||(e?(s--,o=1):r<i&&(r++,o=-1)):t<0?s--:r<i&&r++;let a=rn(n,s,r).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return te.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,h=>h.width)||l),o?fh(l,o<0):l||null}class Vs extends _e{static create(e,t,i){return new Vs(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Vs.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,s,r,o){return i&&(!(i instanceof Vs)||!this.widget.compare(i.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Vs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ze.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):ze.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Xt.before(this.dom):Xt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),r=null;if(!s.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?s.length-1:0;r=s[a],!(e>0?a==0:a==s.length-1||r.top<r.bottom);a+=o?-1:1);return fh(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Vn extends _e{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Vn&&e.side==this.side}split(){return new Vn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Xt.before(this.dom):Xt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ze.empty}get isHidden(){return!0}}gi.prototype.children=Vs.prototype.children=Vn.prototype.children=uh;function sd(n,e){let t=n.dom,{children:i}=n,s=0;for(let r=0;s<i.length;s++){let o=i[s],a=r+o.length;if(!(a==r&&o.getSide()<=0)){if(e>r&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-r);if(e<=r)break;r=a}}for(let r=s;r>0;r--){let o=i[r-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let r=s;r<i.length;r++){let o=i[r];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Xt(t,0)}function nd(n,e,t){let i,{children:s}=n;t>0&&e instanceof Ji&&s.length&&(i=s[s.length-1])instanceof Ji&&i.mark.eq(e.mark)?nd(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function rd(n,e,t){let i=null,s=-1,r=null,o=-1;function a(h,c){for(let u=0,d=0;u<h.children.length&&d<=c;u++){let g=h.children[u],m=d+g.length;m>=c&&(g.children.length?a(g,c-d):(!r||r.isHidden&&t>0)&&(m>c||d==m&&g.getSide()>0)?(r=g,o=c-d):(d<c||d==m&&g.getSide()<0&&!g.isHidden)&&(i=g,s=c-d)),d=m}}a(n,e);let l=(t<0?i:r)||i||r;return l?l.coordsAt(Math.max(0,l==i?s:o),t):Xv(n)}function Xv(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=wr(e);return t[t.length-1]||null}function Tl(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const tu=Object.create(null);function Oh(n,e,t){if(n==e)return!0;n||(n=tu),e||(e=tu);let i=Object.keys(n),s=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let r of i)if(r!=t&&(s.indexOf(r)==-1||n[r]!==e[r]))return!1;return!0}function Rl(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function Pv(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class nt extends _e{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,r,o){if(i){if(!(i instanceof nt))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),ed(this,e,t,i?i.children.slice():[],r,o),!0}split(e){let t=new nt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let r=i;r<this.children.length;r++)t.append(this.children[r],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Oh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){nd(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Tl(t,this.attrs||{})),i&&(this.attrs=Tl({class:i},this.attrs||{}))}domAtPos(e){return sd(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(NO(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Rl(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&_e.get(s)instanceof Ji;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=_e.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!te.ios||!this.children.some(r=>r instanceof gi))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof gi)||/[^ -~]/.test(i.text))return null;let s=wr(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=rd(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,r=i.bottom-i.top;if(Math.abs(r-s.lineHeight)<2&&s.textHeight<r){let o=(r-s.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let r=e.children[i],o=s+r.length;if(o>=t){if(r instanceof nt)return r;if(o>t)break}s=o+r.breakAfter}return null}}class Ni extends _e{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,r,o){return i&&(!(i instanceof Ni)||!this.widget.compare(i.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Xt.before(this.dom):Xt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ni(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return uh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ze.empty}domBoundsAround(){return null}become(e){return e instanceof Ni&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class dh{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Fi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Fi||(Fi={}));class Ht extends An{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Ur(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new xs(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:r,end:o}=od(e,t);i=(r?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new xs(e,i,s,t,e.widget||null,!0)}static line(e){return new Wr(e)}static set(e,t=!1){return Ne.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ht.none=Ne.empty;class Ur extends Ht{constructor(e){let{start:t,end:i}=od(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Ur&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Oh(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Ur.prototype.point=!1;class Wr extends Ht{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Wr&&this.spec.class==e.spec.class&&Oh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Wr.prototype.mapMode=Nt.TrackBefore;Wr.prototype.point=!0;class xs extends Ht{constructor(e,t,i,s,r,o){super(t,i,r,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?Nt.TrackBefore:Nt.TrackAfter:Nt.TrackDel}get type(){return this.startSide!=this.endSide?Fi.WidgetRange:this.startSide<=0?Fi.WidgetBefore:Fi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof xs&&kv(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}xs.prototype.point=!0;function od(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function kv(n,e){return n==e||!!(n&&e&&n.compare(e))}function Ul(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class pr{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ni&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new nt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Gr(new Vn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ni)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Gr(new gi(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,r,o){if(this.disallowBlockEffectsFor[o]&&i instanceof xs){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof xs)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ni(i.widget||Zn.block,a,i));else{let l=Vs.create(i.widget||Zn.inline,a,a?0:i.startSide),h=this.atCursorPos&&!l.isEditable&&r<=s.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||r>s.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!h&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),h&&(u.append(Gr(new Vn(1),s),r),r=s.length+Math.max(0,r-s.length)),u.append(Gr(l,s),r),this.atCursorPos=c,this.pendingBuffer=c?e<t||r>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,i,s,r){let o=new pr(e,t,i,r);return o.openEnd=Ne.spans(s,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Gr(n,e){for(let t of e)n=new Ji(t,[n],n.length);return n}class Zn extends dh{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Zn.inline=new Zn("span");Zn.block=new Zn("div");var xt=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(xt||(xt={}));const on=xt.LTR,ph=xt.RTL;function ad(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Tv=ad("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Rv=ad("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wl=Object.create(null),bi=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);Wl[e]=t,Wl[t]=-e}function ld(n){return n<=247?Tv[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Rv[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Uv=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class us{get dir(){return this.level%2?ph:on}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let r=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(r<0||(s!=0?s<0?a.from<t:a.to>t:e[r].level>a.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function hd(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!hd(i.inner,s.inner))return!1}return!0}const je=[];function Wv(n,e,t,i,s){for(let r=0;r<=i.length;r++){let o=r?i[r-1].to:e,a=r<i.length?i[r].from:t,l=r?256:s;for(let h=o,c=l,u=l;h<a;h++){let d=ld(n.charCodeAt(h));d==512?d=c:d==8&&u==4&&(d=16),je[h]=d==4?2:d,d&7&&(u=d),c=d}for(let h=o,c=l,u=l;h<a;h++){let d=je[h];if(d==128)h<a-1&&c==je[h+1]&&c&24?d=je[h]=c:je[h]=256;else if(d==64){let g=h+1;for(;g<a&&je[g]==64;)g++;let m=h&&c==8||g<t&&je[g]==8?u==1?1:8:256;for(let v=h;v<g;v++)je[v]=m;h=g-1}else d==8&&u==1&&(je[h]=1);c=d,d&7&&(u=d)}}}function Yv(n,e,t,i,s){let r=s==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let h=o?i[o-1].to:e,c=o<i.length?i[o].from:t;for(let u=h,d,g,m;u<c;u++)if(g=Wl[d=n.charCodeAt(u)])if(g<0){for(let v=a-3;v>=0;v-=3)if(bi[v+1]==-g){let w=bi[v+2],X=w&2?s:w&4?w&1?r:s:0;X&&(je[u]=je[bi[v]]=X),a=v;break}}else{if(bi.length==189)break;bi[a++]=u,bi[a++]=d,bi[a++]=l}else if((m=je[u])==2||m==1){let v=m==s;l=v?0:1;for(let w=a-3;w>=0;w-=3){let X=bi[w+2];if(X&2)break;if(v)bi[w+2]|=2;else{if(X&4)break;bi[w+2]|=4}}}}}function zv(n,e,t,i){for(let s=0,r=i;s<=t.length;s++){let o=s?t[s-1].to:n,a=s<t.length?t[s].from:e;for(let l=o;l<a;){let h=je[l];if(h==256){let c=l+1;for(;;)if(c==a){if(s==t.length)break;c=t[s++].to,a=s<t.length?t[s].from:e}else if(je[c]==256)c++;else break;let u=r==1,d=(c<e?je[c]:i)==1,g=u==d?u?1:2:i;for(let m=c,v=s,w=v?t[v-1].to:n;m>l;)m==w&&(m=t[--v].from,w=v?t[v-1].to:n),je[--m]=g;l=c}else r=h,l++}}}function Yl(n,e,t,i,s,r,o){let a=i%2?2:1;if(i%2==s%2)for(let l=e,h=0;l<t;){let c=!0,u=!1;if(h==r.length||l<r[h].from){let v=je[l];v!=a&&(c=!1,u=v==16)}let d=!c&&a==1?[]:null,g=c?i:i+1,m=l;e:for(;;)if(h<r.length&&m==r[h].from){if(u)break e;let v=r[h];if(!c)for(let w=v.to,X=h+1;;){if(w==t)break e;if(X<r.length&&r[X].from==w)w=r[X++].to;else{if(je[w]==a)break e;break}}if(h++,d)d.push(v);else{v.from>l&&o.push(new us(l,v.from,g));let w=v.direction==on!=!(g%2);zl(n,w?i+1:i,s,v.inner,v.from,v.to,o),l=v.to}m=v.to}else{if(m==t||(c?je[m]!=a:je[m]==a))break;m++}d?Yl(n,l,m,i+1,s,d,o):l<m&&o.push(new us(l,m,g)),l=m}else for(let l=t,h=r.length;l>e;){let c=!0,u=!1;if(!h||l>r[h-1].to){let v=je[l-1];v!=a&&(c=!1,u=v==16)}let d=!c&&a==1?[]:null,g=c?i:i+1,m=l;e:for(;;)if(h&&m==r[h-1].to){if(u)break e;let v=r[--h];if(!c)for(let w=v.from,X=h;;){if(w==e)break e;if(X&&r[X-1].to==w)w=r[--X].from;else{if(je[w-1]==a)break e;break}}if(d)d.push(v);else{v.to<l&&o.push(new us(v.to,l,g));let w=v.direction==on!=!(g%2);zl(n,w?i+1:i,s,v.inner,v.from,v.to,o),l=v.from}m=v.from}else{if(m==e||(c?je[m-1]!=a:je[m-1]==a))break;m--}d?Yl(n,m,l,i+1,s,d,o):m<l&&o.push(new us(m,l,g)),l=m}}function zl(n,e,t,i,s,r,o){let a=e%2?2:1;Wv(n,s,r,i,a),Yv(n,s,r,i,a),zv(s,r,i,a),Yl(n,s,r,e,t,i,o)}function Cv(n,e,t){if(!n)return[new us(0,0,e==ph?1:0)];if(e==on&&!t.length&&!Uv.test(n))return cd(n.length);if(t.length)for(;n.length>je.length;)je[je.length]=256;let i=[],s=e==on?0:1;return zl(n,s,s,t,0,n.length,i),i}function cd(n){return[new us(0,n,0)]}let fd="";function Av(n,e,t,i,s){var r;let o=i.head-n.from,a=us.find(e,o,(r=i.bidiLevel)!==null&&r!==void 0?r:-1,i.assoc),l=e[a],h=l.side(s,t);if(o==h){let d=a+=s?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!s,t),h=l.side(s,t)}let c=Li(n.text,o,l.forward(s,t));(c<l.from||c>l.to)&&(c=h),fd=n.text.slice(Math.min(o,c),Math.max(o,c));let u=a==(s?e.length-1:0)?null:e[a+(s?1:-1)];return u&&c==h&&u.level+(s?0:1)<l.level?ne.cursor(u.side(!s,t)+n.from,u.forward(s,t)?1:-1,u.level):ne.cursor(c+n.from,l.forward(s,t)?-1:1,l.level)}function jv(n,e,t){for(let i=e;i<t;i++){let s=ld(n.charCodeAt(i));if(s==1)return on;if(s==2||s==4)return ph}return on}const ud=be.define(),Od=be.define(),dd=be.define(),pd=be.define(),Cl=be.define(),gd=be.define(),md=be.define(),yd=be.define({combine:n=>n.some(e=>e)}),Vv=be.define({combine:n=>n.some(e=>e)}),vd=be.define();class Un{constructor(e,t="nearest",i="nearest",s=5,r=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=r,this.isSnapshot=o}map(e){return e.empty?this:new Un(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Un(ne.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Hr=dt.define({map:(n,e)=>n.map(e)});function Ui(n,e,t){let i=n.facet(pd);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ea=be.define({combine:n=>n.length?n[0]:!0});let Zv=0;const nr=be.define();class _n{constructor(e,t,i,s,r){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.extension=r(this)}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:r,decorations:o}=t||{};return new _n(Zv++,e,i,s,a=>{let l=[nr.of(a)];return o&&l.push(xr.of(h=>{let c=h.plugin(a);return c?o(c):Ht.none})),r&&l.push(r(a)),l})}static fromClass(e,t){return _n.define(i=>new e(i),t)}}class Ma{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Ui(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ui(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Ui(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const bd=be.define(),gh=be.define(),xr=be.define(),wd=be.define(),mh=be.define(),xd=be.define();function iu(n,e){let t=n.state.facet(xd);if(!t.length)return t;let i=t.map(r=>r instanceof Function?r(n):r),s=[];return Ne.spans(i,e.from,e.to,{point(){},span(r,o,a,l){let h=r-e.from,c=o-e.from,u=s;for(let d=a.length-1;d>=0;d--,l--){let g=a[d].spec.bidiIsolate,m;if(g==null&&(g=jv(e.text,h,c)),l>0&&u.length&&(m=u[u.length-1]).to==h&&m.direction==g)m.to=c,u=m.inner;else{let v={from:h,to:c,direction:g,inner:[]};u.push(v),u=v.inner}}}}),s}const $d=be.define();function Sd(n){let e=0,t=0,i=0,s=0;for(let r of n.state.facet($d)){let o=r(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:i,bottom:s}}const rr=be.define();class ni{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new ni(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,r=0,o=0,a=0;;s++){let l=s==e.length?null:e[s],h=o-a,c=l?l.fromB:1e9;for(;r<t.length&&t[r]<c;){let u=t[r],d=t[r+1],g=Math.max(a,u),m=Math.min(c,d);if(g<=m&&new ni(g+h,m+h,g,m).addToSet(i),d>c)break;r+=2}if(!l)return i;new ni(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Yo{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=ut.empty(this.startState.doc.length);for(let r of i)this.changes=this.changes.compose(r.changes);let s=[];this.changes.iterChangedRanges((r,o,a,l)=>s.push(new ni(r,o,a,l))),this.changedRanges=s}static create(e,t,i){return new Yo(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class su extends _e{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new nt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ni(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:h,toA:c})=>c<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let s=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!Iv(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let r=s>-1?qv(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:c}=this.hasComposition;i=new ni(h,c,e.changes.mapPos(h,-1),e.changes.mapPos(c,1)).addToSet(i.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(te.ie||te.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Ev(o,a,e.changes);return i=ni.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=te.chrome||te.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||s.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ni&&o.widget instanceof nu&&r.push(o.dom);s.updateGaps(r)}updateChildren(e,t,i){let s=i?i.range.addToSet(e.slice()):e,r=this.childCursor(t);for(let o=s.length-1;;o--){let a=o>=0?s[o]:null;if(!a)break;let{fromA:l,toA:h,fromB:c,toB:u}=a,d,g,m,v;if(i&&i.range.fromB<u&&i.range.toB>c){let C=pr.build(this.view.state.doc,c,i.range.fromB,this.decorations,this.dynamicDecorationMap),D=pr.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);g=C.breakAtStart,m=C.openStart,v=D.openEnd;let Z=this.compositionView(i);D.breakAtStart?Z.breakAfter=1:D.content.length&&Z.merge(Z.length,Z.length,D.content[0],!1,D.openStart,0)&&(Z.breakAfter=D.content[0].breakAfter,D.content.shift()),C.content.length&&Z.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),d=C.content.concat(Z).concat(D.content)}else({content:d,breakAtStart:g,openStart:m,openEnd:v}=pr.build(this.view.state.doc,c,u,this.decorations,this.dynamicDecorationMap));let{i:w,off:X}=r.findPos(h,1),{i:R,off:_}=r.findPos(l,-1);JO(this,R,_,w,X,d,g,m,v)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new gi(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Ji(s,[t],t.length);let i=new nt;return i.append(t,0),i}fixCompositionDOM(e){let t=(r,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=_e.get(r);a&&a!=o&&(a.dom=null),o.setDOM(r)},i=this.childPos(e.range.fromB,1),s=this.children[i.i];t(e.line,s);for(let r=e.marks.length-1;r>=-1;r--)i=s.childPos(i.off,1),s=s.children[i.i],t(r>=0?e.marks[r].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,r=!s&&bo(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||r))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),h=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(te.gecko&&a.empty&&!this.hasComposition&&_v(l)){let u=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(u,l.node.childNodes[l.offset]||null)),l=h=new Xt(u,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!dr(l.node,l.offset,c.anchorNode,c.anchorOffset)||!dr(h.node,h.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{te.android&&te.chrome&&this.dom.contains(c.focusNode)&&Lv(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=Uo(this.view.root);if(u)if(a.empty){if(te.gecko){let d=Mv(l.node,l.offset);if(d&&d!=3){let g=(d==1?GO:HO)(l.node,l.offset);g&&(l=new Xt(g.node,g.offset))}}u.collapse(l.node,l.offset),a.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=a.bidiLevel)}else if(u.extend){u.collapse(l.node,l.offset);try{u.extend(h.node,h.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,h]=[h,l]),d.setEnd(h.node,h.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,h)),this.impreciseAnchor=l.precise?null:new Xt(c.anchorNode,c.anchorOffset),this.impreciseHead=h.precise?null:new Xt(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&dr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Uo(e.root),{anchorNode:s,anchorOffset:r}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=nt.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!l||!h||l.bottom>h.top)return;let c=this.domAtPos(t.head+t.assoc);i.collapse(c.node,c.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(s,r)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let s=e.offset;!i&&s<t.childNodes.length;s++){let r=_e.get(t.childNodes[s]);r instanceof nt&&(i=r.domAtPos(0))}for(let s=e.offset-1;!i&&s>=0;s--){let r=_e.get(t.childNodes[s]);r instanceof nt&&(i=r.domAtPos(r.length))}return i?new Xt(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=_e.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof nt)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,s=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=r-a.breakAfter,h=l-a.length;if(l<e)break;if(h<=e&&(h<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof nt&&!(i instanceof nt&&t>=0)))i=a,s=h;else if(i&&h==e&&l==e&&a instanceof Ni&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(i=null)}r=h}return i?i.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),s=this.children[t];if(!(s instanceof nt))return null;for(;s.children.length;){let{i:a,off:l}=s.childPos(i,1);for(;;a++){if(a==s.children.length)return null;if((s=s.children[a]).length)break}i=l}if(!(s instanceof gi))return null;let r=Li(s.text,i);if(r==i)return null;let o=rn(s.dom,i,r).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==xt.LTR;for(let h=0,c=0;c<this.children.length;c++){let u=this.children[c],d=h+u.length;if(d>s)break;if(h>=i){let g=u.dom.getBoundingClientRect();if(t.push(g.height),o){let m=u.dom.lastChild,v=m?wr(m):[];if(v.length){let w=v[v.length-1],X=l?w.right-g.left:g.right-w.left;X>a&&(a=X,this.minWidth=r,this.minWidthFrom=h,this.minWidthTo=d)}}}h=d+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?xt.RTL:xt.LTR}measureTextSize(){for(let r of this.children)if(r instanceof nt){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=wr(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,s=r?r.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new KO(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let r=s==t.viewports.length?null:t.viewports[s],o=r?r.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ht.replace({widget:new nu(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!r)break;i=r.to+1}return Ht.set(e)}updateDeco(){let e=0,t=this.view.state.facet(xr).map(r=>(this.dynamicDecorationMap[e++]=typeof r=="function")?r(this.view):r),i=!1,s=this.view.state.facet(wd).map((r,o)=>{let a=typeof r=="function";return a&&(i=!0),a?r(this.view):r});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(Ne.join(s))),this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(vd))try{if(h(this.view,e.range,e))return!0}catch(c){Ui(this.view.state,c,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let r=Sd(this.view),o={left:i.left-r.left,top:i.top-r.top,right:i.right+r.right,bottom:i.bottom+r.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;vv(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==xt.LTR)}}function _v(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class nu extends dh{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Qd(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=GO(t.focusNode,t.focusOffset),s=HO(t.focusNode,t.focusOffset),r=i||s;if(s&&i&&s.node!=i.node){let a=_e.get(s.node);if(!a||a instanceof gi&&a.text!=s.node.nodeValue)r=s;else if(n.docView.lastCompositionAfterCursor){let l=_e.get(i.node);!l||l instanceof gi&&l.text!=i.node.nodeValue||(r=s)}}if(n.docView.lastCompositionAfterCursor=r!=i,!r)return null;let o=e-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function qv(n,e,t){let i=Qd(n,t);if(!i)return null;let{node:s,from:r,to:o}=i,a=s.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,h=new ni(l.mapPos(r),l.mapPos(o),r,o),c=[];for(let u=s.parentNode;;u=u.parentNode){let d=_e.get(u);if(d instanceof Ji)c.push({node:u,deco:d.mark});else{if(d instanceof nt||u.nodeName=="DIV"&&u.parentNode==n.contentDOM)return{range:h,text:s,marks:c,line:u};if(u!=n.contentDOM)c.push({node:u,deco:new Ur({inclusive:!0,attributes:Pv(u),tagName:u.tagName.toLowerCase()})});else return null}}}function Mv(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Dv=class{constructor(){this.changes=[]}compareRange(e,t){Ul(e,t,this.changes)}comparePoint(e,t){Ul(e,t,this.changes)}};function Ev(n,e,t){let i=new Dv;return Ne.compare(n,e,t,i),i.changes}function Lv(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Iv(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}function Bv(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),r=e-s.from;if(s.length==0)return ne.cursor(e);r==0?t=1:r==s.length&&(t=-1);let o=r,a=r;t<0?o=Li(s.text,r,!1):a=Li(s.text,r);let l=i(s.text.slice(o,a));for(;o>0;){let h=Li(s.text,o,!1);if(i(s.text.slice(h,o))!=l)break;o=h}for(;a<s.length;){let h=Li(s.text,a);if(i(s.text.slice(a,h))!=l)break;a=h}return ne.range(o+s.from,a+s.from)}function Nv(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Fv(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Da(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function ru(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function ou(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Al(n,e,t){let i,s,r,o,a=!1,l,h,c,u;for(let m=n.firstChild;m;m=m.nextSibling){let v=wr(m);for(let w=0;w<v.length;w++){let X=v[w];s&&Da(s,X)&&(X=ru(ou(X,s.bottom),s.top));let R=Nv(e,X),_=Fv(t,X);if(R==0&&_==0)return m.nodeType==3?au(m,e,t):Al(m,e,t);if(!i||o>_||o==_&&r>R){i=m,s=X,r=R,o=_;let C=_?t<X.top?-1:1:R?e<X.left?-1:1:0;a=!C||(C>0?w<v.length-1:w>0)}R==0?t>X.bottom&&(!c||c.bottom<X.bottom)?(l=m,c=X):t<X.top&&(!u||u.top>X.top)&&(h=m,u=X):c&&Da(c,X)?c=ou(c,X.bottom):u&&Da(u,X)&&(u=ru(u,X.top))}}if(c&&c.bottom>=t?(i=l,s=c):u&&u.top<=t&&(i=h,s=u),!i)return{node:n,offset:0};let d=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return au(i,d,t);if(a&&i.contentEditable!="false")return Al(i,d,t);let g=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:g}}function au(n,e,t){let i=n.nodeValue.length,s=-1,r=1e9,o=0;for(let a=0;a<i;a++){let l=rn(n,a,a+1).getClientRects();for(let h=0;h<l.length;h++){let c=l[h];if(c.top==c.bottom)continue;o||(o=e-c.left);let u=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&u<r){let d=e>=(c.left+c.right)/2,g=d;if((te.chrome||te.gecko)&&rn(n,a).getBoundingClientRect().left==c.right&&(g=!d),u<=0)return{node:n,offset:a+(g?1:0)};s=a+(g?1:0),r=u}}}return{node:n,offset:s>-1?s:o>0?n.nodeValue.length:0}}function Xd(n,e,t,i=-1){var s,r;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:h}=n.viewState,{x:c,y:u}=e,d=u-a;if(d<0)return 0;if(d>h)return n.state.doc.length;for(let C=n.viewState.heightOracle.textHeight/2,D=!1;l=n.elementAtHeight(d),l.type!=Fi.Text;)for(;d=i>0?l.bottom+C:l.top-C,!(d>=0&&d<=h);){if(D)return t?null:0;D=!0,i=-i}u=a+d;let g=l.from;if(g<n.viewport.from)return n.viewport.from==0?0:t?null:lu(n,o,l,c,u);if(g>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:lu(n,o,l,c,u);let m=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:m,w=v.elementFromPoint(c,u);w&&!n.contentDOM.contains(w)&&(w=null),w||(c=Math.max(o.left+1,Math.min(o.right-1,c)),w=v.elementFromPoint(c,u),w&&!n.contentDOM.contains(w)&&(w=null));let X,R=-1;if(w&&((s=n.docView.nearest(w))===null||s===void 0?void 0:s.isEditable)!=!1){if(m.caretPositionFromPoint){let C=m.caretPositionFromPoint(c,u);C&&({offsetNode:X,offset:R}=C)}else if(m.caretRangeFromPoint){let C=m.caretRangeFromPoint(c,u);C&&({startContainer:X,startOffset:R}=C,(!n.contentDOM.contains(X)||te.safari&&Gv(X,R,c)||te.chrome&&Hv(X,R,c))&&(X=void 0))}}if(!X||!n.docView.dom.contains(X)){let C=nt.find(n.docView,g);if(!C)return d>l.top+l.height/2?l.to:l.from;({node:X,offset:R}=Al(C.dom,c,u))}let _=n.docView.nearest(X);if(!_)return null;if(_.isWidget&&((r=_.dom)===null||r===void 0?void 0:r.nodeType)==1){let C=_.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(X,R)+_.posAtStart}function lu(n,e,t,i,s){let r=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((s-t.top-(n.defaultLineHeight-a)*.5)/a);r+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+pv(o,r,n.state.tabSize)}function Gv(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let s=n.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return rn(n,i-1,i).getBoundingClientRect().left>t}function Hv(n,e,t){if(e!=0)return!1;for(let s=n;;){let r=s.parentNode;if(!r||r.nodeType!=1||r.firstChild!=s)return!1;if(r.classList.contains("cm-line"))break;s=r}let i=n.nodeType==1?n.getBoundingClientRect():rn(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Kv(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Fi.Text))return i}return t}function Jv(n,e,t,i){let s=Kv(n,e.head),r=!i||s.type!=Fi.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(r){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(s.from),l=n.posAtCoords({x:t==(a==xt.LTR)?o.right-1:o.left+1,y:(r.top+r.bottom)/2});if(l!=null)return ne.cursor(l,t?-1:1)}return ne.cursor(t?s.to:s.from,t?-1:1)}function hu(n,e,t,i){let s=n.state.doc.lineAt(e.head),r=n.bidiSpans(s),o=n.textDirectionAt(s.from);for(let a=e,l=null;;){let h=Av(s,r,o,a,t),c=fd;if(!h){if(s.number==(t?n.state.doc.lines:1))return a;c=`
`,s=n.state.doc.line(s.number+(t?1:-1)),r=n.bidiSpans(s),h=n.visualLineSide(s,!t)}if(l){if(!l(c))return a}else{if(!i)return h;l=i(c)}a=h}}function eb(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return r=>{let o=i(r);return s==Ii.Space&&(s=o),s==o}}function tb(n,e,t,i){let s=e.head,r=t?1:-1;if(s==(t?n.state.doc.length:0))return ne.cursor(s,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(s,e.assoc||-1),c=n.documentTop;if(h)o==null&&(o=h.left-l.left),a=r<0?h.top:h.bottom;else{let g=n.viewState.lineBlockAt(s);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(s-g.from))),a=(r<0?g.top:g.bottom)+c}let u=l.left+o,d=i??n.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let m=a+(d+g)*r,v=Xd(n,{x:u,y:m},!1,r);if(m<l.top||m>l.bottom||(r<0?v<s:v>s)){let w=n.docView.coordsForChar(v),X=!w||m<w.top?-1:1;return ne.cursor(v,X,void 0,o)}}}function wo(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(r,o,a)=>{if(e>r&&e<o){let l=i||t||(e-r<o-e?-1:1);e=l<0?r:o,i=l}});if(!i)return e}}function Ea(n,e,t){let i=wo(n.state.facet(mh).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:ne.cursor(i,i<t.from?1:-1)}class ib{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,te.safari&&e.contentDOM.addEventListener("input",()=>null),te.gecko&&vb(e.contentDOM.ownerDocument)}handleEvent(e){!fb(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=sb(e),i=this.handlers,s=this.view.contentDOM;for(let r in t)if(r!="scroll"){let o=!t[r].handlers.length,a=i[r];a&&o!=!a.handlers.length&&(s.removeEventListener(r,this.handleEvent),a=null),a||s.addEventListener(r,this.handleEvent,{passive:o})}for(let r in i)r!="scroll"&&!t[r]&&s.removeEventListener(r,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&rb.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),te.android&&te.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return te.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Pd.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||nb.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Rn(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:te.safari&&!te.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function cu(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){Ui(t.state,s)}}}function sb(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec;if(s&&s.domEventHandlers)for(let r in s.domEventHandlers){let o=s.domEventHandlers[r];o&&t(r).handlers.push(cu(i.value,o))}if(s&&s.domEventObservers)for(let r in s.domEventObservers){let o=s.domEventObservers[r];o&&t(r).observers.push(cu(i.value,o))}}for(let i in mi)t(i).handlers.push(mi[i]);for(let i in ri)t(i).observers.push(ri[i]);return e}const Pd=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],nb="dthko",rb=[16,17,18,20,91,92,224,225],Kr=6;function Jr(n){return Math.max(0,n)*.7+8}function ob(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class ab{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=bv(e.contentDOM),this.atoms=e.state.facet(mh).map(o=>o(e));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ae.allowMultipleSelections)&&lb(e,t),this.dragging=cb(e,t)&&Ud(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&ob(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,s=0,r=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Sd(this.view);e.clientX-o.left<=r.left+Kr?i=-Jr(r.left-e.clientX):e.clientX+o.right>=r.right-Kr&&(i=Jr(e.clientX-r.right)),e.clientY-o.top<=r.top+Kr?s=-Jr(r.top-e.clientY):e.clientY+o.bottom>=r.bottom-Kr&&(s=Jr(e.clientY-r.bottom)),this.setScrollSpeed(i,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],r=null;if(s.empty){let o=wo(this.atoms,s.from,0);o!=s.from&&(r=ne.cursor(o,-1))}else{let o=wo(this.atoms,s.from,-1),a=wo(this.atoms,s.to,1);(o!=s.from||a!=s.to)&&(r=ne.range(s.from==s.anchor?o:a,s.from==s.head?o:a))}r&&(t||(t=e.ranges.slice()),t[i]=r)}return t?ne.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function lb(n,e){let t=n.state.facet(ud);return t.length?t[0](e):te.mac?e.metaKey:e.ctrlKey}function hb(n,e){let t=n.state.facet(Od);return t.length?t[0](e):te.mac?!e.altKey:!e.ctrlKey}function cb(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Uo(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let r=0;r<s.length;r++){let o=s[r];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function fb(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=_e.get(t))&&i.ignoreEvent(e))return!1;return!0}const mi=Object.create(null),ri=Object.create(null),kd=te.ie&&te.ie_version<15||te.ios&&te.webkit_version<604;function ub(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Td(n,t.value)},50)}function Td(n,e){let{state:t}=n,i,s=1,r=t.toText(e),o=r.lines==t.selection.ranges.length;if(jl!=null&&t.selection.ranges.every(l=>l.empty)&&jl==r.toString()){let l=-1;i=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let u=t.toText((o?r.line(s++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:u},range:ne.cursor(h.from+u.length)}})}else o?i=t.changeByRange(l=>{let h=r.line(s++);return{changes:{from:l.from,to:l.to,insert:h.text},range:ne.cursor(l.from+h.length)}}):i=t.replaceSelection(r);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}ri.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};mi.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);ri.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};ri.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};mi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(dd))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=pb(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new ab(n,e,t,i)),i&&n.observer.ignore(()=>{BO(n.contentDOM);let r=n.root.activeElement;r&&!r.contains(n.contentDOM)&&r.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function fu(n,e,t,i){if(i==1)return ne.cursor(e,t);if(i==2)return Bv(n.state,e,t);{let s=nt.find(n.docView,e),r=n.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:r.from,a=s?s.posAtEnd:r.to;return a<n.state.doc.length&&a==r.to&&a++,ne.range(o,a)}}let Rd=(n,e)=>n>=e.top&&n<=e.bottom,uu=(n,e,t)=>Rd(e,t)&&n>=t.left&&n<=t.right;function Ob(n,e,t,i){let s=nt.find(n.docView,e);if(!s)return 1;let r=e-s.posAtStart;if(r==0)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&uu(t,i,o))return-1;let a=s.coordsAt(r,1);return a&&uu(t,i,a)?1:o&&Rd(i,o)?-1:1}function Ou(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Ob(n,t,e.clientX,e.clientY)}}const db=te.ie&&te.ie_version<=11;let du=null,pu=0,gu=0;function Ud(n){if(!db)return n.detail;let e=du,t=gu;return du=n,gu=Date.now(),pu=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(pu+1)%3:1}function pb(n,e){let t=Ou(n,e),i=Ud(e),s=n.state.selection;return{update(r){r.docChanged&&(t.pos=r.changes.mapPos(t.pos),s=s.map(r.changes))},get(r,o,a){let l=Ou(n,r),h,c=fu(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let u=fu(n,t.pos,t.bias,i),d=Math.min(u.from,c.from),g=Math.max(u.to,c.to);c=d<c.from?ne.range(d,g):ne.range(g,d)}return o?s.replaceRange(s.main.extend(c.from,c.to)):a&&i==1&&s.ranges.length>1&&(h=gb(s,l.pos))?h:a?s.addRange(c):ne.create([c])}}}function gb(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return ne.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}mi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let r=s.posAtStart,o=r+s.length;(r>=t.to||o<=t.from)&&(t=ne.range(r,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};mi.dragend=n=>(n.inputState.draggedContent=null,!1);function mu(n,e,t,i){if(!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:r}=n.inputState,o=i&&r&&hb(n,e)?{from:r.from,to:r.to}:null,a={from:s,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(s,-1),head:l.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}mi.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,r=()=>{++s==t.length&&mu(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=r,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),r()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return mu(n,e,i,!0),!0}return!1};mi.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=kd?null:e.clipboardData;return t?(Td(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(ub(n),!1)};function mb(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function yb(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:r}of n.selection.ranges){let o=n.doc.lineAt(r);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),s=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let jl=null;mi.copy=mi.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=yb(n.state);if(!t&&!s)return!1;jl=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let r=kd?null:e.clipboardData;return r?(r.clearData(),r.setData("text/plain",t),!0):(mb(n,t),!1)};const Wd=Bn.define();function Yd(n,e){let t=[];for(let i of n.facet(md)){let s=i(n,e);s&&t.push(s)}return t?n.update({effects:t,annotations:Wd.of(!0)}):null}function zd(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Yd(n.state,e);t?n.dispatch(t):n.update([])}},10)}ri.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),zd(n)};ri.blur=n=>{n.observer.clearSelectionRange(),zd(n)};ri.compositionstart=ri.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};ri.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,te.chrome&&te.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};ri.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};mi.beforeinput=(n,e)=>{var t;let i;if(te.chrome&&te.android&&(i=Pd.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var r;(((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return te.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),te.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>ri.compositionend(n,e),20),!1};const yu=new Set;function vb(n){yu.has(n)||(yu.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const vu=["pre-wrap","normal","pre-line","break-spaces"];class bb{constructor(e){this.lineWrapping=e,this.doc=ze.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return vu.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,r,o){let a=vu.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=r,l){this.heightSamples={};for(let h=0;h<o.length;h++){let c=o[h];c<0?h++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class wb{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ki{constructor(e,t,i,s,r){this.from=e,this.length=t,this.top=i,this.height=s,this._content=r}get type(){return typeof this._content=="number"?Fi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof xs?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ki(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Be=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Be||(Be={}));const xo=.001;class Yt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>xo&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Yt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let r=this,o=i.doc;for(let a=s.length-1;a>=0;a--){let{fromA:l,toA:h,fromB:c,toB:u}=s[a],d=r.lineAt(l,Be.ByPosNoHeight,i.setDoc(t),0,0),g=d.to>=h?d:r.lineAt(h,Be.ByPosNoHeight,i,0,0);for(u+=g.to-h,h=g.to;a>0&&d.from<=s[a-1].toA;)l=s[a-1].fromA,c=s[a-1].fromB,a--,l<d.from&&(d=r.lineAt(l,Be.ByPosNoHeight,i,0,0));c+=d.from-l,l=d.from;let m=yh.build(i.setDoc(o),e,c,u);r=r.replace(l,h,m)}return r.updateHeight(i,0)}static empty(){return new It(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,r=0;for(;;)if(t==i)if(s>r*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,s-=a.size}else if(r>s*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,r-=a.size}else break;else if(s<r){let a=e[t++];a&&(s+=a.size)}else{let a=e[--i];a&&(r+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new xb(Yt.of(e.slice(0,t)),o,Yt.of(e.slice(i)))}}Yt.prototype.size=1;class Cd extends Yt{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new ki(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,r){return this.blockAt(0,i,s,r)}forEachLine(e,t,i,s,r,o){e<=r+this.length&&t>=r&&o(this.blockAt(0,i,s,r))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class It extends Cd{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new ki(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof It||s instanceof bt&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof bt?s=new It(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Yt.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bt extends Yt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,r=s-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*r);o=l/r,this.length>r+1&&(a=(this.height-l)/(this.length-r-1))}else o=this.height/r;return{firstLine:i,lastLine:s,perLine:o,perChar:a}}blockAt(e,t,i,s){let{firstLine:r,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,s);if(t.lineWrapping){let h=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),c=t.doc.lineAt(h),u=a+c.length*l,d=Math.max(i,e-u/2);return new ki(c.from,c.length,d,u,0)}else{let h=Math.max(0,Math.min(o-r,Math.floor((e-i)/a))),{from:c,length:u}=t.doc.line(r+h);return new ki(c,u,i+a*h,a,0)}}lineAt(e,t,i,s,r){if(t==Be.ByHeight)return this.blockAt(e,i,s,r);if(t==Be.ByPosNoHeight){let{from:g,to:m}=i.doc.lineAt(e);return new ki(g,m-g,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,r),h=i.doc.lineAt(e),c=a+h.length*l,u=h.number-o,d=s+a*u+l*(h.from-r-u);return new ki(h.from,h.length,Math.max(s,Math.min(d,s+this.height-c)),c,0)}forEachLine(e,t,i,s,r,o){e=Math.max(e,r),t=Math.min(t,r+this.length);let{firstLine:a,perLine:l,perChar:h}=this.heightMetrics(i,r);for(let c=e,u=s;c<=t;){let d=i.doc.lineAt(c);if(c==e){let m=d.number-a;u+=l*m+h*(e-r-m)}let g=l+h*d.length;o(new ki(d.from,d.length,u,g,0)),u+=g,c=d.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let r=i[i.length-1];r instanceof bt?i[i.length-1]=new bt(r.length+s):i.push(null,new bt(s-1))}if(e>0){let r=i[0];r instanceof bt?i[0]=new bt(e+r.length):i.unshift(new bt(e-1),null)}return Yt.of(i)}decomposeLeft(e,t){t.push(new bt(e-1),null)}decomposeRight(e,t){t.push(null,new bt(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let r=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],a=Math.max(t,s.from),l=-1;for(s.from>t&&o.push(new bt(s.from-t-1).updateHeight(e,t));a<=r&&s.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let u=s.heights[s.index++];l==-1?l=u:Math.abs(u-l)>=xo&&(l=-2);let d=new It(c,u);d.outdated=!1,o.push(d),a+=c+1}a<=r&&o.push(null,new bt(r-a).updateHeight(e,a));let h=Yt.of(o);return(l<0||Math.abs(h.height-this.height)>=xo||Math.abs(l-this.heightMetrics(e,t).perLine)>=xo)&&(e.heightChanged=!0),h}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class xb extends Yt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let r=i+this.left.height;return e<r?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,r,s+this.left.length+this.break)}lineAt(e,t,i,s,r){let o=s+this.left.height,a=r+this.left.length+this.break,l=t==Be.ByHeight?e<o:e<a,h=l?this.left.lineAt(e,t,i,s,r):this.right.lineAt(e,t,i,o,a);if(this.break||(l?h.to<a:h.from>a))return h;let c=t==Be.ByPosNoHeight?Be.ByPosNoHeight:Be.ByPos;return l?h.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,s,r).join(h)}forEachLine(e,t,i,s,r,o){let a=s+this.left.height,l=r+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,s,r,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let h=this.lineAt(l,Be.ByPos,i,s,r);e<h.from&&this.left.forEachLine(e,h.from-1,i,s,r,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,a,l,o)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let a of i)r.push(a);if(e>0&&bu(r,o-1),t<this.length){let a=r.length;this.decomposeRight(t,r),bu(r,a)}return Yt.of(r)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Yt.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:r,right:o}=this,a=t+r.length+this.break,l=null;return s&&s.from<=t+r.length&&s.more?l=r=r.updateHeight(e,t,i,s):r.updateHeight(e,t,i),s&&s.from<=a+o.length&&s.more?l=o=o.updateHeight(e,a,i,s):o.updateHeight(e,a,i),l?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bu(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof bt&&(i=n[e+1])instanceof bt&&n.splice(e-1,3,new bt(t.length+1+i.length))}const $b=5;class yh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof It?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new It(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,r=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Cd(o,s,i)):(o||r||s>=$b)&&this.addLineDeco(s,r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new It(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new bt(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof It)return e;let t=new It(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof It)&&!this.isCovered?this.nodes.push(new It(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof It&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let r=new yh(i,e);return Ne.spans(t,i,s,r,0),r.finish(i)}}function Sb(n,e,t){let i=new Qb;return Ne.compare(n,e,t,i,0),i.changes}class Qb{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&Ul(e,t,this.changes,5)}}function Xb(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,r=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(s.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=i.body;)if(h.nodeType==1){let c=h,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&u.overflow!="visible"){let d=c.getBoundingClientRect();r=Math.max(r,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=h==n.parentNode?d.bottom:Math.min(l,d.bottom)}h=u.position=="absolute"||u.position=="fixed"?c.offsetParent:c.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:r-t.left,right:Math.max(r,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function Pb(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class La{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],r=t[i];if(s.from!=r.from||s.to!=r.to||s.size!=r.size)return!1}return!0}draw(e,t){return Ht.replace({widget:new kb(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class kb extends dh{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wu{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=xu,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=xt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(gh).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new bb(t),this.stateDeco=e.facet(xr).filter(i=>typeof i!="function"),this.heightMap=Yt.empty().applyChanges(this.stateDeco,ze.empty,this.heightOracle.setDoc(e.doc),[new ni(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ht.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:r,to:o})=>s>=r&&s<=o)){let{from:r,to:o}=this.lineBlockAt(s);e.push(new eo(r,o))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?xu:new vh(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(or(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(xr).filter(c=>typeof c!="function");let s=e.changedRanges,r=ni.extendWithRanges(s,Sb(i,this.stateDeco,e?e.changes:ut.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let h=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Vv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,r=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?xt.RTL:xt.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let h=0,c=0;if(a.width&&a.height){let{scaleX:C,scaleY:D}=IO(t,a);(C>.005&&Math.abs(this.scaleX-C)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=C,this.scaleY=D,h|=8,o=l=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=d)&&(this.paddingTop=u,this.paddingBottom=d,h|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=8);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=FO(e.scrollDOM);let m=(this.printing?Pb:Xb)(t,this.paddingTop),v=m.top-this.pixelViewport.top,w=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let X=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(X!=this.inView&&(this.inView=X,X&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let R=a.width;if((this.contentDOMWidth!=R||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,h|=8),l){let C=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(C)&&(o=!0),o||s.lineWrapping&&Math.abs(R-this.contentDOMWidth)>s.charWidth){let{lineHeight:D,charWidth:Z,textHeight:L}=e.docView.measureTextSize();o=D>0&&s.refresh(r,D,Z,L,R/Z,C),o&&(e.docView.minWidth=0,h|=8)}v>0&&w>0?c=Math.max(v,w):v<0&&w<0&&(c=Math.min(v,w)),s.heightChanged=!1;for(let D of this.viewports){let Z=D.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?Yt.empty().applyChanges(this.stateDeco,ze.empty,this.heightOracle,[new ni(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new wb(D.from,Z))}s.heightChanged&&(h|=2)}let _=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),h|=this.updateForViewport()),(h&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new eo(s.lineAt(o-i*1e3,Be.ByHeight,r,0,0).from,s.lineAt(a+(1-i)*1e3,Be.ByHeight,r,0,0).to);if(t){let{head:h}=t.range;if(h<l.from||h>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=s.lineAt(h,Be.ByPos,r,0,0),d;t.y=="center"?d=(u.top+u.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&h<l.from?d=u.top:d=u.bottom-c,l=new eo(s.lineAt(d-1e3/2,Be.ByHeight,r,0,0).from,s.lineAt(d+c+1e3/2,Be.ByHeight,r,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new eo(this.heightMap.lineAt(i,Be.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Be.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(t,Be.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||s<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||r>=a+Math.max(10,Math.min(i,250)))&&s>o-2*1e3&&r<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new La(t.mapPos(s.from),t.mapPos(s.to),s.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,r=s>>1,o=s<<1;if(this.defaultTextDirection!=xt.LTR&&!i)return[];let a=[],l=(h,c,u,d)=>{if(c-h<r)return;let g=this.state.selection.main,m=[g.from];g.empty||m.push(g.to);for(let w of m)if(w>h&&w<c){l(h,w-10,u,d),l(w+10,c,u,d);return}let v=Rb(e,w=>w.from>=u.from&&w.to<=u.to&&Math.abs(w.from-h)<r&&Math.abs(w.to-c)<r&&!m.some(X=>w.from<X&&w.to>X));if(!v){if(c<u.to&&t&&i&&t.visibleRanges.some(w=>w.from<=c&&w.to>=c)){let w=t.moveToLineBoundary(ne.cursor(c),!1,!0).head;w>h&&(c=w)}v=new La(h,c,this.gapSize(u,h,c,d))}a.push(v)};for(let h of this.viewportLines){if(h.length<o)continue;let c=Tb(h.from,h.to,this.stateDeco);if(c.total<o)continue;let u=this.scrollTarget?this.scrollTarget.range.head:null,d,g;if(i){let m=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,w;if(u!=null){let X=io(c,u),R=((this.visibleBottom-this.visibleTop)/2+m)/h.height;v=X-R,w=X+R}else v=(this.visibleTop-h.top-m)/h.height,w=(this.visibleBottom-h.top+m)/h.height;d=to(c,v),g=to(c,w)}else{let m=c.total*this.heightOracle.charWidth,v=s*this.heightOracle.charWidth,w,X;if(u!=null){let R=io(c,u),_=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/m;w=R-_,X=R+_}else w=(this.pixelViewport.left-v)/m,X=(this.pixelViewport.right+v)/m;d=to(c,w),g=to(c,X)}d>h.from&&l(h.from,d,h,c),g<h.to&&l(g,h.to,h,c)}return a}gapSize(e,t,i,s){let r=io(s,i)-io(s,t);return this.heightOracle.lineWrapping?e.height*r:s.total*this.heightOracle.charWidth*r}updateLineGaps(e){La.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ht.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Ne.spans(e,this.viewport.from,this.viewport.to,{span(s,r){t.push({from:s,to:r})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,r)=>s.from!=t[r].from||s.to!=t[r].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||or(this.heightMap.lineAt(e,Be.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||or(this.heightMap.lineAt(this.scaler.fromDOM(e),Be.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return or(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class eo{constructor(e,t){this.from=e,this.to=t}}function Tb(n,e,t){let i=[],s=n,r=0;return Ne.spans(t,n,e,{span(){},point(o,a){o>s&&(i.push({from:s,to:o}),r+=o-s),s=a}},20),s<e&&(i.push({from:s,to:e}),r+=e-s),{total:r,ranges:i}}function to({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:r,to:o}=e[s],a=o-r;if(i<=a)return r+i;i-=a}}function io(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function Rb(n,e){for(let t of n)if(e(t))return t}const xu={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class vh{constructor(e,t,i){let s=0,r=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let h=t.lineAt(a,Be.ByPos,e,0,0).top,c=t.lineAt(l,Be.ByPos,e,0,0).bottom;return s+=c-h,{from:a,to:l,top:h,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let a of this.viewports)a.domTop=o+(a.top-r)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),r=a.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return s+(e-i)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);i=r.bottom,s=r.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return i+(e-s)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);i=r.bottom,s=r.domBottom}}eq(e){return e instanceof vh?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function or(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new ki(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>or(s,e)):n._content)}const so=be.define({combine:n=>n.join(" ")}),Vl=be.define({combine:n=>n.indexOf(!0)>-1}),Zl=ws.newName(),Ad=ws.newName(),jd=ws.newName(),Vd={"&light":"."+Ad,"&dark":"."+jd};function _l(n,e,t){return new ws(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const Ub=_l("."+Zl,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Vd),ar="";class Wb{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ae.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ar}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let r=this.text.length;this.readNode(s);let o=s.nextSibling;if(o==t)break;let a=_e.get(s),l=_e.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Wo(s))||Wo(o)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>r)&&this.lineBreak(),s=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let r=-1,o=1,a;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=s.exec(t))&&(r=a.index,o=a[0].length),this.append(t.slice(i,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=r+o}}readNode(e){if(e.cmIgnore)return;let t=_e.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Yb(e,i.node,i.offset)?t:0))}}function Yb(n,e,t){for(;;){if(!e||t<Ki(e))return!1;if(e==n)return!0;t=nn(e)+1,e=e.parentNode}}class $u{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class zb{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=r||o?[]:jb(e),l=new Wb(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Vb(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=r&&r.node==a.focusNode&&r.offset==a.focusOffset||!Ql(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),h=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Ql(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((te.ios||te.chrome)&&e.state.selection.main.empty&&l!=h&&(c.from>0||c.to<e.state.doc.length)){let u=Math.min(l,h),d=Math.max(l,h),g=c.from-u,m=c.to-d;(g==0||g==1||u==0)&&(m==0||m==-1||d==e.state.doc.length)&&(l=0,h=e.state.doc.length)}this.newSel=ne.single(h,l)}}}function Zd(n,e){let t,{newSel:i}=e,s=n.state.selection.main,r=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=s.from,h=null;(r===8||te.android&&e.text.length<a-o)&&(l=s.to,h="end");let c=Ab(n.state.doc.sliceString(o,a,ar),e.text,l-o,h);c&&(te.chrome&&r==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==ar+ar&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:ze.of(e.text.slice(c.from,c.toB).split(ar))})}else i&&(!n.hasFocus&&n.state.facet(ea)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:(te.mac||te.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=ne.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:ze.of([" "])}):te.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=ne.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:ze.of([" "])}),t){if(te.ios&&n.inputState.flushIOSKey(t)||te.android&&(t.to==s.to&&(t.from==s.from||t.from==s.from-1&&n.state.sliceDoc(t.from,s.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Rn(n.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>s.head)&&Rn(n.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&t.insert.length==0&&Rn(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,l=()=>a||(a=Cb(n,t,i));return n.state.facet(gd).some(h=>h(n,t.from,t.to,o,l))||n.dispatch(l()),!0}else if(i&&!i.main.eq(s)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function Cb(n,e,t){let i,s=n.state,r=s.selection.main;if(e.from>=r.from&&e.to<=r.to&&e.to-e.from>=(r.to-r.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=r.from<e.from?s.sliceDoc(r.from,e.from):"",l=r.to>e.to?s.sliceDoc(e.to,r.to):"";i=s.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=s.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=r.to&&e.to>=r.to-10){let h=n.state.sliceDoc(e.from,e.to),c,u=t&&Qd(n,t.main.head);if(u){let m=e.insert.length-(e.to-e.from);c={from:u.from,to:u.to-m}}else c=n.state.doc.lineAt(r.head);let d=r.to-e.to,g=r.to-r.from;i=s.changeByRange(m=>{if(m.from==r.from&&m.to==r.to)return{changes:a,range:l||m.map(a)};let v=m.to-d,w=v-h.length;if(m.to-m.from!=g||n.state.sliceDoc(w,v)!=h||m.to>=c.from&&m.from<=c.to)return{range:m};let X=s.changes({from:w,to:v,insert:e.insert}),R=m.to-r.to;return{changes:X,range:l?ne.range(Math.max(0,l.anchor+R),Math.max(0,l.head+R)):m.map(X)}})}else i={changes:a,selection:l&&s.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:o,scrollIntoView:!0})}function Ab(n,e,t,i){let s=Math.min(n.length,e.length),r=0;for(;r<s&&n.charCodeAt(r)==e.charCodeAt(r);)r++;if(r==s&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,r-Math.min(o,a));t-=o+l-r}if(o<r&&n.length<e.length){let l=t<=r&&t>=o?r-t:0;r-=l,a=r+(a-o),o=r}else if(a<r){let l=t<=r&&t>=a?r-t:0;r-=l,o=r+(o-a),a=r}return{from:r,toA:o,toB:a}}function jb(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:r}=n.observer.selectionRange;return t&&(e.push(new $u(t,i)),(s!=t||r!=i)&&e.push(new $u(s,r))),e}function Vb(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?ne.single(t+e,i+e):null}const Zb={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ia=te.ie&&te.ie_version<=11;class _b{constructor(e){this.view=e,this.active=!1,this.selectionRange=new wv,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(te.ie&&te.ie_version<=11||te.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Ia&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){e.type=="change"&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(ea)?i.root.activeElement!=this.dom:!bo(i.dom,s))return;let r=s.anchorNode&&i.docView.nearest(s.anchorNode);if(r&&r.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(te.ie&&te.ie_version<=11||te.android&&te.chrome)&&!i.state.selection.main.empty&&s.focusNode&&dr(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Uo(e.root);if(!t)return!1;let i=te.safari&&e.root.nodeType==11&&mv(this.dom.ownerDocument)==this.dom&&qb(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=bo(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&$v(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Zb),Ia&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ia&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let r=this.delayedAndroidKey;r&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=r.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&r.force&&Rn(this.dom,r.key,r.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let r of e){let o=this.readMutation(r);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&bo(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new zb(this.view,e,t,i);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=Zd(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=Su(t,e.previousSibling||e.target.previousSibling,-1),s=Su(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Su(n,e,t){for(;e;){let i=_e.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function Qu(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,r=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return dr(o.node,o.offset,s,r)&&([t,i,s,r]=[s,r,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:r}}function qb(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Qu(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?Qu(n,t):null}class qe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(s=>t(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||xv(e.parent)||document,this.viewState=new wu(e.state||Ae.create(e)),e.scrollTo&&e.scrollTo.is(Hr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(nr).map(i=>new Ma(i));for(let i of this.plugins)i.update(this);this.observer=new _b(this),this.inputState=new ib(this),this.inputState.ensureHandlers(this.plugins),this.docView=new su(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=e.length==1&&e[0]instanceof Pt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,r=this.state;for(let d of e){if(d.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=d.state}if(this.destroyed){this.viewState.state=r;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(Wd))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Yd(r,o),l||(a=1));let h=this.observer.delayedAndroidKey,c=null;if(h?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(c=null)):this.observer.clear(),r.facet(Ae.phrases)!=this.state.facet(Ae.phrases))return this.setState(r);s=Yo.create(this,r,e),s.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(u&&(u=u.map(d.changes)),d.scrollIntoView){let{main:g}=d.state.selection;u=new Un(g.empty?g:ne.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of d.effects)g.is(Hr)&&(u=g.value.clip(this.state))}this.viewState.update(s,u),this.bidiCache=zo.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(rr)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(so)!=s.state.facet(so)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let d of this.state.facet(Cl))try{d(s)}catch(g){Ui(this.state,g,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!Zd(this,c)&&h.force&&Rn(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new wu(e),this.plugins=e.facet(nr).map(i=>new Ma(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new su(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(nr),i=e.state.facet(nr);if(t!=i){let s=[];for(let r of i){let o=t.indexOf(r);if(o<0)s.push(new Ma(r));else{let a=this.plugins[o];a.mustUpdate=e,s.push(a)}}for(let r of this.plugins)r.mustUpdate!=e&&r.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){Ui(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(FO(i))r=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(s);r=g.from,o=g.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];l&4||([this.measureRequests,h]=[h,this.measureRequests]);let c=h.map(g=>{try{return g.read(this)}catch(m){return Ui(this.state,m),Xu}}),u=Yo.create(this,this.state,[]),d=!1;u.flags|=l,t?t.flags|=l:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),d=this.docView.update(u),d&&this.docViewUpdate());for(let g=0;g<h.length;g++)if(c[g]!=Xu)try{let m=h[g];m.write&&m.write(c[g],this)}catch(m){Ui(this.state,m)}if(d&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(m>1||m<-1){s=s+m,i.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(Cl))a(t)}get themeClasses(){return Zl+" "+(this.state.facet(Vl)?jd:Ad)+" "+this.state.facet(so)}updateAttrs(){let e=Pu(this,bd,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ea)?"true":"false",class:"cm-content",style:`${te.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Pu(this,gh,t);let i=this.observer.ignore(()=>{let s=Rl(this.contentDOM,this.contentAttrs,t),r=Rl(this.dom,this.editorAttrs,e);return s||r});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(qe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let r=this.announceDOM.appendChild(document.createElement("div"));r.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(rr);let e=this.state.facet(qe.cspNonce);ws.mount(this.root,this.styleModules.concat(Ub).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Ea(this,e,hu(this,e,t,i))}moveByGroup(e,t){return Ea(this,e,hu(this,e,t,i=>eb(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),r=i[t?i.length-1:0];return ne.cursor(r.side(t,s)+e.from,r.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return Jv(this,e,t,i)}moveVertically(e,t,i){return Ea(this,e,tb(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Xd(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),r=this.bidiSpans(s),o=r[us.find(r,e-s.from,-1,t)];return fh(i,o.dir==xt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(yd)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Mb)return cd(e.length);let t=this.textDirectionAt(e.from),i;for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t&&(r.fresh||hd(r.isolates,i=iu(this,e))))return r.order;i||(i=iu(this,e));let s=Cv(e.text,t,i);return this.bidiCache.push(new zo(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||te.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{BO(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Hr.of(new Un(typeof e=="number"?ne.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Hr.of(new Un(ne.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return _n.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return _n.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=ws.newName(),s=[so.of(i),rr.of(_l(`.${i}`,e))];return t&&t.dark&&s.push(Vl.of(!0)),s}static baseTheme(e){return sv.lowest(rr.of(_l("."+Zl,e,Vd)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&_e.get(i)||_e.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}qe.styleModule=rr;qe.inputHandler=gd;qe.scrollHandler=vd;qe.focusChangeEffect=md;qe.perLineTextDirection=yd;qe.exceptionSink=pd;qe.updateListener=Cl;qe.editable=ea;qe.mouseSelectionStyle=dd;qe.dragMovesSelection=Od;qe.clickAddsSelectionRange=ud;qe.decorations=xr;qe.outerDecorations=wd;qe.atomicRanges=mh;qe.bidiIsolatedRanges=xd;qe.scrollMargins=$d;qe.darkTheme=Vl;qe.cspNonce=be.define({combine:n=>n.length?n[0]:""});qe.contentAttributes=gh;qe.editorAttributes=bd;qe.lineWrapping=qe.contentAttributes.of({class:"cm-lineWrapping"});qe.announce=dt.define();const Mb=4096,Xu={};class zo{constructor(e,t,i,s,r,o){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=r,this.order=o}static update(e,t){if(t.empty&&!e.some(r=>r.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:xt.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir==s&&!t.touchesRange(o.from,o.to)&&i.push(new zo(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function Pu(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let r=i[s],o=typeof r=="function"?r(n):r;o&&Tl(o,t)}return t}const Db=!te.ios,ku={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Db&&(ku[".cm-line"].caretColor=ku[".cm-content"].caretColor="transparent !important");class qn extends An{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qn.prototype.elementClass="";qn.prototype.toDOM=void 0;qn.prototype.mapMode=Nt.TrackBefore;qn.prototype.startSide=qn.prototype.endSide=-1;qn.prototype.point=!0;let Eb=0;class Qi{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=Eb++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Qi([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Co;return t=>t.modified.indexOf(e)>-1?t:Co.get(t.base||t,t.modified.concat(e).sort((i,s)=>i.id-s.id))}}let Lb=0;class Co{constructor(){this.instances=[],this.id=Lb++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&Ib(t,a.modified));if(i)return i;let s=[],r=new Qi(s,e,t);for(let a of t)a.instances.push(r);let o=Bb(t);for(let a of e.set)if(!a.modified.length)for(let l of o)s.push(Co.get(a,l));return r}}function Ib(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function Bb(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function _d(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let r=[],o=2,a=s;for(let u=0;;){if(a=="..."&&u>0&&u+3==s.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+s);if(r.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),u+=d[0].length,u==s.length)break;let g=s[u++];if(u==s.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+s);a=s.slice(u)}let l=r.length-1,h=r[l];if(!h)throw new RangeError("Invalid path: "+s);let c=new Ao(i,o,l>0?r.slice(0,l):null);e[h]=c.sort(e[h])}}return qd.add(e)}const qd=new Ce;class Ao{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ao.empty=new Ao([],2,null);function Md(n,e){let t=Object.create(null);for(let r of n)if(!Array.isArray(r.tag))t[r.tag.id]=r.class;else for(let o of r.tag)t[o.id]=r.class;let{scope:i,all:s=null}=e||{};return{style:r=>{let o=s;for(let a of r)for(let l of a.set){let h=t[l.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}function Nb(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function Fb(n,e,t,i=0,s=n.length){let r=new Gb(i,Array.isArray(e)?e:[e],t);r.highlightRange(n.cursor(),i,s,"",r.highlighters),r.flush(s)}class Gb{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,r){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(r=this.highlighters.filter(g=>!g.scope||g.scope(o)));let h=s,c=Hb(e)||Ao.empty,u=Nb(r,c.tags);if(u&&(h&&(h+=" "),h+=u,c.mode==1&&(s+=(s?" ":"")+u)),this.startSpan(Math.max(t,a),h),c.opaque)return;let d=e.tree&&e.tree.prop(Ce.mounted);if(d&&d.overlay){let g=e.node.enter(d.overlay[0].from+a,1),m=this.highlighters.filter(w=>!w.scope||w.scope(d.tree.type)),v=e.firstChild();for(let w=0,X=a;;w++){let R=w<d.overlay.length?d.overlay[w]:null,_=R?R.from+a:l,C=Math.max(t,X),D=Math.min(i,_);if(C<D&&v)for(;e.from<D&&(this.highlightRange(e,C,D,s,r),this.startSpan(Math.min(D,e.to),h),!(e.to>=_||!e.nextSibling())););if(!R||_>i)break;X=R.to+a,X>t&&(this.highlightRange(g.cursor(),Math.max(t,R.from+a),Math.min(i,X),"",m),this.startSpan(Math.min(i,X),h))}v&&e.parent()}else if(e.firstChild()){d&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,r),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}}function Hb(n){let e=n.type.prop(qd);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const I=Qi.define,no=I(),os=I(),Tu=I(os),Ru=I(os),as=I(),ro=I(as),Ba=I(as),$i=I(),zs=I($i),wi=I(),xi=I(),ql=I(),er=I(ql),oo=I(),T={comment:no,lineComment:I(no),blockComment:I(no),docComment:I(no),name:os,variableName:I(os),typeName:Tu,tagName:I(Tu),propertyName:Ru,attributeName:I(Ru),className:I(os),labelName:I(os),namespace:I(os),macroName:I(os),literal:as,string:ro,docString:I(ro),character:I(ro),attributeValue:I(ro),number:Ba,integer:I(Ba),float:I(Ba),bool:I(as),regexp:I(as),escape:I(as),color:I(as),url:I(as),keyword:wi,self:I(wi),null:I(wi),atom:I(wi),unit:I(wi),modifier:I(wi),operatorKeyword:I(wi),controlKeyword:I(wi),definitionKeyword:I(wi),moduleKeyword:I(wi),operator:xi,derefOperator:I(xi),arithmeticOperator:I(xi),logicOperator:I(xi),bitwiseOperator:I(xi),compareOperator:I(xi),updateOperator:I(xi),definitionOperator:I(xi),typeOperator:I(xi),controlOperator:I(xi),punctuation:ql,separator:I(ql),bracket:er,angleBracket:I(er),squareBracket:I(er),paren:I(er),brace:I(er),content:$i,heading:zs,heading1:I(zs),heading2:I(zs),heading3:I(zs),heading4:I(zs),heading5:I(zs),heading6:I(zs),contentSeparator:I($i),list:I($i),quote:I($i),emphasis:I($i),strong:I($i),link:I($i),monospace:I($i),strikethrough:I($i),inserted:I(),deleted:I(),changed:I(),invalid:I(),meta:oo,documentMeta:I(oo),annotation:I(oo),processingInstruction:I(oo),definition:Qi.defineModifier(),constant:Qi.defineModifier(),function:Qi.defineModifier(),standard:Qi.defineModifier(),local:Qi.defineModifier(),special:Qi.defineModifier()};Md([{tag:T.link,class:"tok-link"},{tag:T.heading,class:"tok-heading"},{tag:T.emphasis,class:"tok-emphasis"},{tag:T.strong,class:"tok-strong"},{tag:T.keyword,class:"tok-keyword"},{tag:T.atom,class:"tok-atom"},{tag:T.bool,class:"tok-bool"},{tag:T.url,class:"tok-url"},{tag:T.labelName,class:"tok-labelName"},{tag:T.inserted,class:"tok-inserted"},{tag:T.deleted,class:"tok-deleted"},{tag:T.literal,class:"tok-literal"},{tag:T.string,class:"tok-string"},{tag:T.number,class:"tok-number"},{tag:[T.regexp,T.escape,T.special(T.string)],class:"tok-string2"},{tag:T.variableName,class:"tok-variableName"},{tag:T.local(T.variableName),class:"tok-variableName tok-local"},{tag:T.definition(T.variableName),class:"tok-variableName tok-definition"},{tag:T.special(T.variableName),class:"tok-variableName2"},{tag:T.definition(T.propertyName),class:"tok-propertyName tok-definition"},{tag:T.typeName,class:"tok-typeName"},{tag:T.namespace,class:"tok-namespace"},{tag:T.className,class:"tok-className"},{tag:T.macroName,class:"tok-macroName"},{tag:T.propertyName,class:"tok-propertyName"},{tag:T.operator,class:"tok-operator"},{tag:T.comment,class:"tok-comment"},{tag:T.meta,class:"tok-meta"},{tag:T.invalid,class:"tok-invalid"},{tag:T.punctuation,class:"tok-punctuation"}]);var Na;const lr=new Ce,Kb=new Ce;class Wi{constructor(e,t,i=[],s=""){this.data=e,this.name=s,Ae.prototype.hasOwnProperty("tree")||Object.defineProperty(Ae.prototype,"tree",{get(){return Ml(this)}}),this.parser=t,this.extension=[Dn.of(this),Ae.languageData.of((r,o,a)=>{let l=Uu(r,o,a),h=l.type.prop(lr);if(!h)return[];let c=r.facet(h),u=l.type.prop(Kb);if(u){let d=l.resolve(o-l.from,a);for(let g of u)if(g.test(d,r)){let m=r.facet(g.facet);return g.type=="replace"?m:m.concat(c)}}return c})].concat(i)}isActiveAt(e,t,i=-1){return Uu(e,t,i).type.prop(lr)==this.data}findRegions(e){let t=e.facet(Dn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(r,o)=>{if(r.prop(lr)==this.data){i.push({from:o,to:o+r.length});return}let a=r.prop(Ce.mounted);if(a){if(a.tree.prop(lr)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+r.length});return}else if(a.overlay){let l=i.length;if(s(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<r.children.length;l++){let h=r.children[l];h instanceof st&&s(h,r.positions[l]+o)}};return s(Ml(e),0),i}get allowsNesting(){return!0}}Wi.setState=dt.define();function Uu(n,e,t){let i=n.facet(Dn),s=Ml(n).topNode;if(!i||i.allowsNesting)for(let r=s;r;r=r.enter(e,t,Ot.ExcludeBuffers))r.type.isTop&&(s=r);return s}function Ml(n){let e=n.field(Wi.state,!1);return e?e.tree:st.empty}class Jb{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let tr=null;class jo{constructor(e,t,i=[],s,r,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=r,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new jo(e,t,[],st.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Jb(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=st.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(en.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(en.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=tr;tr=this;try{return e()}finally{tr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Wu(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:r,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((h,c,u,d)=>l.push({fromA:h,toA:c,fromB:u,toB:d})),i=en.applyChanges(i,l),s=st.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let h of this.skipped){let c=e.mapPos(h.from,1),u=e.mapPos(h.to,-1);c<u&&a.push({from:c,to:u})}}}return new jo(this.parser,t,i,s,r,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:r}=this.skipped[i];s<e.to&&r>e.from&&(this.fragments=Wu(this.fragments,s,r),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends kO{createParse(t,i,s){let r=s[0].from,o=s[s.length-1].to;return{parsedPos:r,advance(){let l=tr;if(l){for(let h of s)l.tempSkipped.push(h);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new st(_t.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return tr}}function Wu(n,e,t){return en.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Mn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Mn(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=jo.create(e.facet(Dn).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Mn(i)}}Wi.state=fn.define({create:Mn.init,update(n,e){for(let t of e.effects)if(t.is(Wi.setState))return t.value;return e.startState.facet(Dn)!=e.state.facet(Dn)?Mn.init(e.state):n.apply(e)}});let Dd=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Dd=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Fa=typeof navigator<"u"&&(!((Na=navigator.scheduling)===null||Na===void 0)&&Na.isInputPending)?()=>navigator.scheduling.isInputPending():null,ew=_n.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Dd(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,r=i.field(Wi.state);if(r.tree==r.context.tree&&r.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Fa?Math.max(25,e.timeRemaining()-5):1e9),a=r.context.treeLen<s&&i.doc.length>s+1e3,l=r.context.work(()=>Fa&&Fa()||Date.now()>o,s+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:Wi.setState.of(new Mn(r.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ui(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Dn=be.define({combine(n){return n.length?n[0]:null},enables:n=>[Wi.state,ew,qe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class bh{constructor(e,t){this.specs=e;let i;function s(a){let l=ws.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const r=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof Wi?a=>a.prop(lr)==o.data:o?a=>a==o:void 0,this.style=Md(e.map(a=>({tag:a.tag,class:a.class||s(Object.assign({},a,{tag:null}))})),{all:r}).style,this.module=i?new ws(i):null,this.themeType=t.themeType}static define(e,t){return new bh(e,t||{})}}const tw=Object.create(null),Yu=[_t.none],zu=[],Cu=Object.create(null),iw=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])iw[n]=sw(tw,e);function Ga(n,e){zu.indexOf(n)>-1||(zu.push(n),console.warn(e))}function sw(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let h of a.split(".")){let c=n[h]||T[h];c?typeof c=="function"?l.length?l=l.map(c):Ga(h,`Modifier ${h} used at start of tag`):l.length?Ga(h,`Tag ${h} used as modifier`):l=Array.isArray(c)?c:[c]:Ga(h,`Unknown highlighting tag ${h}`)}for(let h of l)t.push(h)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(a=>a.id),r=Cu[s];if(r)return r.id;let o=Cu[s]=_t.define({id:Yu.length,name:i,props:[_d({[i]:t})]});return Yu.push(o),o.id}xt.RTL,xt.LTR;const nw=bh.define([{tag:T.keyword,color:"#5e81ac"},{tag:[T.name,T.deleted,T.character,T.propertyName,T.macroName],color:"#88c0d0"},{tag:[T.variableName],color:"#8fbcbb"},{tag:[T.function(T.variableName)],color:"#8fbcbb"},{tag:[T.labelName],color:"#81a1c1"},{tag:[T.color,T.constant(T.name),T.standard(T.name)],color:"#5e81ac"},{tag:[T.definition(T.name),T.separator],color:"#a3be8c"},{tag:[T.brace],color:"#8fbcbb"},{tag:[T.annotation],color:"#d30102"},{tag:[T.number,T.changed,T.annotation,T.modifier,T.self,T.namespace],color:"#b48ead"},{tag:[T.typeName,T.className],color:"#ECEFF4"},{tag:[T.operator,T.operatorKeyword],color:"#a3be8c"},{tag:[T.tagName],color:"#b48ead"},{tag:[T.squareBracket],color:"#ECEFF4"},{tag:[T.angleBracket],color:"#ECEFF4"},{tag:[T.attributeName],color:"#eceff4"},{tag:[T.regexp],color:"#5e81ac"},{tag:[T.quote],color:"#b48ead"},{tag:[T.string],color:"#a3be8c"},{tag:T.link,color:"#a3be8c",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[T.url,T.escape,T.special(T.string)],color:"#8fbcbb"},{tag:[T.meta],color:"#88c0d0"},{tag:[T.monospace],color:"#d8dee9",fontStyle:"italic"},{tag:[T.comment],color:"#4c566a",fontStyle:"italic"},{tag:T.strong,fontWeight:"bold",color:"#5e81ac"},{tag:T.emphasis,fontStyle:"italic",color:"#5e81ac"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.heading,fontWeight:"bold",color:"#5e81ac"},{tag:T.special(T.heading1),fontWeight:"bold",color:"#5e81ac"},{tag:T.heading1,fontWeight:"bold",color:"#5e81ac"},{tag:[T.heading2,T.heading3,T.heading4],fontWeight:"bold",color:"#5e81ac"},{tag:[T.heading5,T.heading6],color:"#5e81ac"},{tag:[T.atom,T.bool,T.special(T.variableName)],color:"#d08770"},{tag:[T.processingInstruction,T.inserted],color:"#8fbcbb"},{tag:[T.contentSeparator],color:"#ebcb8b"},{tag:T.invalid,color:"#434c5e",borderBottom:"1px dotted #d30102"}]);class ta{constructor(e,t=nw){var i;this.parser=e,this.style=t,this.classLookup=new Map;for(const s of((i=this.style.module)==null?void 0:i.getRules().split(`
`))??[]){const r=s.match(ta.classRegex);if(!r)continue;const o=r[1],a=r[2].trim();this.classLookup.set(o,a)}}initialize(){return!0}prepare(e){const t=new Map,i=this.parser.parse(e);return Fb(i,this.style,(s,r,o)=>{const a=this.classLookup.get(o);if(!a)return;const l=i.cursorAt(s,1);do{const h=this.getNodeId(l.node);t.set(h,a)}while(l.next()&&l.to<=r)}),{tree:i,code:e,colorLookup:t}}highlight(e,t){if(!t)return{color:null,skipAhead:0};const i=t.tree.resolveInner(e,1),s=this.getNodeId(i),r=t.colorLookup.get(s);if(r)return{color:r,skipAhead:i.to-e};let o=0;return i.firstChild||(o=i.to-e),{color:null,skipAhead:o}}tokenize(e){const i=this.parser.parse(e).cursor(),s=[];let r=0;do i.node.firstChild||(i.from>r&&s.push(e.slice(r,i.from)),i.from<i.to&&s.push(e.slice(i.from,i.to)),r=i.to);while(i.next());return s}getNodeId(e){return`${e.from}:${e.to}`}}ta.classRegex=/\.(\S+).*color:([^;]+)/;function rw(n){var e;return!!((e=n.prototype)!=null&&e.isClass)}const ow=Symbol.for("@motion-canvas/2d/fragment");function $(n,e,t){const{ref:i,children:s,...r}=e,o=Array.isArray(s)?s.flat():s;if(n===ow)return o;if(rw(n)){const a=new n({...r,children:o,key:t});return i==null||i(a),a}else return n({...r,ref:i,children:o,key:t})}class aw extends R1{constructor(e){super(e),this.view=null,this.registeredNodes=new Map,this.nodeCounters=new Map,this.assetHash=Date.now().toString(),this.recreateView()}getView(){return this.view}next(){var e;return(e=this.getView())==null||e.playbackState(this.playback.state).globalTime(this.playback.time),super.next()}draw(e){e.save(),this.renderLifecycle.dispatch([Ri.BeforeRender,e]),e.save(),this.renderLifecycle.dispatch([Ri.BeginRender,e]),this.getView().playbackState(this.playback.state).globalTime(this.playback.time),this.getView().render(e),this.renderLifecycle.dispatch([Ri.FinishRender,e]),e.restore(),this.renderLifecycle.dispatch([Ri.AfterRender,e]),e.restore()}reset(e){for(const t of this.registeredNodes.keys())try{this.registeredNodes.get(t).dispose()}catch(i){this.logger.error(i)}return this.registeredNodes.clear(),this.registeredNodes=new Map,this.nodeCounters.clear(),this.recreateView(),super.reset(e)}inspectPosition(e,t){return this.execute(()=>{var i;return((i=this.getView().hit(new b(e,t)))==null?void 0:i.key)??null})}validateInspection(e){var t;return((t=this.getNode(e))==null?void 0:t.key)??null}inspectAttributes(e){const t=this.getNode(e);if(!t)return null;const i={stack:t.creationStack,key:t.key};for(const{key:s,meta:r,signal:o}of t)r.inspectable&&(i[s]=o());return i}drawOverlay(e,t,i){const s=this.getNode(e);s&&this.execute(()=>{const r=this.getView().findAll(Lt(vi)),o=[];for(const a of r){const l=a.scene();l&&(l===s||l.findFirst(h=>h===s))&&o.push(a)}if(o.length>0)for(const a of o){const l=a.parentToWorld(),h=a.localToParent().inverse(),c=s.localToWorld();s.drawOverlay(i,t.multiply(l).multiply(h).multiply(c))}else s.drawOverlay(i,t.multiply(s.localToWorld()))})}transformMousePosition(e,t){return new b(e,t).transformAsPoint(this.getView().localToParent().inverse())}registerNode(e,t){var o;const i=((o=e.constructor)==null?void 0:o.name)??"unknown",s=(this.nodeCounters.get(i)??0)+1;this.nodeCounters.set(i,s),t&&this.registeredNodes.has(t)&&(Fe().error({message:`Duplicated node key: "${t}".`,inspect:t,stack:new Error().stack}),t=void 0),t??(t=`${this.name}/${i}[${s}]`),this.registeredNodes.set(t,e);const r=this.registeredNodes;return[t,()=>r.delete(t)]}getNode(e){return typeof e!="string"?null:this.registeredNodes.get(e)??null}*getDetachedNodes(){for(const e of this.registeredNodes.values())!e.parent()&&e!==this.view&&(yield e)}recreateView(){this.execute(()=>{const e=this.getSize();this.view=new Hi({position:e.scale(this.resolutionScale/2),scale:this.resolutionScale,assetHash:this.assetHash,size:e})})}}function ji(n){return{klass:aw,config:n,stack:new Error().stack,meta:U1(),plugins:["@motion-canvas/2d/editor"]}}class Vo{constructor(e,t,i,s,r,o,a,l,h,c=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=r,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=h,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new Vo(e,[],t,i,i,0,[],0,s?new Au(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:r}=this.p;this.reducePos<this.pos-25&&this.setLookAhead(this.pos);let o=r.dynamicPrecedence(s);if(o&&(this.score+=o),i==0){this.pushState(r.getGoto(this.state,s,!0),this.reducePos),s<r.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-l;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=h));let c=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-c;if(s<r.minRepeatTerm||e&131072){let d=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,l,d,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=r.getGoto(d,s,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(s,l)}storeNode(e,t,i,s=4,r=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!r||this.pos==i)this.buffer.push(e,t,i,s);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,s>4&&(s-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=s}}shift(e,t,i,s){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4);else{let r=e,{parser:o}=this.p;(s>this.pos||t<=o.maxNode)&&(this.pos=s,o.stateFlag(r,1)||(this.reducePos=s)),this.pushState(r,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,s,4)}}apply(e,t,i,s){e&65536?this.reduce(e):this.shift(e,t,i,s)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new Vo(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new lw(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let r=0,o;r<t.length;r+=2)(o=t[r+1])!=this.state&&this.p.parser.hasAction(o,e)&&s.push(t[r],o);if(this.stack.length<120)for(let r=0;s.length<8&&r<t.length;r+=2){let o=t[r+1];s.some((a,l)=>l&1&&a==o)||s.push(t[r],o)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let r=t[s+1];if(r==this.state)continue;let o=this.split();o.pushState(r,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[s],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,r=this.stack.length-i*3;if(r<0||e.getGoto(this.stack[r],s,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,r)=>{if(!t.includes(s))return t.push(s),e.allActions(s,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-r;if(a>1){let l=o&65535,h=this.stack.length-a*3;if(h>=0&&e.getGoto(this.stack[h],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,r+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Au(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Au{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class lw{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class Zo{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Zo(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Zo(this.stack,this.pos,this.index)}}function ao(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let r=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(o==126){r=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),r+=l,a)break;r*=46}t?t[s++]=r:t=new e(r)}return t}class $o{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ju=new $o;class hw{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ju,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,r=this.pos+e;for(;r<i.from;){if(!s)return null;let o=this.ranges[--s];r-=i.from-o.to,i=o}for(;t<0?r>i.to:r>=i.to;){if(s==this.ranges.length-1)return null;let o=this.ranges[++s];r+=o.from-i.to,i=o}return r}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let r=this.resolveOffset(e,1);if(r==null)return-1;if(i=r,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=ju,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class Wn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;cw(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Wn.prototype.contextual=Wn.prototype.fallback=Wn.prototype.extend=!1;Wn.prototype.fallback=Wn.prototype.extend=!1;class Ed{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function cw(n,e,t,i,s,r){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&n[o];){let h=n[o+1];for(let g=o+3;g<h;g+=2)if((n[g+1]&a)>0){let m=n[g];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||fw(m,e.token.value,s,r))){e.acceptToken(m);break}}let c=e.next,u=0,d=n[o+2];if(e.next<0&&d>u&&n[h+d*3-3]==65535){o=n[h+d*3-1];continue e}for(;u<d;){let g=u+d>>1,m=h+g+(g<<1),v=n[m],w=n[m+1]||65536;if(c<v)d=g;else if(c>=w)u=g+1;else{o=n[m+2],e.advance();continue e}}break}}function Vu(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function fw(n,e,t,i){let s=Vu(t,i,e);return s<0||Vu(t,i,n)<s}const Et=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let Ha=null;function Zu(n,e,t){let i=n.cursor(Ot.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class uw{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Zu(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Zu(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let r=i.children[s],o=this.start[t]+i.positions[s];if(o>e)return this.nextStart=o,null;if(r instanceof st){if(o==e){if(o<this.safeFrom)return null;let a=o+r.length;if(a<=this.safeTo){let l=r.prop(Ce.lookAhead);if(!l||a+l<this.fragment.to)return r}}this.index[t]++,o+r.length>=Math.max(this.safeFrom,e)&&(this.trees.push(r),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+r.length}}}class Ow{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new $o)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:r}=s,o=s.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let h=0;h<r.length;h++){if(!(1<<h&o))continue;let c=r[h],u=this.tokens[h];if(!(i&&!c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,c,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let d=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(i=u,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new $o,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new $o,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:r}=i.p;for(let o=0;o<r.specialized.length;o++)if(r.specialized[o]==e.value){let a=r.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let r=0;r<s;r+=3)if(this.actions[r]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:r}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let h=o.stateSlot(r,l?2:1);;h+=3){if(a[h]==65535)if(a[h+1]==1)h=Ei(a,h+2);else{s==0&&a[h+1]==2&&(s=this.putAction(Ei(a,h+2),t,i,s));break}a[h]==t&&(s=this.putAction(Ei(a,h+1),t,i,s))}return s}}class dw{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new hw(t,s),this.tokens=new Ow(e,this.stream),this.topTerm=e.top[1];let{from:r}=s[0];this.stacks=[Vo.start(this,e.top[0],r)],this.fragments=i.length&&this.stream.end-r>e.bufferLength*4?new uw(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,r;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{s||(s=[],r=[]),s.push(a);let l=this.tokens.getMainToken(a);r.push(l.value,l.end)}}break}}if(!i.length){let o=s&&gw(s);if(o)return Et&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Et&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let o=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,r,i);if(o)return Et&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let h=i[l];if(a.sameState(h)||a.buffer.length>500&&h.buffer.length>500)if((a.score-h.score||a.buffer.length-h.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:r}=this,o=Et?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,c=h?e.curContext.hash:0;for(let u=this.fragments.nodeAt(s);u;){let d=this.parser.nodeSet.types[u.type.id]==u.type?r.getGoto(e.state,u.type.id):-1;if(d>-1&&u.length&&(!h||(u.prop(Ce.contextHash)||0)==c))return e.useNode(u,d),Et&&console.log(o+this.stackID(e)+` (via reuse of ${r.getName(u.type.id)})`),!0;if(!(u instanceof st)||u.children.length==0||u.positions[0]>0)break;let g=u.children[0];if(g instanceof st&&u.positions[0]==0)u=g;else break}}let a=r.stateSlot(e.state,4);if(a>0)return e.reduce(a),Et&&console.log(o+this.stackID(e)+` (via always-reduce ${r.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let h=0;h<l.length;){let c=l[h++],u=l[h++],d=l[h++],g=h==l.length||!i,m=g?e:e.split(),v=this.tokens.mainToken;if(m.apply(c,u,v?v.start:m.pos,d),Et&&console.log(o+this.stackID(m)+` (via ${c&65536?`reduce of ${r.getName(c&65535)}`:"shift"} for ${r.getName(u)} @ ${s}${m==e?"":", split"})`),g)return!0;m.pos>s?t.push(m):i.push(m)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return _u(e,t),!0}}runRecovery(e,t,i){let s=null,r=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],h=t[(o<<1)+1],c=Et?this.stackID(a)+" -> ":"";if(a.deadEnd&&(r||(r=!0,a.restart(),Et&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let u=a.split(),d=c;for(let g=0;u.forceReduce()&&g<10&&(Et&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));g++)Et&&(d=this.stackID(u)+" -> ");for(let g of a.recoverByInsert(l))Et&&console.log(c+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,i);this.stream.end>a.pos?(h==a.pos&&(h++,l=0),a.recoverByDelete(l,h),Et&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),_u(a,i)):(!s||s.score<a.score)&&(s=a)}return s}stackToTree(e){return e.close(),st.build({buffer:Zo.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Ha||(Ha=new WeakMap)).get(e);return t||Ha.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function _u(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class pw{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class _o extends kO{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),s=[];for(let a=0;a<t.length;a++)s.push([]);function r(a,l,h){s[a].push([l,l.deserialize(String(h))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Ce[l]);for(let h=1;h<a.length;){let c=a[h++];if(c>=0)r(c,l,a[h++]);else{let u=a[h+-c];for(let d=-c;d>0;d--)r(a[h++],l,u);h++}}}this.nodeSet=new nh(t.map((a,l)=>_t.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:s[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=SO;let o=ao(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(qu),this.states=ao(e.states,Uint32Array),this.data=ao(e.stateData),this.goto=ao(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Wn(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new dw(this,e,t,i);for(let r of this.wrappers)s=r(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let r=s[t+1];;){let o=s[r++],a=o&1,l=s[r++];if(a&&i)return l;for(let h=r+(o>>1);r<h;r++)if(s[r]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let r=this.stateSlot(e,s?2:1),o;;r+=3){if((o=i[r])==65535)if(i[r+1]==1)o=i[r=Ei(i,r+2)];else{if(i[r+1]==2)return Ei(i,r+2);break}if(o==t||o==0)return Ei(i,r+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let r=this.stateSlot(e,1);s==null;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ei(this.data,r+2);else break;s=t(Ei(this.data,r+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Ei(this.data,i+2);else break;if(!(this.data[i+2]&1)){let s=this.data[i+1];t.some((r,o)=>o&1&&r==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(_o.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(r=>r.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let r=e.specializers.find(a=>a.from==i.external);if(!r)return i;let o=Object.assign(Object.assign({},i),{external:r.to});return t.specializers[s]=qu(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let r of e.split(" ")){let o=t.indexOf(r);o>=0&&(i[o]=!0)}let s=null;for(let r=0;r<t.length;r++)if(!i[r])for(let o=this.dialects[t[r]],a;(a=this.data[o++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[a]=1;return new pw(e,i,s)}static deserialize(e){return new _o(e)}}function Ei(n,e){return n[e]|n[e+1]<<16}function gw(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function qu(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const Mu=1,mw=2,yw=3,vw=82,bw=76,ww=117,xw=85,$w=97,Sw=122,Qw=65,Xw=90,Pw=95,Dl=48,Du=34,kw=40,Eu=41,Tw=32,Lu=62,Rw=new Ed(n=>{if(n.next==bw||n.next==xw?n.advance():n.next==ww&&(n.advance(),n.next==Dl+8&&n.advance()),n.next!=vw||(n.advance(),n.next!=Du))return;n.advance();let e="";for(;n.next!=kw;){if(n.next==Tw||n.next<=13||n.next==Eu)return;e+=String.fromCharCode(n.next),n.advance()}for(n.advance();;){if(n.next<0)return n.acceptToken(Mu);if(n.next==Eu){let t=!0;for(let i=0;t&&i<e.length;i++)n.peek(i+1)!=e.charCodeAt(i)&&(t=!1);if(t&&n.peek(e.length+1)==Du)return n.acceptToken(Mu,2+e.length)}n.advance()}}),Uw=new Ed(n=>{if(n.next==Lu)n.peek(1)==Lu&&n.acceptToken(mw,1);else{let e=!1,t=0;for(;;t++){if(n.next>=Qw&&n.next<=Xw)e=!0;else{if(n.next>=$w&&n.next<=Sw)return;if(n.next!=Pw&&!(n.next>=Dl&&n.next<=Dl+9))break}n.advance()}e&&t>1&&n.acceptToken(yw)}},{extend:!0}),Ww=_d({"typedef struct union enum class typename decltype auto template operator friend noexcept namespace using requires concept import export module __attribute__ __declspec __based":T.definitionKeyword,"extern MsCallModifier MsPointerModifier extern static register thread_local inline const volatile restrict _Atomic mutable constexpr constinit consteval virtual explicit VirtualSpecifier Access":T.modifier,"if else switch for while do case default return break continue goto throw try catch":T.controlKeyword,"co_return co_yield co_await":T.controlKeyword,"new sizeof delete static_assert":T.operatorKeyword,"NULL nullptr":T.null,this:T.self,"True False":T.bool,"TypeSize PrimitiveType":T.standard(T.typeName),TypeIdentifier:T.typeName,FieldIdentifier:T.propertyName,"CallExpression/FieldExpression/FieldIdentifier":T.function(T.propertyName),"ModuleName/Identifier":T.namespace,PartitionName:T.labelName,StatementIdentifier:T.labelName,"Identifier DestructorName":T.variableName,"CallExpression/Identifier":T.function(T.variableName),"CallExpression/ScopedIdentifier/Identifier":T.function(T.variableName),"FunctionDeclarator/Identifier FunctionDeclarator/DestructorName":T.function(T.definition(T.variableName)),NamespaceIdentifier:T.namespace,OperatorName:T.operator,ArithOp:T.arithmeticOperator,LogicOp:T.logicOperator,BitOp:T.bitwiseOperator,CompareOp:T.compareOperator,AssignOp:T.definitionOperator,UpdateOp:T.updateOperator,LineComment:T.lineComment,BlockComment:T.blockComment,Number:T.number,String:T.string,"RawString SystemLibString":T.special(T.string),CharLiteral:T.character,EscapeSequence:T.escape,"UserDefinedLiteral/Identifier":T.literal,PreProcArg:T.meta,"PreprocDirectiveName #include #ifdef #ifndef #if #define #else #endif #elif":T.processingInstruction,MacroName:T.special(T.name),"( )":T.paren,"[ ]":T.squareBracket,"{ }":T.brace,"< >":T.angleBracket,". ->":T.derefOperator,", ;":T.separator}),Yw={__proto__:null,bool:34,char:34,int:34,float:34,double:34,void:34,size_t:34,ssize_t:34,intptr_t:34,uintptr_t:34,charptr_t:34,int8_t:34,int16_t:34,int32_t:34,int64_t:34,uint8_t:34,uint16_t:34,uint32_t:34,uint64_t:34,char8_t:34,char16_t:34,char32_t:34,char64_t:34,const:68,volatile:70,restrict:72,_Atomic:74,mutable:76,constexpr:78,constinit:80,consteval:82,struct:86,__declspec:90,final:148,override:148,public:152,private:152,protected:152,virtual:154,extern:160,static:162,register:164,inline:166,thread_local:168,__attribute__:172,__based:178,__restrict:180,__uptr:180,__sptr:180,_unaligned:180,__unaligned:180,noexcept:194,requires:198,TRUE:784,true:784,FALSE:786,false:786,typename:218,class:220,template:234,throw:248,__cdecl:256,__clrcall:256,__stdcall:256,__fastcall:256,__thiscall:256,__vectorcall:256,try:260,catch:264,export:282,import:286,case:296,default:298,if:308,else:314,switch:318,do:322,while:324,for:330,return:334,break:338,continue:342,goto:346,co_return:350,co_yield:354,using:362,typedef:366,namespace:380,new:398,delete:400,co_await:402,concept:406,enum:410,static_assert:414,friend:422,union:424,explicit:430,operator:444,module:456,signed:518,unsigned:518,long:518,short:518,decltype:528,auto:530,sizeof:566,NULL:572,nullptr:586,this:588},zw={__proto__:null,"<":131},Cw={__proto__:null,">":135},Aw={__proto__:null,operator:388,new:576,delete:582},jw=_o.deserialize({version:14,states:"$:|Q!QQVOOP'gOUOOO(XOWO'#CdO,RQUO'#CgO,]QUO'#FjO-sQbO'#CwO.UQUO'#CwO0TQUO'#KZO0[QUO'#CvO0gOpO'#DvO0oQ!dO'#D]OOQR'#JO'#JOO5XQVO'#GUO5fQUO'#JVOOQQ'#JV'#JVO8zQUO'#KmO<eQUO'#KmO>{QVO'#E^O?]QUO'#E^OOQQ'#Ed'#EdOOQQ'#Ee'#EeO?bQVO'#EfO@XQVO'#EiOBUQUO'#FPOBvQUO'#FhOOQR'#Fj'#FjOB{QUO'#FjOOQR'#LQ'#LQOOQR'#LP'#LPOETQVO'#KQOFxQUO'#LVOGVQUO'#KqOGkQUO'#LVOH]QUO'#LXOOQR'#HU'#HUOOQR'#HV'#HVOOQR'#HW'#HWOOQR'#K|'#K|OOQR'#J_'#J_Q!QQVOOOHkQVO'#FOOIWQUO'#EhOI_QUOOOKZQVO'#HgOKkQUO'#HgONVQUO'#KqONaQUO'#KqOOQQ'#Kq'#KqO!!_QUO'#KqOOQQ'#Jq'#JqO!!lQUO'#HxOOQQ'#KZ'#KZO!&^QUO'#KZO!&zQUO'#KQO!(zQVO'#I]O!(zQVO'#I`OCQQUO'#KQOOQQ'#Ip'#IpOOQQ'#KQ'#KQO!,}QUO'#KZOOQR'#KY'#KYO!-UQUO'#DYO!/mQUO'#KnOOQQ'#Kn'#KnO!/tQUO'#KnO!/{QUO'#ETO!0QQUO'#EWO!0VQUO'#FRO8zQUO'#FPO!QQVO'#F^O!0[Q#vO'#F`O!0gQUO'#FkO!0oQUO'#FpO!0tQVO'#FrO!0oQUO'#FuO!3sQUO'#FvO!3xQVO'#FxO!4SQUO'#FzO!4XQUO'#F|O!4^QUO'#GOO!4cQVO'#GQO!(zQVO'#GSO!4jQUO'#GpO!4xQUO'#GYO!(zQVO'#FeO!6VQUO'#FeO!6[QVO'#G`O!6cQUO'#GaO!6nQUO'#GnO!6sQUO'#GrO!6xQUO'#GzO!7jQ&lO'#HiO!:mQUO'#GuO!:}QUO'#HXO!;YQUO'#HZO!;bQUO'#DWO!;bQUO'#HuO!;bQUO'#HvO!;yQUO'#HwO!<[QUO'#H|O!=PQUO'#H}O!>uQVO'#IbO!(zQVO'#IdO!?PQUO'#IgO!?WQVO'#IjP!@}{,UO'#CbP!6n{,UO'#CbP!AY{7[O'#CbP!6n{,UO'#CbP!A_{,UO'#CbP!AjOSO'#IzPOOO)CEn)CEnOOOO'#I|'#I|O!AtOWO,59OOOQR,59O,59OO!(zQVO,59UOOQQ,59W,59WO!(zQVO,5;ROOQR,5<U,5<UO!BPQUO,59YO!(zQVO,5>qOOQR'#IX'#IXOOQR'#IY'#IYOOQR'#IZ'#IZOOQR'#I['#I[O!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!DOQVO,5>zOOQQ,5?W,5?WO!EqQVO'#ChO!IjQUO'#CyOOQQ,59c,59cOOQQ,59b,59bOOQQ,5<},5<}O!IwQ&lO,5=mO!?PQUO,5?RO!LkQVO,5?UO!LrQbO,59cO!L}QVO'#FYOOQQ,5?P,5?PO!M_QVO,59VO!MfO`O,5:bO!MkQbO'#D^O!M|QbO'#K^O!N[QbO,59wO!NdQbO'#CwO!NuQUO'#CwO!NzQUO'#KZO# UQUO'#CvOOQR-E<|-E<|O# aQUO,5AoO# hQVO'#EfO@XQVO'#EiOBUQUO,5;kOOQR,5<p,5<pO#$aQUO'#KQO#$hQUO'#KQO!(zQVO'#IUO8zQUO,5;kO#${Q&lO'#HiO#(SQUO'#CsO#*wQbO'#CwO#*|QUO'#CvO#.jQUO'#KZOOQQ-E=T-E=TO#0}QUO,5AXO#1XQUO'#KZO#1cQUO,5AXOOQR,5Ao,5AoOOQQ,5>l,5>lO#3gQUO'#CgO#4]QUO,5>pO#6OQUO'#IeOOQR'#I}'#I}O#6WQUO,5:xO#6tQUO,5:xO#7eQUO,5:xO#8YQUO'#CtO!0QQUO'#ClOOQQ'#JW'#JWO#6tQUO,5:xO#8bQUO,5;QO!4xQUO'#C}O#9kQUO,5;QO#9pQUO,5>QO#:|QUO'#C}O#;dQUO,5>{O#;iQUO'#KwO#<rQUO,5;TO#<zQVO,5;TO#=UQUO,5;TOOQQ,5;T,5;TO#>}QUO'#L[O#?UQUO,5>UO#?ZQbO'#CwO#?fQUO'#GcO#?kQUO'#E^O#@[QUO,5;kO#@sQUO'#K}O#@{QUO,5;rOKkQUO'#HfOBUQUO'#HgO#AQQUO'#KqO!6nQUO'#HjO#AxQUO'#CtO!0tQVO,5<SOOQQ'#Cg'#CgOOQR'#Jh'#JhO#A}QVO,5=`OOQQ,5?Z,5?ZO#DWQbO'#CwO#DcQUO'#GcOOQQ'#Ji'#JiOOQQ-E=g-E=gOGVQUO,5AqOGkQUO,5AqO#DhQUO,5AsO#DsQUO'#G|OOQR,5Aq,5AqO#DhQUO,5AqO#EOQUO'#HOO#EWQUO,5AsOOQR,5As,5AsOOQR,5At,5AtO#EfQVO,5AtOOQR-E=]-E=]O#G`QVO,5;jOOQR,5;j,5;jO#IaQUO'#EjO#JfQUO'#EwO#K]QVO'#ExO#MoQUO'#EvO#MwQUO'#EyO#NvQUO'#EzOOQQ'#Kz'#KzO$ mQUO,5;SO$!sQUO'#EvOOQQ,5;S,5;SO$#pQUO,5;SO$%cQUO,5:yO$'|QVO,5>PO$(WQUO'#E[O$(eQUO,5>ROOQQ,5>S,5>SO$,RQVO'#C{OOQQ-E=o-E=oOOQQ,5>d,5>dOOQQ,59`,59`O$,]QUO,5>wO$.]QUO,5>zO!6nQUO,59tO$.pQUO,5;qO$.}QUO,5<{O!0QQUO,5:oOOQQ,5:r,5:rO$/YQUO,5;mO$/_QUO'#KmOBUQUO,5;kOOQR,5;x,5;xO$0OQUO'#FbO$0^QUO'#FbO$0cQUO,5;zO$3|QVO'#FmO!0tQVO,5<VO!0oQUO,5<VO!0VQUO,5<[O$4TQVO'#GUO$7PQUO,5<^O!0tQVO,5<aO$:gQVO,5<bO$:tQUO,5<dOOQR,5<d,5<dO$;}QUO,5<dOOQR,5<f,5<fOOQR,5<h,5<hOOQQ'#Fi'#FiO$<SQUO,5<jO$<XQUO,5<lOOQR,5<l,5<lO$=_QUO,5<nO$>eQUO,5<rO$>pQUO,5=[O$>uQUO,5=[O!4xQUO,5<tO$>}QUO,5<tO$?cQUO,5<PO$@iQVO,5<PO$BzQUO,5<zOOQR,5<z,5<zOOQR,5<{,5<{O$>uQUO,5<{O$DQQUO,5<{O$D]QUO,5=YO!(zQVO,5=^O!(zQVO,5=fO#NeQUO,5=mOOQQ,5>T,5>TO$FbQUO,5>TO$FlQUO,5>TO$FqQUO,5>TO$FvQUO,5>TO!6nQUO,5>TO$HtQUO'#KZO$H{QUO,5=oO$IWQUO,5=aOKkQUO,5=oO$JQQUO,5=sOOQR,5=s,5=sO$JYQUO,5=sO$LeQVO'#H[OOQQ,5=u,5=uO!;]QUO,5=uO%#`QUO'#KjO%#gQUO'#K[O%#{QUO'#KjO%$VQUO'#DyO%$hQUO'#D|O%'eQUO'#K[OOQQ'#K['#K[O%)WQUO'#K[O%#gQUO'#K[O%)]QUO'#K[OOQQ,59r,59rOOQQ,5>a,5>aOOQQ,5>b,5>bO%)eQUO'#HzO%)mQUO,5>cOOQQ,5>c,5>cO%-XQUO,5>cO%-dQUO,5>hO%1OQVO,5>iO%1VQUO,5>|O# hQVO'#EfO%4]QUO,5>|OOQQ,5>|,5>|O%4|QUO,5?OO%7QQUO,5?RO!<[QUO,5?RO%8|QUO,5?UO%<iQVO,5?UP!A_{,UO,58|P%<p{,UO,58|P%=O{7[O,58|P%=U{,UO,58|PO{O'#Ju'#JuP%=Z{,UO'#LcPOOO'#Lc'#LcP%=a{,UO'#LcPOOO,58|,58|POOO,5?f,5?fP%=fOSO,5?fOOOO-E<z-E<zOOQR1G.j1G.jO%=mQUO1G.pO%>sQUO1G0mOOQQ1G0m1G0mO%@PQUO'#CoO%B`QbO'#CwO%BkQUO'#CrO%BpQUO'#CrO%BuQUO1G.tO#AxQUO'#CqOOQQ1G.t1G.tO%DxQUO1G4]O%FOQUO1G4^O%GqQUO1G4^O%IdQUO1G4^O%KVQUO1G4^O%LxQUO1G4^O%NkQUO1G4^O&!^QUO1G4^O&$PQUO1G4^O&%rQUO1G4^O&'eQUO1G4^O&)WQUO1G4^O&*yQUO'#KPO&,SQUO'#KPO&,[QUO,59SOOQQ,5=P,5=PO&.dQUO,5=PO&.nQUO,5=PO&.sQUO,5=PO&.xQUO,5=PO!6nQUO,5=PO#NeQUO1G3XO&/SQUO1G4mO!<[QUO1G4mO&1OQUO1G4pO&2qQVO1G4pOOQQ1G.}1G.}OOQQ1G.|1G.|OOQQ1G2i1G2iO!IwQ&lO1G3XO&2xQUO'#LOO@XQVO'#EiO&4RQUO'#F]OOQQ'#Ja'#JaO&4WQUO'#FZO&4cQUO'#LOO&4kQUO,5;tO&4pQUO1G.qOOQQ1G.q1G.qOOQR1G/|1G/|O&6cQ!dO'#JPO&6hQbO,59xO&8yQ!eO'#D`O&9QQ!dO'#JRO&9VQbO,5@xO&9VQbO,5@xOOQR1G/c1G/cO&9bQbO1G/cO&9gQ&lO'#GeO&:eQbO,59cOOQR1G7Z1G7ZO#@[QUO1G1VO&:pQUO1G1^OBUQUO1G1VO&=RQUO'#CyO#*wQbO,59cO&@tQUO1G6sOOQR-E<{-E<{O&BWQUO1G0dO#6WQUO1G0dOOQQ-E=U-E=UO#6tQUO1G0dOOQQ1G0l1G0lO&B{QUO,59iOOQQ1G3l1G3lO&CcQUO,59iO&CyQUO,59iO!M_QVO1G4gO!(zQVO'#JYO&DeQUO,5AcOOQQ1G0o1G0oO!(zQVO1G0oO!6nQUO'#JnO&DmQUO,5AvOOQQ1G3p1G3pOOQR1G1V1G1VO&HjQVO'#FOO!M_QVO,5;sOOQQ,5;s,5;sOBUQUO'#JcO&JfQUO,5AiO&JnQVO'#E[OOQR1G1^1G1^O&M]QUO'#L[OOQR1G1n1G1nOOQR-E=f-E=fOOQR1G7]1G7]O#DhQUO1G7]OGVQUO1G7]O#DhQUO1G7_OOQR1G7_1G7_O&MeQUO'#G}O&MmQUO'#LWOOQQ,5=h,5=hO&M{QUO,5=jO&NQQUO,5=kOOQR1G7`1G7`O#EfQVO1G7`O&NVQUO1G7`O' ]QVO,5=kOOQR1G1U1G1UO$.vQUO'#E]O'!RQUO'#E]OOQQ'#Ky'#KyO'!lQUO'#KxO'!wQUO,5;UO'#PQUO'#ElO'#dQUO'#ElO'#wQUO'#EtOOQQ'#J['#J[O'#|QUO,5;cO'$sQUO,5;cO'%nQUO,5;dO'&tQVO,5;dOOQQ,5;d,5;dO''OQVO,5;dO'&tQVO,5;dO''VQUO,5;bO'(SQUO,5;eO'(_QUO'#KpO'(gQUO,5:vO'(lQUO,5;fOOQQ1G0n1G0nOOQQ'#J]'#J]O''VQUO,5;bO!4xQUO'#E}OOQQ,5;b,5;bO')gQUO'#E`O'+aQUO'#E{OHrQUO1G0nO'+fQUO'#EbOOQQ'#JX'#JXO'-OQUO'#KrOOQQ'#Kr'#KrO'-xQUO1G0eO'.pQUO1G3kO'/vQVO1G3kOOQQ1G3k1G3kO'0QQVO1G3kO'0XQUO'#L_O'1eQUO'#KXO'1sQUO'#KWO'2OQUO,59gO'2WQUO1G/`O'2]QUO'#FPOOQR1G1]1G1]OOQR1G2g1G2gO$>uQUO1G2gO'2gQUO1G2gO'2rQUO1G0ZOOQR'#J`'#J`O'2wQVO1G1XO'8pQUO'#FTO'8uQUO1G1VO!6nQUO'#JdO'9TQUO,5;|O$0^QUO,5;|OOQQ'#Fc'#FcOOQQ,5;|,5;|O'9cQUO1G1fOOQR1G1f1G1fO'9kQUO,5<XO$.vQUO'#FWOBUQUO'#FWO'9rQUO,5<XO!(zQVO,5<XO'9zQUO,5<XO':PQVO1G1qO!0tQVO1G1qOOQR1G1v1G1vO'?oQUO1G1xOOQR1G1{1G1{O'?tQUO1G1|OBUQUO1G2]O'@}QVO1G1|O'CcQUO1G1|O'ChQUO'#GWO8zQUO1G2]OOQR1G2O1G2OOOQR1G2U1G2UOOQR1G2W1G2WOOQR1G2Y1G2YO'CmQUO1G2^O!4xQUO1G2^OOQR1G2v1G2vO'CuQUO1G2vO$>}QUO1G2`OOQQ'#Cu'#CuO'CzQUO'#G[O'DuQUO'#G[O'DzQUO'#LRO'EYQUO'#G_OOQQ'#LS'#LSO'EhQUO1G2`O'EmQVO1G1kO'HOQVO'#GUOBUQUO'#FWOOQR'#Je'#JeO'EmQVO1G1kO'HYQUO'#FvOOQR1G2f1G2fO'H_QUO1G2gO'HdQUO'#JgO'2gQUO1G2gO!(zQVO1G2tO'HlQUO1G2xO'IuQUO1G3QO'J{QUO1G3XOOQQ1G3o1G3oO'KaQUO1G3oOOQR1G3Z1G3ZO'KfQUO'#KZO'2]QUO'#LTOGkQUO'#LVOOQR'#Gy'#GyO#DhQUO'#LXOOQR'#HQ'#HQO'KpQUO'#GvO'#wQUO'#GuOOQR1G2{1G2{O'LmQUO1G2{O'MdQUO1G3ZO'MoQUO1G3_O'MtQUO1G3_OOQR1G3_1G3_O'M|QUO'#H]OOQR'#H]'#H]O( VQUO'#H]O!(zQVO'#H`O!(zQVO'#H_OOQR'#LZ'#LZO( [QUO'#LZOOQR'#Jk'#JkO( aQVO,5=vOOQQ,5=v,5=vO( hQUO'#H^O( pQUO'#HZOOQQ1G3a1G3aO( zQUO,5@vOOQQ,5@v,5@vO%)WQUO,5@vO%)]QUO,5@vO%$VQUO,5:eO(%iQUO'#KkO(%wQUO'#KkOOQQ,5:e,5:eOOQQ'#JS'#JSO(&SQUO'#D}O(&^QUO'#KqOGkQUO'#LVO('YQUO'#D}OOQQ'#Hp'#HpOOQQ'#Hr'#HrOOQQ'#Hs'#HsOOQQ'#Kl'#KlOOQQ'#JU'#JUO('dQUO,5:hOOQQ,5:h,5:hO((aQUO'#LVO((nQUO'#HtO()UQUO,5@vO()]QUO'#H{O()hQUO'#L^O()pQUO,5>fO()uQUO'#L]OOQQ1G3}1G3}O(-lQUO1G3}O(-sQUO1G3}O(-zQUO1G4TO(/QQUO1G4TO(/VQUO,5A|O!6nQUO1G4hO!(zQVO'#IiOOQQ1G4m1G4mO(/[QUO1G4mO(1_QVO1G4pPOOO1G.h1G.hP!A_{,UO1G.hP(3_QUO'#LeP(3j{,UO1G.hP(3o{7[O1G.hPO{O-E=s-E=sPOOO,5A},5A}P(3w{,UO,5A}POOO1G5Q1G5QO!(zQVO7+$[O(3|QUO'#CyOOQQ,59^,59^O(4XQbO,59cO(4dQbO,59^OOQQ,59],59]OOQQ7+)w7+)wO!M_QVO'#JtO(4oQUO,5@kOOQQ1G.n1G.nOOQQ1G2k1G2kO(4wQUO1G2kO(4|QUO7+(sOOQQ7+*X7+*XO(7bQUO7+*XO(7iQUO7+*XO(1_QVO7+*[O#NeQUO7+(sO(7vQVO'#JbO(8ZQUO,5AjO(8cQUO,5;vOOQQ'#Co'#CoOOQQ,5;w,5;wO!(zQVO'#F[OOQQ-E=_-E=_O!M_QVO,5;uOOQQ1G1`1G1`OOQQ,5?k,5?kOOQQ-E<}-E<}OOQR'#Dg'#DgOOQR'#Di'#DiOOQR'#Dl'#DlO(9lQ!eO'#K_O(9sQMkO'#K_O(9zQ!eO'#K_OOQR'#K_'#K_OOQR'#JQ'#JQO(:RQ!eO,59zOOQQ,59z,59zO(:YQbO,5?mOOQQ-E=P-E=PO(:hQbO1G6dOOQR7+$}7+$}OOQR7+&q7+&qOOQR7+&x7+&xO'8uQUO7+&qO(:sQUO7+&OO#6WQUO7+&OO(;hQUO1G/TO(<OQUO1G/TO(<jQUO7+*ROOQQ7+*V7+*VO(>]QUO,5?tOOQQ-E=W-E=WO(?fQUO7+&ZOOQQ,5@Y,5@YOOQQ-E=l-E=lO(?kQUO'#LOO@XQVO'#EiO(@wQUO1G1_OOQQ1G1_1G1_O(BQQUO,5?}OOQQ,5?},5?}OOQQ-E=a-E=aO(BfQUO'#KpOOQR7+,w7+,wO#DhQUO7+,wOOQR7+,y7+,yO(BsQUO,5=iO#DsQUO'#JjO(CUQUO,5ArOOQR1G3U1G3UOOQR1G3V1G3VO(CdQUO7+,zOOQR7+,z7+,zO(E[QUO,5:wO(FyQUO'#EwO!(zQVO,5;VO(GlQUO,5:wO(GvQUO'#EpO(HXQUO'#EzOOQQ,5;Z,5;ZO#K]QVO'#ExO(HoQUO,5:wO(HvQUO'#EyO#GgQUO'#JZO(J`QUO,5AdOOQQ1G0p1G0pO(JkQUO,5;WO!<[QUO,5;^O(KUQUO,5;_O(KdQUO,5;WO(MvQUO,5;`OOQQ-E=Y-E=YO(NOQUO1G0}OOQQ1G1O1G1OO(NyQUO1G1OO)!PQVO1G1OO)!WQVO1G1OO)!bQUO1G0|OOQQ1G0|1G0|OOQQ1G1P1G1PO)#_QUO'#JoO)#iQUO,5A[OOQQ1G0b1G0bOOQQ-E=Z-E=ZO)#qQUO,5;iO!<[QUO,5;iO)$nQVO,5:zO)$uQUO,5;gO$ mQUO7+&YOOQQ7+&Y7+&YO!(zQVO'#EfO)$|QUO,5:|OOQQ'#Ks'#KsOOQQ-E=V-E=VOOQQ,5A^,5A^OOQQ'#Jl'#JlO)(qQUO7+&PPOQQ7+&P7+&POOQQ7+)V7+)VO))iQUO7+)VO)*oQVO7+)VOOQQ,5>m,5>mO$)YQVO'#JsO)*vQUO,5@rOOQQ1G/R1G/ROOQQ7+$z7+$zO)+RQUO7+(RO)+WQUO7+(ROOQR7+(R7+(RO$>uQUO7+(ROOQQ7+%u7+%uOOQR-E=^-E=^O!0VQUO,5;oOOQQ,5@O,5@OOOQQ-E=b-E=bO$0^QUO1G1hOOQQ1G1h1G1hOOQR7+'Q7+'QOOQR1G1s1G1sOBUQUO,5;rO)+tQUO,5<YO)+{QUO1G1sO)-UQUO1G1sO!0tQVO7+']O)-ZQVO7+']O)2yQUO7+'dO)3OQVO7+'hO)5dQUO7+'wO)5nQUO7+'hO)6tQVO7+'hOKkQUO7+'wO$>hQUO,5<rO!4xQUO7+'xO)6{QUO7+'xOOQR7+(b7+(bO)7QQUO7+'zO)7VQUO,5<vO'CzQUO,5<vO)7}QUO,5<vO'CzQUO,5<vOOQQ,5<w,5<wO)8`QVO,5<xO'EYQUO'#JfO)8jQUO,5AmO)8rQUO,5<yOOQR7+'z7+'zO)8}QVO7+'VO)5gQUO'#K}OOQR-E=c-E=cO);`QVO,5<bOOQQ,5@R,5@RO!6nQUO,5@ROOQQ-E=e-E=eO)=wQUO7+(`O)>}QUO7+(dO)?SQVO7+(dOOQQ7+(l7+(lOOQQ7+)Z7+)ZO)?[QUO'#KjO)?fQUO'#KjOOQR,5=b,5=bO)?sQUO,5=bO!;bQUO,5=bO!;bQUO,5=bO!;bQUO,5=bOOQR7+(g7+(gOOQR7+(u7+(uOOQR7+(y7+(yOOQR,5=w,5=wO)?xQUO,5=zO)AOQUO,5=yOOQR,5Au,5AuOOQR-E=i-E=iOOQQ1G3b1G3bO)BUQUO,5=xO)BZQVO'#EfOOQQ1G6b1G6bO%)WQUO1G6bO%)]QUO1G6bOOQQ1G0P1G0POOQQ-E=Q-E=QO)DrQUO,5AVO(%iQUO'#JTO)D}QUO,5AVO)D}QUO,5AVO)EVQUO,5:iO8zQUO,5:iOOQQ,5>],5>]O)EaQUO,5AqO)EhQUO'#EVO)FrQUO'#EVO)G]QUO,5:iO)GgQUO'#HlO)GgQUO'#HmOOQQ'#Ko'#KoO)HUQUO'#KoO!(zQVO'#HnOOQQ,5:i,5:iO)HvQUO,5:iO!M_QVO,5:iOOQQ-E=S-E=SOOQQ1G0S1G0SOOQQ,5>`,5>`O)H{QUO1G6bO!(zQVO,5>gO)LjQUO'#JrO)LuQUO,5AxOOQQ1G4Q1G4QO)L}QUO,5AwOOQQ,5Aw,5AwOOQQ7+)i7+)iO*!lQUO7+)iOOQQ7+)o7+)oO*'kQVO1G7hO*)mQUO7+*SO*)rQUO,5?TO**xQUO7+*[POOO7+$S7+$SP*,kQUO'#LfP*,sQUO,5BPP*,x{,UO7+$SPOOO1G7i1G7iO*,}QUO<<GvOOQQ1G.x1G.xOOQQ'#IT'#ITO*.pQUO,5@`OOQQ,5@`,5@`OOQQ-E=r-E=rOOQQ7+(V7+(VOOQQ<<Ms<<MsO*/yQUO<<MsO*1|QUO<<MvO*3oQUO<<L_O*4TQUO,5?|OOQQ,5?|,5?|OOQQ-E=`-E=`OOQQ1G1b1G1bO*5^QUO,5;vO*6dQUO1G1aOOQQ1G1a1G1aOOQR,5@y,5@yO*7mQ!eO,5@yO*7tQMkO,5@yO*7{Q!eO,5@yOOQR-E=O-E=OOOQQ1G/f1G/fO*8SQ!eO'#DwOOQQ1G5X1G5XOOQR<<J]<<J]O*8ZQUO<<IjO*9OQUO7+$oOOQQ<<Iu<<IuO(7vQVO,5;ROOQR<=!c<=!cOOQQ1G3T1G3TOOQQ,5@U,5@UOOQQ-E=h-E=hOOQR<=!f<=!fO*9{QUO1G0cO*:SQUO'#EzO*:dQUO1G0cO*:kQUO'#I}O*<RQUO1G0qO!(zQVO1G0qOOQQ,5;[,5;[OOQQ,5;],5;]OOQQ,5?u,5?uOOQQ-E=X-E=XO!<[QUO1G0xO*=bQUO1G0xOOQQ1G0y1G0yO*=sQUO'#ElOOQQ1G0z1G0zOOQQ7+&j7+&jO*>XQUO7+&jO*?_QVO7+&jOOQQ7+&h7+&hOOQQ,5@Z,5@ZOOQQ-E=m-E=mO*@ZQUO1G1TO*@eQUO1G1TO*AOQUO1G0fOOQQ1G0f1G0fO*BUQUO'#K{O*B^QUO1G1ROOQQ<<It<<ItOOQQ'#Hb'#HbO'+fQUO,5={OOQQ'#Hd'#HdO'+fQUO,5=}OOQQ-E=j-E=jPOQQ<<Ik<<IkPOQQ-E=k-E=kOOQQ<<Lq<<LqO*BcQUO'#LaO*CoQUO'#L`OOQQ,5@_,5@_OOQQ-E=q-E=qOOQR<<Km<<KmO$>uQUO<<KmO*C}QUO<<KmOOQR1G1Z1G1ZOOQQ7+'S7+'SO!M_QVO1G1tO*DSQUO1G1tOOQR7+'_7+'_OOQR<<Jw<<JwO!0tQVO<<JwOOQR<<KO<<KOO*D_QUO<<KSO*EeQVO<<KSOKkQUO<<KcO!M_QVO<<KcO*ElQUO<<KSO!0tQVO<<KSO*FuQUO<<KSO*FzQUO<<KcO*GVQUO<<KdOOQR<<Kd<<KdOOQR<<Kf<<KfO*G[QUO1G2bO)7VQUO1G2bO'CzQUO1G2bO*GmQUO1G2dO*HsQVO1G2dOOQQ1G2d1G2dO*H}QVO1G2dO*IUQUO,5@QOOQQ-E=d-E=dOOQQ1G2e1G2eO*IdQUO1G1|O*JmQVO1G1|O*JtQUO1G1|OOQQ1G5m1G5mOOQR<<Kz<<KzOOQR<<LO<<LOO*JyQVO<<LOO*KUQUO<<LOOOQR1G2|1G2|O*KZQUO1G2|O*KbQUO1G3eOOQR1G3d1G3dOOQQ7++|7++|O%)WQUO7++|O*KmQUO1G6qO*KmQUO1G6qO(%iQUO,5?oO*KuQUO,5?oOOQQ-E=R-E=RO*LQQUO1G0TOOQQ1G0T1G0TO*L[QUO1G0TO!M_QVO1G0TO*LaQUO1G0TOOQQ1G3w1G3wO*LkQUO,5:qO)EhQUO,5:qO*MXQUO,5:qO)EhQUO,5:qO$#uQUO,5:uO*MvQVO,5>VO)GgQUO'#JpO*NQQUO1G0TO*NcQVO1G0TOOQQ1G3u1G3uO*NjQUO,5>WO*NuQUO,5>XO+ dQUO,5>YO+!jQUO1G0TO%)]QUO7++|O+#pQUO1G4ROOQQ,5@^,5@^OOQQ-E=p-E=pOOQQ<<MT<<MTOOQQ<<Mn<<MnO+$yQUO1G4oP+&|QUO'#JvP+'UQUO,5BQPO{O1G7k1G7kPOOO<<Gn<<GnOOQQANC_ANC_OOQR1G6e1G6eO+'^Q!eO,5:cOOQQ,5:c,5:cO+'eQUO1G0mO+(qQUO7+&]O+*QQUO7+&dO+*cQUO,5;WOOQQ<<JU<<JUO+*qQUO7+&oOOQQ7+&Q7+&QO!4xQUO'#J^O++lQUO,5AgOOQQ7+&m7+&mOOQQ1G3g1G3gO++tQUO1G3iOOQQ,5>n,5>nO+/iQUOANAXOOQRANAXANAXO+/nQUO7+'`OOQRAN@cAN@cO+0zQVOAN@nO+1RQUOAN@nO!0tQVOAN@nO+2[QUOAN@nO+2aQUOAN@}O+2lQUOAN@}O+3rQUOAN@}OOQRAN@nAN@nO!M_QVOAN@}OOQRANAOANAOO+3wQUO7+'|O)7VQUO7+'|OOQQ7+(O7+(OO+4YQUO7+(OO+5`QVO7+(OO+5gQVO7+'hO+5nQUOANAjOOQR7+(h7+(hOOQR7+)P7+)PO+5sQUO7+)PO+5xQUO7+)POOQQ<= h<= hO+6QQUO7+,]O+6YQUO1G5ZOOQQ1G5Z1G5ZO+6eQUO7+%oOOQQ7+%o7+%oO+6vQUO7+%oO*NcQVO7+%oOOQQ7+)a7+)aO+6{QUO7+%oO+8RQUO7+%oO!M_QVO7+%oO+8]QUO1G0]O*LkQUO1G0]O)EhQUO1G0]OOQQ1G0a1G0aO+8zQUO1G3qO+:QQVO1G3qOOQQ1G3q1G3qO+:[QVO1G3qO+:cQUO,5@[OOQQ-E=n-E=nOOQQ1G3r1G3rO%)WQUO<= hOOQQ7+*Z7+*ZPOQQ,5@b,5@bPOQQ-E=t-E=tOOQQ1G/}1G/}OOQQ,5?x,5?xOOQQ-E=[-E=[OOQRG26sG26sO+:zQUOG26YO!0tQVOG26YO+<TQUOG26YOOQRG26YG26YO!M_QVOG26iO!0tQVOG26iO+<YQUOG26iO+=`QUOG26iO+=eQUO<<KhOOQQ<<Kj<<KjOOQRG27UG27UOOQR<<Lk<<LkO+=vQUO<<LkOOQQ7+*u7+*uOOQQ<<IZ<<IZO+={QUO<<IZO!M_QVO<<IZO+>QQUO<<IZO+?WQUO<<IZO*NcQVO<<IZOOQQ<<L{<<L{O+?iQUO7+%wO*LkQUO7+%wOOQQ7+)]7+)]O+@WQUO7+)]O+A^QVO7+)]OOQQANESANESO!0tQVOLD+tOOQRLD+tLD+tO+AeQUOLD,TO+BkQUOLD,TOOQRLD,TLD,TO!0tQVOLD,TOOQRANBVANBVOOQQAN>uAN>uO+BpQUOAN>uO+CvQUOAN>uO!M_QVOAN>uO+C{QUO<<IcOOQQ<<Lw<<LwOOQR!$( `!$( `O!0tQVO!$( oOOQR!$( o!$( oOOQQG24aG24aO+DjQUOG24aO+EpQUOG24aOOQR!)9EZ!)9EZOOQQLD){LD){O+EuQUO'#CgO(dQUO'#CgO+IrQUO'#CyO+LcQUO'#CyO!E{QUO'#CyO+M[QUO'#CyO+MoQUO'#CyO,#bQUO'#CyO,#rQUO'#CyO,$PQUO'#CyO,$[QbO,59cO,$gQbO,59cO,$rQbO,59cO,$}QbO'#CwO,%`QbO'#CwO,%qQbO'#CwO,&SQUO'#CgO,(gQUO'#CgO,(tQUO'#CgO,+iQUO'#CgO,.lQUO'#CgO,.|QUO'#CgO,2uQUO'#CgO,2|QUO'#CgO,3|QUO'#CgO,6VQUO,5:xO#?kQUO,5:xO#?kQUO,5:xO#=ZQUO'#L[O,6sQbO'#CwO,7OQbO'#CwO,7ZQbO'#CwO,7fQbO'#CwO#6tQUO'#E^O,7qQUO'#E^O,9OQUO'#HgO,9pQbO'#CwO,9{QbO'#CwO,:WQUO'#CvO,:]QUO'#CvO,:bQUO'#CoO,:pQbO,59cO,:{QbO,59cO,;WQbO,59cO,;cQbO,59cO,;nQbO,59cO,;yQbO,59cO,<UQbO,59cO,6VQUO1G0dO,<aQUO1G0dO#?kQUO1G0dO,7qQUO1G0dO,>nQUO'#KZO,?OQUO'#CyO,?^QbO,59cO,6VQUO7+&OO,<aQUO7+&OO,?iQUO'#EwO,@[QUO'#EzO,@{QUO'#E^O,AQQUO'#GcO,AVQUO'#CvO,A[QUO'#CwO,AaQUO'#CwO,AfQUO'#CvO,AkQUO'#GcO,ApQUO'#KZO,B^QUO'#KZO,BhQUO'#CvO,BsQUO'#CvO,COQUO'#CvO,<aQUO,5:xO,7qQUO,5:xO,7qQUO,5:xO,CZQUO'#KZO,CnQbO'#CwO,CyQUO'#CrO,DOQUO'#E^",stateData:",Dt~O(nOSSOSTOSRPQVPQ'ePQ'gPQ'hPQ'iPQ'jPQ'kPQ'lPQ'mPQ~O*ZOS~OPmO]eOa!]Od!POlTOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!TxO!VfO!X!XO!Y!WO!i!YO!opO!r!`O!s!aO!t!aO!u!bO!v!aO!x!cO!{!dO#V#QO#a#VO#b#TO#i#OO#p!xO#t!fO#v!eO$R!gO$T!hO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO${!tO$}!uO%U!yO%_#ZO%`#[O%a#YO%c!zO%e#UO%g!{O%l#SO%o!|O%v!}O%|#PO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(rRO)PYO)SaO)U|O)V{O)WiO)X!ZO)YXO)hcO)idO~OR#bOV#]O'e#^O'g#_O'h#`O'i#`O'j#aO'k#aO'l#_O'm#_O~OX#dO(p#dO(q#fO~O]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!TiX!VZX!ViX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX(uZX(v$]X(wZX(xZX)SZX)SiX)TZX)UZX)UiX)VZX)ViX)WZX)XZX)jZX~O)WiX!UZX~P(dO]#}O!V#lO!X#{O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO(w#kO(x#kO)S#mO)T#oO)U#nO)V#pO)W#jO)X#|O~Od$RO%Y$SO'[$TO'_$UO(y$OO~Ol$VO~O!T$WO](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X~Ol$VO~P.ZOl$VO!g$YO)j$YO~OX$ZO)Z$ZO~O!R$[O)X)QP)])QP~OPmO]$eOa!]Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!TxO!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~Ol$_O#t$lO(rRO~P0zO](]Xa'yXd(]Xl'yXl(]Xr'yXr(]Xs'yXs(]Xt'yXt(]Xu'yXu(]Xv'yXv(]Xw'yXw(]Xx'yXx(]Xy'yXy(]X{'yX}'yX!V(]X!o(]X!r'yX!r(]X!s'yX!s(]X!t'yX!t(]X!u'yX!u(]X!v'yX!v(]X!x'yX!x(]X!{(]X#a'yX#b'yX%e'yX%l'yX%o(]X%v(]X&m'yX&r'yX&s'yX(r'yX(r(]X)S(]X)U(]X)V(]X~Oa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO&r#WO&s$wO])aXd)aXl)aX!V)aX!{)aX%v)aX(r)aX)S)aX)U)aX)V)aX~O)W$vO~P:nOPmO]eOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)SaO)U|O)V{O)X!ZO)YXO)hcO)idO~Oa%QOl:zO!|%RO(r$xO~P<lO)S%SO~Oa!]Ol$_O{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r:}O~P<lOPmO]$eOa%QOl:zO!V$fO!W%_O!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V%]O)X!ZO)YXO)hcO)idO)j%[O~O]%hOd!POl%bO!V%kO!{!dO%v$mO(r;OO)S%dO)U%iO)V%iO~O(v%mO~O)W#jO~O(r%nO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!g(tX)j(tX!O(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OP%oO(oQO~PCQO]%hOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO%o!|O%v!}O)S;`O)U|O)V|O~Ol%rO!o%wO(r$xO~PE_O!TxO#v!eO(v%yO)j%|O])eX!V)eX~O]%hOd!POl%rO!V%kO!{!dO%v!}O(r$xO)S;`O)U|O)V|O~O!TxO#v!eO)W&PO)j&QO~O!U&TO~P!QO]&YO!TxO!V&WO)S&VO)U&ZO)V&ZO~Op&UO~PHrO]&cO!V&bO~OPmO]eOd!PO!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)SaO)U|O)V{O)X!ZO)YXO)hcO)idO~Oa%QOl:zO%v$mO(r$xO~PIgO]%hOd!POl;[O!V%kO!{!dO%v$mO(r$xO)S;`O)U|O)V|O~Op&fO](tX])eX!V(tX!V)eX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!O(tX!O)eX!U(tX~O!g$YO)j$YO~PL]O!g(tX)j(tX~PL]O](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!g(tX)j(tX!O(tX!U(tX~O])eX!V)eX!O)eX~PNkOa&hO&m!RO]&lXd&lXl&lXr&lXs&lXt&lXu&lXv&lXw&lXx&lXy&lX}&lX!V&lX!r&lX!s&lX!t&lX!u&lX!v&lX!x&lX!{&lX%v&lX&r&lX&s&lX(r&lX)S&lX)U&lX)V&lX)W&lX!O&lX!T&lX!X&lX!Y&lX![&lX!^&lX!_&lX!a&lX!b&lX!c&lX!e&lX!f&lX!h&lX(u&lX(w&lX(x&lX)T&lX)X&lX!g&lX)j&lX!W&lXQ&lX!d&lX(v&lX!U&lX#v&lX~Op&fOl(}X!O(}XQ(}X!d(}X!h(}X)X(}X)j(}X~P.ZO!g$YO)j$YO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)W(tX)X(tX!O(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O](}Xd(}Xl(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X!O(}XQ(}X!d(}X!h(}X)X(}X)j(}X~O]#}O~P!*qO]&lO~O])bXa)bXd)bXl)bXr)bXs)bXt)bXu)bXv)bXw)bXx)bXy)bX{)bX})bX!V)bX!o)bX!r)bX!s)bX!t)bX!u)bX!v)bX!x)bX!{)bX#a)bX#b)bX%e)bX%l)bX%o)bX%v)bX&m)bX&r)bX&s)bX(r)bX)S)bX)U)bX)V)bX~O(oQO~P!-ZO%U&nO~P!-ZO]&oO~O]#}O~O!TxO~O$W&wO(r%nO(v&vO~O]&xOw&zO~O]&xO~OPmO]$eOa%QOl:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#p!xO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:mO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O]'PO~O!T$WO)W'RO~P!(zO)W'TO~O)W'UO~O(r'VO~O)W'YO~P!(zOl;^O%U'^O%e'^O(r;PO~Oa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O(v'bO~O)W'dO~P!(zO!TxO(r%nO)j'fO~O(r%nO~O]'iO~O]'jOd%nXl%nX!V%nX!{%nX%v%nX(r%nX)S%nX)U%nX)V%nX~O]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~P8zO]%hOa!TOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO)S;`O)U|O)V|O~Ol;_Op&UO%v$mO(r;QO~P!8jO(r%nO(v'vO)W'wO~O]&cO!T'yO~Ol$oO}!_O!T(QO!l(VO(r$nO(v(PO)PYO~Ol$oO{(^O!T(ZO#b(^O(r$nO~Oa!TOl$oO{#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O](`O~OPmOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)YXO)hcO)idO~O](bO)X(cO~P!=UO]#}O~P!<[OPmO]$eOa%QOl:zO!V(iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~OY(jO(oQO(r%nO~O'f(mO~OS(qOT(nO*W(pO~O]#}O(n(tO~Q'nXX#dO(p#dO(q(vO~Od)QOl({O&r#WO(r(zO~O!Y'Sa!['Sa!^'Sa!_'Sa!a'Sa!b'Sa!c'Sa!e'Sa!f'Sa!h'Sa(u'Sa)S'Sa)T'Sa)U'Sa)V'Sa)W'Sa)X'Sa!g'Sa)j'Sa!O'Sa!W'Sa(v'Sa!U'SaQ'Sa!d'Sa~OPmOa%QOl:zO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)YXO)hcO)idO]'Sa!V'Sa!X'Sa(w'Sa(x'Sa~P!B_O!T$WO!O(sP~P!(zO]nX]%WXdnXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!TnX!VnX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gmX!h%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX(u%WX(w%WX(x%WX)SnX)S%WX)T%WX)UnX)U%WX)VnX)V%WX)W%WX)X%WX)jmX!O%WX~O)WnX!OnX!U%WX~P!E{O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~P8zOPmO]$eOa%QOl:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O!V)lO~P!JwOd)oO%Y)pO(y$OO~O!T$WO!V)rO(w)sO!U)rP~P!JwO!T$WO~P!(zO)[)zO~Ol){O]!QX!h!QX)X!QX)]!QX~O])}O!h*OO)X)QX)])QX~O)X*SO)]*RO~Od$RO%Y*TO'[$TO'_$UO(y$OO~Ol*UO~Ol*UO!O(}X~P.ZOl*UO!g$YO)j$YO~O)W*VO~P:nOPmO]$eOa!]Ol$_Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)X!ZO)YXO)hcO)idO~Op&fO~P!&zOp&fO!W(tX(v(tXQ(tX!d(tX~PNkO]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~O]iXdiXlgXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX!TiX!hiX)XiX)jiX!OiX~O!liX(viX)WiX!XiX!YiX![iX!^iX!_iX!aiX!biX!ciX!eiX!fiX(uiX(wiX(xiX)TiX!giX!WiXQiX!diX!UiX#viX#TiX#ViX#piXaiX{iX!oiX#aiX#biX#iiX#tiX${iX%ciX%eiX%kiX%liX%oiX&miX)PiX~P#%yO(y*ZO~Ol*[O~O](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)W(}X!T(}X!X(}X!Y(}X![(}X!^(}X!_(}X!a(}X!b(}X!c(}X!e(}X!f(}X!h(}X(u(}X(w(}X(x(}X)T(}X)X(}X!g(}X)j(}X!O(}X!W(}XQ(}X!d(}X(v(}X!U(}X#v(}X~Ol*[O~P#+ROr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO])aad)aal)aa!V)aa!{)aa%v)aa(r)aa)S)aa)U)aa)V)aaQ)aa!d)aa!h)aa)X)aa)j)aa!O)aa!T)aa(v)aa)W)aa~O&r#WO&s$wO~P#.qOp&fOl(}X~P#+RO&r)aa~P#.qO]ZXlgXpZXpiX!TiX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(wZX(xZX)SZX)TZX)UZX)VZX)WZX)XZX)jZX!OZX~O!WZX(vZX!UZXQZX!dZX~P#1jO]#}O!V#lO!X#{O(w#kO(x#kO~O!Y&xa![&xa!^&xa!_&xa!a&xa!b&xa!c&xa!e&xa!f&xa!g&xa!h&xa(u&xa)S&xa)T&xa)U&xa)V&xa)W&xa)X&xa)j&xa!O&xa!W&xa(v&xa!U&xaQ&xa!d&xa~P#3zOl;hO!T$WO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~PKkOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!|%RO~PKkO]&cO!V&bO!O#Qa!T#Qa!h#Qa#v#Qa)W#Qa)j#QaQ#Qa!d#Qa(v#Qa~Op&fO!T$WO~O!O*cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O*cO~O]&cO!O*eO!V&bO~O]&YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V&WO&r#WO&s$wO)S&VO)U&ZO)V&ZO~O!OqXQqX!dqX!hqX)XqX)WqX~P#9{O!O*hO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!W)kX~P#3zO!W*kO!h*lO~O!W*kO!h*lO~P!(zO!W*kO~Op&fO!g$YO!h*mO)j$YO](tX!V(tX!W(tX!W*OX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX(u(tX(w(tX(x(tX)S(tX)T(tX)U(tX)V(tX)X(tX~O!h(tX~P#=ZO!W*oO~Od$RO%Y*TO(y:rO~Ol;kO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!|%RO~PBUO]*vO!T*qO!V&bO!h*tO#v!eO)j*rO)W)qX~O!h*tO)W)qX~O)W*wO~Op&fO])eX!T)eX!V)eX!h)eX#v)eX)W)eX)j)eX!O)eXQ)eX!d)eX(v)eX~Op&fO~OP%oO(oQO]%ha!V%ha!X%ha!Y%ha![%ha!^%ha!_%ha!a%ha!b%ha!c%ha!e%ha!f%ha!h%ha(r%ha(u%ha(w%ha(x%ha)S%ha)T%ha)U%ha)V%ha)W%ha)X%ha!g%ha)j%ha!O%ha!W%ha(v%ha!U%haQ%ha!d%ha~Od$RO%Y$SO(y:oO~Ol:wO~O!TxO#v!eO)j%|O~Ol<[O&r#WO(r;gO~O$Z+TO%`+UO~O!TxO#v!eO)W+VO)j+WO~OPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO$Z+TO%_#ZO%`+YO%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O!U+ZO~P!QOa!TOl$oOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a+aO#b+bO#i+cO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO)PYO~OQ)lP!d)lP~P#GgO]&YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V&WO)S&VO)U&ZO)V&ZO~O!O#kX!T#kX#v#kX)W#kX)j#kXQ#kX!d#kX!h#kX)X#kX!x#kX(v#kX~P#IkOPmO]$eOa%QOl:zOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V$fO!W+iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S+jO)V$kO)X!ZO)YXO)hcO)idO~O]&cO!V+kO~O]&YO!V&WO)PYO)S&VO)U&ZO)V&ZO)X+nO!O)dP~P8zO]&YO!V&WO)S&VO)U&ZO)V&ZO~O!O#nX!T#nX#v#nX)W#nX)j#nXQ#nX!d#nX!h#nX)X#nX!x#nX(v#nX~P#NeO!TxO])nX!V)nX~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O#T+vO#p+wO(x+tO)U+rO)V+rO~O]#jX!T#jX!V#jX!O#jX#v#jX)W#jX)j#jXQ#jX!d#jX!h#jX)X#jX!x#jX(v#jX~P$ xO#V+yO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!l+zO#T+vO#V+yO#p+wO(x+tO)U+zO)V+zO])fP!T)fP!V)fP#v)fP(v)fP)j)fP!O)fP!h)fP)W)fP~O!x)fPQ)fP!d)fP~P$#uOPmO]$eOa%QOl:zOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)V$kO)X!ZO)YXO)hcO)idO~O!W,QO)S,RO~P$%pO)PYO)X+nO!O)dP~P8zO]&cO!V&bO!O&Za!T&Za!h&Za#v&Za)W&Za)j&ZaQ&Za!d&Za(v&Za~OPmO]$eOa!]Ol:|Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;RO)S$kO)V$kO)X!ZO)YXO)hcO)idO~OQ(zP!d(zP~P$)YO]#}O!V#lO(w#kO(x#kO!X'Pa!Y'Pa!['Pa!^'Pa!_'Pa!a'Pa!b'Pa!c'Pa!e'Pa!f'Pa!h'Pa(u'Pa)S'Pa)T'Pa)U'Pa)V'Pa)W'Pa)X'Pa!g'Pa)j'Pa!O'Pa!W'Pa(v'Pa!U'PaQ'Pa!d'Pa~O]#}O!V#lO!X#{O(w#kO(x#kO~P!B_O!TxO#t!fO)PYO~P8zO!TxO(r%nO)j,[O~O#x,aO~OQ)aX!d)aX!h)aX)X)aX)j)aX!O)aX!T)aX(v)aX)W)aX~P:nO(v,eO(w,cO)P$UX)W$UX~O(r,fO~O)PYO)W,iO~OPmO]$eOa!]Ol:{Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O(r;SO~P$0kOPmO]$eOa%QOl:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:mO)PYO)S$kO)V$kO)WiO)X!ZO)YXO)hcO)idO~O$h,sO~OPmO]$eOa!]Ol:{Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO$}!uO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)S$kO)V$kO)X!ZO)YXO)hcO)idO~O${,yO(r:}O)W,wO~P$7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W,{O)X#|O~P#3zO)W,{O~O)W,|O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W,}O)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W-OO)X#|O~P#3zOp&fO)PYO)j-QO~O)W-RO~Ol;^O(r;PO~O]-YO!{!dO&r#WO&s$wO(r-UO)S-VO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v-]O)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xa!o$Xa!{$Xa#i$Xa#p$Xa#t$Xa#v$Xa$R$Xa$T$Xa$Y$Xa$Z$Xa${$Xa%U$Xa%c$Xa%g$Xa%o$Xa%|$Xa(k$Xa)U$Xa!U$Xa$c$Xa~P$0kO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W-cO)X#|O~P#3zOl-eO!TxO)j,[O~O)j-gO~O]&]a!X&]a!Y&]a![&]a!^&]a!_&]a!a&]a!b&]a!c&]a!e&]a!f&]a!h&]a(u&]a(w&]a(x&]a)T&]a)U&]a)V&]a)W&]a)X&]a!g&]a)j&]a!O&]a!W&]a!T&]a#v&]a(v&]a!U&]aQ&]a!d&]a~O)S-kO!V&]a~P$DbO!O-kO~O!W-kO~O!V-lO)S&]a~P$DbO](}Xd(}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X~Ol;mO~P$GQO]&cO!V&bO)W-mO~Ol;cO!o-pO#V+yO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)PYO~P!8jO!n-yO(r,fO~O)PYO)W-{O~OPmO]$eOa%QOl:zO!T.QO!V$fO!X!XO!Y!WO!i!YO#V.XO#a.WO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO(x.PO)S$kO)V$kO)W-}O)X!ZO)YXO)hcO)idO~O!U.VO~P$JbO])^Xd)^Xr)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^X})^X!T)^X!V)^X!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)S)^X)U)^X)V)^X)W)^X!O)^X!h)^X)X)^X!X)^X!Y)^X![)^X!^)^X!_)^X!a)^X!b)^X!c)^X!e)^X!f)^X(u)^X(w)^X(x)^X)T)^X!g)^X)j)^X!W)^XQ)^X!d)^X#T)^X#V)^X#p)^X#v)^Xa)^X{)^X!o)^X#a)^X#b)^X#i)^X#t)^X${)^X%c)^X%e)^X%k)^X%l)^X%o)^X&m)^X)P)^X!U)^X~Ol*[O~P$LlOl$oO!T(QO!l.^O(r$nO(v(PO)PYO~Op&fOl)^X~P$LlOl$oO!n.cO!o.cO(r$nO)PYO~Ol;dO!U.nO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)PYO~P!8jO!T(QO!l.^O(v(PO])OXd)OXl)OXr)OXs)OXt)OXu)OXv)OXw)OXx)OXy)OX})OX!V)OX!r)OX!s)OX!t)OX!u)OX!v)OX!x)OX!{)OX%v)OX&r)OX&s)OX(r)OX)S)OX)U)OX)V)OX~O)W)OX!O)OX!X)OX!Y)OX![)OX!^)OX!_)OX!a)OX!b)OX!c)OX!e)OX!f)OX!h)OX(u)OX(w)OX(x)OX)T)OX)X)OX!g)OX)j)OX!W)OXQ)OX!d)OX!U)OX#v)OX~P%%eO!T(QO~O!T(QO(v(PO~O(r%nO!U*QP~O!T(ZO(v.uO]&kad&kal&kar&kas&kat&kau&kav&kaw&kax&kay&ka}&ka!V&ka!r&ka!s&ka!t&ka!u&ka!v&ka!x&ka!{&ka%v&ka&r&ka&s&ka(r&ka)S&ka)U&ka)V&ka)W&ka!O&ka!X&ka!Y&ka![&ka!^&ka!_&ka!a&ka!b&ka!c&ka!e&ka!f&ka!h&ka(u&ka(w&ka(x&ka)T&ka)X&ka!g&ka)j&ka!W&kaQ&ka!d&ka!U&ka#v&ka~Ol$oO!T(ZO(r$nO~O&r#WO&s$wO]&pad&pal&par&pas&pat&pau&pav&paw&pax&pay&pa}&pa!V&pa!r&pa!s&pa!t&pa!u&pa!v&pa!x&pa!{&pa%v&pa(r&pa)S&pa)U&pa)V&pa)W&pa!O&pa!T&pa!X&pa!Y&pa![&pa!^&pa!_&pa!a&pa!b&pa!c&pa!e&pa!f&pa!h&pa(u&pa(w&pa(x&pa)T&pa)X&pa!g&pa)j&pa!W&paQ&pa!d&pa(v&pa!U&pa#v&pa~O&s.zO~P!(zO!Y#qO![#rO!f#zO)S#mO!^'Ua!_'Ua!a'Ua!b'Ua!c'Ua!e'Ua!h'Ua(u'Ua)T'Ua)U'Ua)V'Ua)W'Ua)X'Ua!g'Ua)j'Ua!O'Ua!W'Ua(v'Ua!U'UaQ'Ua!d'Ua~P#3zO!V'dX!X'dX!Y'dX!['dX!^'dX!_'dX!a'dX!b'dX!c'dX!e'dX!f'dX!h'dX(u'dX(w'dX(x'dX)S'dX)T'dX)U'dX)V'dX)X'dX!O'dX~O].|O)W'dX!g'dX)j'dX!W'dX(v'dX!U'dXQ'dX!d'dX~P%2xO!Y#qO![#rO!f#zO)S#mO!^'Wa!_'Wa!a'Wa!b'Wa!c'Wa!e'Wa!h'Wa(u'Wa)T'Wa)U'Wa)V'Wa)W'Wa)X'Wa!g'Wa)j'Wa!O'Wa!W'Wa(v'Wa!U'WaQ'Wa!d'Wa~P#3zO]#}O!T$WO!V.}O&r#WO&s$wO~O!X'Za!Y'Za!['Za!^'Za!_'Za!a'Za!b'Za!c'Za!e'Za!f'Za!h'Za(u'Za(w'Za(x'Za)S'Za)T'Za)U'Za)V'Za)W'Za)X'Za!g'Za)j'Za!O'Za!W'Za(v'Za!U'ZaQ'Za!d'Za~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^a)W'^a!g'^a)j'^a!O'^a!W'^a(v'^a!U'^aQ'^a!d'^a~P#3zOPmO]$eOa%QOl:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)S$kO)V%]O)X!ZO)YXO)hcO)idO)j%[O~O!W/QO~P%:oOS(qOT(nO]#}O*W(pO~O]/TO'f/UO*W/RO~OS/YOT(nO*W/XO~O]#}O~Q'na!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v/[O)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W#Zi!O#Zi~P#3zO]cXlgXpcXpiX!VcX!XcX!YcX![cX!^cX!_cX!acX!bcX!ccX!ecX!fcX!gcX!hcX(ucX(wcX(xcX)ScX)TcX)UcX)VcX)WcX)XcX)jcX!OcX!WcX(vcX!TcX#vcX!UcXQcX!dcX~Od/^O%Y*TO(y/]O~Ol/_O~Ol/`O~Op&fO]bi!Vbi!Xbi!Ybi![bi!^bi!_bi!abi!bbi!cbi!ebi!fbi!gbi!hbi(ubi(wbi(xbi)Sbi)Tbi)Ubi)Vbi)Wbi)Xbi)jbi!Obi!Wbi(vbi!UbiQbi!dbi~O!W/bO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO![#rO)S#mO!Y&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y&zi![&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)S&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)U#nO)V#pO!h&zi(u&zi)T&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!^&zi!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)V#pO!^&zi!_&zi!h&zi(u&zi)T&zi)U&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO!^&zi!_&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!b#yO!c#yO!e#yO!f#zO)S#mO!^&zi!_&zi!a&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!f#zO)S#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO)S#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)T#oO)U#nO)V#pO!h&zi(u&zi)W&zi)X&zi!g&zi)j&zi!O&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/cO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O(sX~P#3zO!h/cO!O(sX~O!O/eO~O]%Xap%Xa!X%Xa!Y%Xa![%Xa!^%Xa!_%Xa!a%Xa!b%Xa!c%Xa!e%Xa!f%Xa!h%Xa(u%Xa(w%Xa(x%Xa)T%Xa)U%Xa)V%Xa)W%Xa)X%Xa!g%Xa)j%Xa!O%Xa!W%Xa!T%Xa#v%Xa(v%Xa!U%XaQ%Xa!d%Xa~O)S/fO!V%Xa~P&,aO!O/fO~O!W/fO~O!V/gO)S%Xa~P&,aO!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)S'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi!g'Zi)j'Zi!O'Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^i)W'^i!g'^i)j'^i!O'^i!W'^i(v'^i!U'^iQ'^i!d'^i~P#3zO!W/lO~P%:oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/nO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U)rX~P#3zO(r/qO~O!V/sO(w)sO)j/uO~O!h/nO!U)rX~O!U/vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)S#mO)T#oO)U#nO)V#pO)X#|O!h_i(u_i)W_i!g_i)j_i!O_i!W_i(v_i!U_iQ_i!d_i~P#3zO!R/wO~Ol){O]!Qa!h!Qa)X!Qa)]!Qa~OP0PO]0OOl0PO!R0PO!T/|O!V/}O!X0PO!Y0PO![0PO!^0PO!_0PO!a0PO!b0PO!c0PO!e0PO!f0PO!g0PO!h0PO!i0PO(oQO(v0PO(w0PO(x0PO)S/yO)T/zO)U/zO)V/{O)W0PO)X0PO)YXO~O!O0SO~P&6yO!R$[O~O!h*OO)X)Qa)])Qa~O)]0WO~O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~Od)oO%Y*TO(y$OO~O)W0YO~O]nXdnXlmXpnXrnXsnXtnXunXvnXwnXxnXynX}nX!VnX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX!TnX!hnX)XnX!OnXQnX!dnX~O!lnX(vnX)WnX!XnX!YnX![nX!^nX!_nX!anX!bnX!cnX!enX!fnX(unX(wnX(xnX)TnX!gnX)jnX!WnX!UnX#vnX#TnX#VnX#pnXanX{nX!onX#anX#bnX#inX#tnX${nX%cnX%enX%knX%lnX%onX&mnX)PnX~P&:uOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O}!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO~O])aid)ail)ai!V)ai!{)ai%v)ai(r)ai)S)ai)U)ai)V)aiQ)ai!d)ai!h)ai)X)ai)j)ai!O)ai!T)ai&r)ai(v)ai)W)ai~P&?sO]&cO!V&bO!O#Qi!T#Qi!h#Qi#v#Qi)W#Qi)j#QiQ#Qi!d#Qi(v#Qi~O!OqaQqa!dqa!hqa)Xqa)Wqa~P#9{O!OqaQqa!dqa!hqa)Xqa)Wqa~P#IkO]&cO!V+kO!OqaQqa!dqa!hqa)Xqa)Wqa~O!h*iO!W)ka~O!h*mO!W*Oa~OPmOa!]Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O{#RO}!_O!X!XO!Y!WO!i!YO!s!aO!t!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO)PYO)WiO)X!ZO)YXO)hcO)idO~O]eOd!POlTO!T*qO!U&TO!V0hO!opO!r!`O!u!bO!{!dO#i#OO#p!xO#t!fO$R!gO$T!hO${!tO$}!uO%U!yO%c!zO%g!{O%o!|O%v!}O%|#PO(rRO(w)sO)SaO)U|O)V{O~P&DuO!h*tO)W)qa~OPmO]$eOa!]Ol:|O{#RO!T$WO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;UO)PYO)S$kO)V$kO)X0nO)YXO)hcO)idO!O(sP!O)dP~P&?sO!h*mO!W*OX~O]#}O!T$WO~O!h0sO!T)zX#v)zX)j)zX~O)W0uO~O)W0vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W0xO)X#|O~P#3zO)W0vO~P!?WO]1SOd!POl%bO!V1QO!{!dO%v$mO(r$xO)S0zO)X0}O~O)U1OO)V1OO)j0{OQ#PX!d#PX!h#PX!O#PX~P' dO!h1TOQ)lX!d)lX~OQ1VO!d1VO~O)X1YO)j1XOQ#`X!d#`X!h#`X~P!<[O)X1YO)j1XOQ#`X!d#`X!h#`X~P!;bOp&UO~O!O#ka!T#ka#v#ka)W#ka)j#kaQ#ka!d#ka!h#ka)X#ka!x#ka(v#ka~P#IkO]&cO!V+kO!O#ka!T#ka#v#ka)W#ka)j#kaQ#ka!d#ka!h#ka)X#ka!x#ka(v#ka~O!W1_O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W1_O)S1aO~P$%pO!W1_O~P!(zO]#ja!T#ja!V#ja!O#ja#v#ja)W#ja)j#jaQ#ja!d#ja!h#ja)X#ja!x#ja(v#ja~P$ xO]&cO!O1eO!V+kO~O!h1fO!O)dX~O!O1hO~O]&cO!V+kO!O#na!T#na#v#na)W#na)j#naQ#na!d#na!h#na)X#na!x#na(v#na~O]1lOr#SXs#SXt#SXu#SXv#SXw#SXx#SXy#SX!T#SX!V#SX#T#SX#p#SX(x#SX)U#SX)V#SX!l#SX!x#SX#V#SX#v#SX(v#SX)j#SX!O#SX!h#SX)W#SXQ#SX!d#SX)X#SX~O]1mO~O]1pOl$oO!V$fO#V#QO(r$nO)hcO)idO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!l+zO#T+vO#V+yO#p+wO(x+tO)U+zO)V+zO~O])fX!T)fX!V)fX!x)fX#v)fX(v)fX)j)fX!O)fX!h)fX)W)fXQ)fX!d)fX~P'+}O!x!cO]#Ri!T#Ri!V#Ri#v#Ri(v#Ri)j#Ri!O#Ri!h#Ri)W#RiQ#Ri!d#Ri~O!W1xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W1xO)S1zO~P$%pO!W1xO~P!(zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ*RX!d*RX!h*RX~P#3zO)X1{OQ({X!d({X!h({X~O!h1|OQ(zX!d(zX~OQ2OO!d2OO~O!O2PO~O#t$lO)PYO~P8zOl-eO!TxO)j2TO~O!O2UO~O#x,aOP#ui]#uia#uid#uil#uir#uis#uit#uiu#uiv#uiw#uix#uiy#ui{#ui}#ui!T#ui!V#ui!X#ui!Y#ui!i#ui!o#ui!r#ui!s#ui!t#ui!u#ui!v#ui!x#ui!{#ui#V#ui#a#ui#b#ui#i#ui#p#ui#t#ui#v#ui$R#ui$T#ui$Y#ui$Z#ui$`#ui$e#ui$g#ui$h#ui$k#ui$m#ui$o#ui$q#ui$s#ui$u#ui$w#ui${#ui$}#ui%U#ui%_#ui%`#ui%a#ui%c#ui%e#ui%g#ui%l#ui%o#ui%v#ui%|#ui&m#ui&r#ui&s#ui'Q#ui'R#ui'V#ui'Y#ui'a#ui'b#ui(k#ui(o#ui(r#ui)P#ui)S#ui)U#ui)V#ui)W#ui)X#ui)Y#ui)h#ui)i#ui!U#ui$c#ui!n#ui%k#ui~O]&cO~O]&cO!TxO!V&bO#v!eO~O(v2ZO(w,cO)P$Ua)W$Ua~O)PYO)W2]O~O!O2^O~P,]O!O2^O)W#jO~O!O2^O~O$c2cOP$_i]$_ia$_id$_il$_ir$_is$_it$_iu$_iv$_iw$_ix$_iy$_i{$_i}$_i!T$_i!V$_i!X$_i!Y$_i!i$_i!o$_i!r$_i!s$_i!t$_i!u$_i!v$_i!x$_i!{$_i#V$_i#a$_i#b$_i#i$_i#p$_i#t$_i#v$_i$R$_i$T$_i$Y$_i$Z$_i$`$_i$e$_i$g$_i$h$_i$k$_i$m$_i$o$_i$q$_i$s$_i$u$_i$w$_i${$_i$}$_i%U$_i%_$_i%`$_i%a$_i%c$_i%e$_i%g$_i%l$_i%o$_i%v$_i%|$_i&m$_i&r$_i&s$_i'Q$_i'R$_i'V$_i'Y$_i'a$_i'b$_i(k$_i(o$_i(r$_i)P$_i)S$_i)U$_i)V$_i)W$_i)X$_i)Y$_i)h$_i)i$_i!U$_i~O]1pO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W2fO)X#|O~P#3zOPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)W2iO)X!ZO)YXO)hcO)idO~P&?sO)W2fO~O(r-UO~O)PYO)j2lO~O)W2nO~O]-YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO!|%RO(r-UO)S-VO~O)S2sO~O]&cO!V2uO!h2vO)W)uX~O]-YO!{!dO(r-UO)S-VO~O)W2yO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xi!o$Xi!{$Xi#i$Xi#p$Xi#t$Xi#v$Xi$R$Xi$T$Xi$Y$Xi$Z$Xi${$Xi%U$Xi%c$Xi%g$Xi%o$Xi%|$Xi(k$Xi)U$Xi!U$Xi$c$Xi~P$0kOl:{O(r:nO~P0zO]2}O~O)W2SO~O!u3PO(r%nO~O!O3SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h3TO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O3UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO]&cO!V+kO!T%ui#v%ui)W%ui)j%ui~O!W3VO~Ol:yO)W(}X~P$GQOa!TOl$oO{3]O#a#VO#b3[O#t!fO%e#UO%l3^O&m!RO&r#WO&s!TO(r$nO)PYO~P&?sOl;cO!o-pO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)PYO~P!8jO]&cO!V&bO)W3`O~O)W3aO~O)PYO)W3aO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W3bO)X#|O~P#3zO)W3bO~O)W3eO~O!U3gO~P$JbOl$oO(r$nO~O]3iO!T'yO~P'+iO!T(QO!l3lO(v(PO])Oad)Oal)Oar)Oas)Oat)Oau)Oav)Oaw)Oax)Oay)Oa})Oa!V)Oa!r)Oa!s)Oa!t)Oa!u)Oa!v)Oa!x)Oa!{)Oa%v)Oa&r)Oa&s)Oa(r)Oa)S)Oa)U)Oa)V)Oa)W)Oa!O)Oa!X)Oa!Y)Oa![)Oa!^)Oa!_)Oa!a)Oa!b)Oa!c)Oa!e)Oa!f)Oa!h)Oa(u)Oa(w)Oa(x)Oa)T)Oa)X)Oa!g)Oa)j)Oa!W)OaQ)Oa!d)Oa!U)Oa#v)Oa~Ol$oO!n.cO!o.cO(r$nO~O!h3pO)X3rO!T)_X~O!o3tO)PYO~P8zO)W3uO~PGVO]3zOl({O!T$WO!{!dO%v$mO&r#WO(r(zO(v4OO)S3wO)U3{O)V3{O~O)W4PO)j4RO~P(&eOl;dO!U4TO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)PYO~P!8jOl;dO%v!}O(r;VO~P!8jO(v4UO~Ol$oO!T(QO(r$nO(v(PO)PYO~O!l3lO~P((sO)j4WO!U&oX!h&oX~O!h4XO!U*QX~O!U4ZO~Oa4]Ol$oO&m!RO(r$nO~O!T(ZO]&kid&kil&kir&kis&kit&kiu&kiv&kiw&kix&kiy&ki}&ki!V&ki!r&ki!s&ki!t&ki!u&ki!v&ki!x&ki!{&ki%v&ki&r&ki&s&ki(r&ki)S&ki)U&ki)V&ki)W&ki!O&ki!X&ki!Y&ki![&ki!^&ki!_&ki!a&ki!b&ki!c&ki!e&ki!f&ki!h&ki(u&ki(w&ki(x&ki)T&ki)X&ki!g&ki)j&ki!W&kiQ&ki!d&ki!U&ki#v&ki~O(v&ki~P(*TO(v.uO~P(*TO!O4`O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O4`O~O!O4aO~O]#}O!T$WO!V'Zi!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)S'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi!g'Zi)j'Zi!O'Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~OPmOa%QOl:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)X!ZO)YXO)hcO)idO]#]ap#]a!T#]a!V#]a)S#]a)U#]a)V#]a~O(r%nO)X4fO!O*YP~O*W4eO~O'f4hO*W4eO~O*W4iO~OlmXpnXp&wX~Od4kO%Y*TO(y/]O~Od4kO%Y*TO(y4lO~O!h/cO!O(sa~O!W4pO~O]&cO!V+kO!T%uq#v%uq)W%uq)j%uq~O]#}O!T$WO!X'Zq!Y'Zq!['Zq!^'Zq!_'Zq!a'Zq!b'Zq!c'Zq!e'Zq!f'Zq!h'Zq(u'Zq(w'Zq(x'Zq)S'Zq)T'Zq)U'Zq)V'Zq)W'Zq)X'Zq!g'Zq)j'Zq!O'Zq!W'Zq(v'Zq!U'ZqQ'Zq!d'Zq~O!V'Zq~P(5bO!V.}O&r#WO&s$wO~P(5bO!T$WO!V)rO(w)sO!U(UX!h(UX~P!JwO!h/nO!U)ra~O!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!U4|O~P&6yO!W4|O~P&6yO!O4|O~P&6yO!O5RO~P&6yO]5SO!h'ua)X'ua)]'ua~O!h*OO)X)Qi)])Qi~O]&cO!V&bO!O#Qq!T#Qq!h#Qq#v#Qq)W#Qq)j#QqQ#Qq!d#Qq(v#Qq~O!OqiQqi!dqi!hqi)Xqi)Wqi~P#IkO]&cO!V+kO!OqiQqi!dqi!hqi)Xqi)Wqi~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'Tq)W'Tq!g'Tq)j'Tq!O'Tq!W'Tq(v'Tq!U'TqQ'Tq!d'Tq~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!W'|a!h'|a~P#3zO!W5XO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h5YO(u#gO)S#mO)T#oO)U#nO)V#pO)W#jO)X#|O!U)rX~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h#{i)W#{i~P#3zO]*vO!T$WO!V&bO)j*rO!h(Va)W(Va~O!h1fO]'dX!O)dX~P%2xO)X5[O!T%qa!h%qa#v%qa)j%qa~O!h0sO!T)za#v)za)j)za~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W5_O)X#|O~P#3zO]1SOd!POl;[O!V1QO!{!dO%v$mO(r$xO)S;xO)U5aO)V5aO~OQ#Pa!d#Pa!h#Pa!O#Pa~P(DjO]1SOd!POr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V1QO!{!dO!|%RO%v$mO(r$xOQ#kX!d#kX!h#kX!O#kX~Ol%bO)S0zO)U;yO)V;yO~P(ElO]&cOQ#Pa!d#Pa!h#Pa!O#Pa~O!V&bO)j5eO~P(GZO(r%nOQ#dX!d#dX!h#dX!O#dX~O)U;yO)V;yOQ#nX!d#nX!h#nX!O#nX~P' dO!V+kO~P(GZO]1SOa!TOd!POl;]O{#RO!V1QO!{!dO#a#VO#b#TO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO(r;QO)PYO)S;xO)U5aO)V5aO)X+nO!O)dP~P&?sO!h1TOQ)la!d)la~Op&fO)j5jOQ#`al(}X!d#`a!h#`a)X(}X~P$GQO(r-UOQ#ga!d#ga!h#ga~Op&fO)j5jOQ#`a])^Xd)^Xl)^Xr)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^X})^X!T)^X!V)^X!d#`a!h#`a!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)S)^X)U)^X)V)^X)X)^X~O#a5mO#b5mO~O]&cO!V+kO!O#ki!T#ki#v#ki)W#ki)j#kiQ#ki!d#ki!h#ki)X#ki!x#ki(v#ki~O!W5oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W5oO~P!(zO!W5oO)S5qO~P$%pO]#ji!T#ji!V#ji!O#ji#v#ji)W#ji)j#jiQ#ji!d#ji!h#ji)X#ji!x#ji(v#ji~P$ xO)PYO)X5sO~P8zO!h1fO!O)da~O&r#WO&s$wO!T#qa!x#qa#v#qa(v#qa)j#qa!O#qa!h#qa)W#qaQ#qa!d#qa)X#qa~P#NeO!O5xO~P!(zO!O)oP~P!4xO)T6OO)U5|O]#Ua!T#Ua!V#Ua)S#Ua)V#Uar#Uas#Uat#Uau#Uav#Uaw#Uax#Uay#Ua!l#Ua!x#Ua#T#Ua#V#Ua#p#Ua#v#Ua(v#Ua(x#Ua)j#Uaa#Uad#Ual#Ua{#Ua}#Ua!o#Ua!r#Ua!s#Ua!t#Ua!u#Ua!v#Ua!{#Ua#a#Ua#b#Ua#i#Ua#t#Ua${#Ua%c#Ua%e#Ua%k#Ua%l#Ua%o#Ua%v#Ua&m#Ua&r#Ua&s#Ua(r#Ua)P#Ua)W#Ua!O#Ua!h#UaQ#Ua!d#Ua~O!x!cO]#Rq!T#Rq!V#Rq#v#Rq(v#Rq)j#Rq!O#Rq!h#Rq)W#RqQ#Rq!d#Rq~O!W6TO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W6TO~P!(zO!h1|OQ(za!d(za~O)W6YO~Ol-eO!TxO)j6ZO~O]*vO!T$WO!V&bO!h*tO)W)qX~O)j6_O~P)+cO!O6aO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O6aO~O$c6cOP$_q]$_qa$_qd$_ql$_qr$_qs$_qt$_qu$_qv$_qw$_qx$_qy$_q{$_q}$_q!T$_q!V$_q!X$_q!Y$_q!i$_q!o$_q!r$_q!s$_q!t$_q!u$_q!v$_q!x$_q!{$_q#V$_q#a$_q#b$_q#i$_q#p$_q#t$_q#v$_q$R$_q$T$_q$Y$_q$Z$_q$`$_q$e$_q$g$_q$h$_q$k$_q$m$_q$o$_q$q$_q$s$_q$u$_q$w$_q${$_q$}$_q%U$_q%_$_q%`$_q%a$_q%c$_q%e$_q%g$_q%l$_q%o$_q%v$_q%|$_q&m$_q&r$_q&s$_q'Q$_q'R$_q'V$_q'Y$_q'a$_q'b$_q(k$_q(o$_q(r$_q)P$_q)S$_q)U$_q)V$_q)W$_q)X$_q)Y$_q)h$_q)i$_q!U$_q~O)W6dO~OPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)S$kO)V$kO)W6fO)X!ZO)YXO)hcO)idO~P&?sO(v6hO)j*rO~P)+cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W6fO)X#|O~P#3zO!O6jO~P!(zO)W6nO~O)W6oO~O]-YOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO(r-UO)S-VO~O]&cO!V2uO!h%Oa)W%Oa!O%Oa~O!W6uO)S6vO~P$%pO!h2vO)W)ua~O]&cO!O6yO!V2uO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOd$Xq!o$Xq!{$Xq#i$Xq#p$Xq#t$Xq#v$Xq$R$Xq$T$Xq$Y$Xq$Z$Xq${$Xq%U$Xq%c$Xq%g$Xq%o$Xq%|$Xq(k$Xq)U$Xq!U$Xq$c$Xq~P$0kOPmO]$eOa!]Ol:{O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r:}O)PYO)S$kO)V$kO)W6{O)X!ZO)YXO)hcO)idO~P&?sO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W7OO)X#|O~P#3zO)W7PO~OP7QO(oQO~Ol*[O)W)^X~P$GQOp&fOl(}X)W)^X~P$GQO)W7SO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W&Sa~P#3zO!U7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO)W7VO~OPmO]$eOa!]Ol:|O{#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r;UO)PYO)S$kO)V$kO)X0nO)YXO)hcO)idO!O)dP~P&?sO!h3pO)X7ZO!T)_a~O!h3pO!T)_a~O)W7`O)j7bO~P(&eO)W7dO~PGVO]3zOl({Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!{!dO!|%RO%v$mO&r#WO(r(zO)S3wO)U3{O)V3{O~O)S7hO~O]&cO!T*qO!V7jO!h7kO#v!eO(v4OO~O)W7`O)j7mO~P)FwO]3zOl({O!{!dO%v$mO&r#WO(r(zO)S3wO)U3{O)V3{O~Op&fO])cX!T)cX!V)cX!h)cX#v)cX(v)cX)W)cX)j)cX!O)cX~O)W7`O~O!T(QO!l7sO(v(PO])Oid)Oil)Oir)Ois)Oit)Oiu)Oiv)Oiw)Oix)Oiy)Oi})Oi!V)Oi!r)Oi!s)Oi!t)Oi!u)Oi!v)Oi!x)Oi!{)Oi%v)Oi&r)Oi&s)Oi(r)Oi)S)Oi)U)Oi)V)Oi)W)Oi!O)Oi!X)Oi!Y)Oi![)Oi!^)Oi!_)Oi!a)Oi!b)Oi!c)Oi!e)Oi!f)Oi!h)Oi(u)Oi(w)Oi(x)Oi)T)Oi)X)Oi!g)Oi)j)Oi!W)OiQ)Oi!d)Oi!U)Oi#v)Oi~O(r%nO!U(fX!h(fX~O!h4XO!U*Qa~Op&fO]*Pad*Pal*Par*Pas*Pat*Pau*Pav*Paw*Pax*Pay*Pa}*Pa!T*Pa!V*Pa!r*Pa!s*Pa!t*Pa!u*Pa!v*Pa!x*Pa!{*Pa%v*Pa&r*Pa&s*Pa(r*Pa)S*Pa)U*Pa)V*Pa)W*Pa!O*Pa!X*Pa!Y*Pa![*Pa!^*Pa!_*Pa!a*Pa!b*Pa!c*Pa!e*Pa!f*Pa!h*Pa(u*Pa(w*Pa(x*Pa)T*Pa)X*Pa!g*Pa)j*Pa!W*PaQ*Pa!d*Pa(v*Pa!U*Pa#v*Pa~O!T(ZO]&kqd&kql&kqr&kqs&kqt&kqu&kqv&kqw&kqx&kqy&kq}&kq!V&kq!r&kq!s&kq!t&kq!u&kq!v&kq!x&kq!{&kq%v&kq&r&kq&s&kq(r&kq)S&kq)U&kq)V&kq)W&kq!O&kq!X&kq!Y&kq![&kq!^&kq!_&kq!a&kq!b&kq!c&kq!e&kq!f&kq!h&kq(u&kq(w&kq(x&kq)T&kq)X&kq!g&kq)j&kq!W&kqQ&kq!d&kq(v&kq!U&kq#v&kq~OPmOa%QOl:zO!T$WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(oQO(r$xO)YXO)hcO)idO~O]*Ui!V*Ui!X*Ui!Y*Ui![*Ui!^*Ui!_*Ui!a*Ui!b*Ui!c*Ui!e*Ui!f*Ui!h*Ui(u*Ui(w*Ui(x*Ui)S*Ui)T*Ui)U*Ui)V*Ui)W*Ui)X*Ui!g*Ui)j*Ui!O*Ui!W*Ui(v*Ui!U*UiQ*Ui!d*Ui~P*&WO!O7xO~O!W7yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^q)W'^q!g'^q)j'^q!O'^q!W'^q(v'^q!U'^qQ'^q!d'^q~P#3zO!h7zO!O*YX~O!O7|O~O*W7}O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h^y)W^y!g^y)j^y!O^y!W^y(v^y!U^yQ^y!d^y~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O(ha!h(ha~P#3zO]#}O!T$WO!V'Zy!X'Zy!Y'Zy!['Zy!^'Zy!_'Zy!a'Zy!b'Zy!c'Zy!e'Zy!f'Zy!h'Zy(u'Zy(w'Zy(x'Zy)S'Zy)T'Zy)U'Zy)V'Zy)W'Zy)X'Zy!g'Zy)j'Zy!O'Zy!W'Zy(v'Zy!U'ZyQ'Zy!d'Zy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!h'^y)W'^y!g'^y)j'^y!O'^y!W'^y(v'^y!U'^yQ'^y!d'^y~P#3zO]&cO!V+kO!T%uy#v%uy)W%uy)j%uy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U(Ua!h(Ua~P#3zO!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U#}i!h#}i~P#3zO!U8PO~P&6yO!W8PO~P&6yO!O8PO~P&6yO!O8RO~P&6yO]&cO!V&bO!O#Qy!T#Qy!h#Qy#v#Qy)W#Qy)j#QyQ#Qy!d#Qy(v#Qy~O]&cO!V+kO!OqqQqq!dqq!hqq)Xqq)Wqq~O]&cOQ#Pi!d#Pi!h#Pi!O#Pi~O!V+kO~P*9jOQ#nX!d#nX!h#nX!O#nX~P(DjO!V&bO~P*9jOQ(OX](OXd'qXl'qXr(OXs(OXt(OXu(OXv(OXw(OXx(OXy(OX!V(OX!d(OX!h(OX!{'qX%v'qX(r'qX)S(OX)U(OX)V(OX!O(OX~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ#_i!d#_i!h#_i!O#_i~P#3zO&r#WO&s$wOQ#fi!d#fi!h#fi~O(r-UO)X1YO)j1XOQ#`X!d#`X!h#`X~O!W8WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W8WO~P!(zO!T#qi!x#qi#v#qi(v#qi)j#qi!O#qi!h#qi)W#qiQ#qi!d#qi)X#qi~O]&cO!V+kO~P*?fO]&YO!V&WO&r#WO&s$wO)S&VO)U&ZO)V&ZO~P*?fO!O8YO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!h8ZO!O)oX~O!O8]O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ*TX!d*TX!h*TX~P#3zO)X8`OQ*SX!d*SX!h*SX~O)W8bO~O!O$bi!h#{a)W#{a~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W8eO)X#|O~P#3zO!O8gO~P!(zO!O8gO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O8gO~O]&cO!V&bO(v8mO~O)W8nO~O]&cO!V2uO!h%Oi)W%Oi!O%Oi~O!W8qO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W8qO)S8sO~P$%pO!W8qO~P!(zO]&cO!V2uO!h(Ya)W(Ya~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)W8tO)X#|O~P#3zO)W2iO~P!(zO)W8tO~OP%oO!O8uO(oQO~O!O8uO~O)W8vO~P%%eO#T8yO(x.PO)W8wO~O!h3pO!T)_i~O)X8}O!T'wa!h'wa~O)W9PO)j9RO~P)FwO)W9PO~O)W9PO)j9VO~P(&eOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~P)GgO]&cO!V7jO!T!ya!h!ya#v!ya(v!ya)W!ya)j!ya!O!ya~O!W9^O)S9_O~P$%pO!T$WO!h7kO(v4OO)W9PO)j9VO~O!T$WO~P#EfO]&cO!O9bO!V7jO~O]&cO!V7jO!T&aa!h&aa#v&aa(v&aa)W&aa)j&aa!O&aa~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O)W&ba~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W9PO)X#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U&oi!h&oi~P#3zO!V.}O]']i!T']i!X']i!Y']i![']i!^']i!_']i!a']i!b']i!c']i!e']i!f']i!h']i(u']i(w']i(x']i)S']i)T']i)U']i)V']i)W']i)X']i!g']i)j']i!O']i!W']i(v']i!U']iQ']i!d']i~O(r%nO)X9eO~O!h7zO!O*Ya~O!O9gO~P&6yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!U(Ua)W#Zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|OQ#_q!d#_q!h#_q!O#_q~P#3zO&r#WO&s$wOQ#fq!d#fq!h#fq~O)j5jOQ#`a!d#`a!h#`a~O]&cO!V+kO!T#qq!x#qq#v#qq(v#qq)j#qq!O#qq!h#qq)W#qqQ#qq!d#qq)X#qq~O!h8ZO!O)oa~O)U5|O]&Vi!T&Vi!V&Vi)S&Vi)T&Vi)V&Vir&Vis&Vit&Viu&Viv&Viw&Vix&Viy&Vi!l&Vi!x&Vi#T&Vi#V&Vi#p&Vi#v&Vi(v&Vi(x&Vi)j&Via&Vid&Vil&Vi{&Vi}&Vi!o&Vi!r&Vi!s&Vi!t&Vi!u&Vi!v&Vi!{&Vi#a&Vi#b&Vi#i&Vi#t&Vi${&Vi%c&Vi%e&Vi%k&Vi%l&Vi%o&Vi%v&Vi&m&Vi&r&Vi&s&Vi(r&Vi)P&Vi)W&Vi!O&Vi!h&ViQ&Vi!d&Vi~O)W9jO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O!O$bq!h#{i)W#{i~P#3zO!O9lO~P!(zO!O9lO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O9lO~O]&cO!V&bO(v9oO~O!O9pO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O9pO~O]&cO!V2uO!h%Oq)W%Oq!O%Oq~O!W9tO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W9tO~P!(zO)W6fO~P!(zO)W9uO~O)W9vO~O(x.PO)W9vO~O!h3pO!T)_q~O)X9xO!T'wi!h'wi~O!T$WO!h7kO(v4OO)W9yO)j9{O~O)W9yO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W9yO)X#|O~P#3zO)W9yO)j:OO~P)FwO]&cO!V7jO!T!yi!h!yi#v!yi(v!yi)W!yi)j!yi!O!yi~O!W:SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W:SO)S:UO~P$%pO!W:SO~P!(zO]&cO!V7jO!T(da!h(da(v(da)W(da)j(da~O!O:WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:WO~O!O:]O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:]O~O]&cO!V2uO!h%Oy)W%Oy!O%Oy~O)W:^O~O)W:_O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:_O)X#|O~P#3zO!T$WO!h7kO(v4OO)W:_O)j:bO~O]&cO!V7jO!T!yq!h!yq#v!yq(v!yq)W!yq)j!yq!O!yq~O!W:dO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!W:dO~P!(zO!O:fO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)X#|O~P#3zO!O:fO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:hO)X#|O~P#3zO)W:hO~O]&cO!V7jO!T!yy!h!yy#v!yy(v!yy)W!yy)j!yy!O!yy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)S#mO)T#oO)U#nO)V#pO)W:lO)X#|O~P#3zO)W:lO~O]ZXlgXpZXpiX!TiX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(v$]X(wZX(xZX)SZX)TZX)UZX)VZX)WZX)XZX)jZX~O]%WXlmXpnXp%WX!TnX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gmX!h%WX(u%WX(w%WX(x%WX)S%WX)T%WX)U%WX)V%WX)X%WX)jmX!O%WXQ%WX!d%WX~O)W%WX!W%WX(v%WX!U%WX~P+GrO]nX]%WXdnXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!VnX!V%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX!OnX!O%WX!hnX)XnX~O)WnX)jnX~P+JSO]%WXlmXpnXp%WX!V%WX!h%WXQ%WX!d%WX!O%WX~O!T%WX#v%WX)W%WX)j%WX(v%WX~P+LmOQnXQ%WX!TnX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!dnX!d%WX!e%WX!f%WX!gmX!h%WX(u%WX(w%WX(x%WX)S%WX)T%WX)U%WX)V%WX)X%WX)jmX~P+JSO]nX]%WXlmXpnXp%WXrnXsnXtnXunXvnXwnXxnXynX}nX!V%WX!rnX!snX!tnX!unX!vnX!xnX!{nX%vnX&rnX&snX(rnX)SnX)UnX)VnX~O!TnX(vnX)WnX)jnX~P, eOdnX!VnX)W%WX~P, eOlmXpnX)W%WX~Od)oO%Y)pO(y:oO~Od)oO%Y)pO(y:tO~Od)oO%Y)pO(y:pO~Od$RO%Y*TO'[$TO'_$UO(y:oO~Od$RO%Y*TO'[$TO'_$UO(y:qO~Od$RO%Y*TO'[$TO'_$UO(y:sO~O]iXriXsiXtiXuiXviXwiXxiXyiX!OiX!ViX&riX&siX)SiX)UiX)ViXdiX}iX!riX!siX!tiX!uiX!viX!xiX!{iX%viX(riX~P#1jO]ZXlgXpZXpiX!VZX!hZX)WZX)jZX~O!TZX#vZX(vZX~P,'{OlgXpiX)PiX)WZX)jiX~O]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!VZX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX!OZX!OiX!hiX)XiX)jiX~O)WZX~P,)VO]ZX]iXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX!TiX!VZX!ViX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!hiX&riX&siX(uZX(wZX(xZX)SZX)SiX)TZX)UZX)UiX)VZX)ViX)XZX)XiX)jZX~OQZXQiX!dZX!diX~P,+pO]iXdiXriXsiXtiXuiXviXwiXxiXyiX}iX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX~P#1jO]ZX]iXdiXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!VZX!ViX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX)SiX)UiX)ViX~O)WiX~P,0rOdiX}iX!OZX!OiX!riX!siX!tiX!uiX!viX!xiX!{iX%viX(riX)jiX~P,+pO]ZX]iXlgXpZXpiXriXsiXtiXuiXviXwiXxiXyiX}iX!TiX!VZX!riX!siX!tiX!uiX!viX!xiX!{iX%viX&riX&siX(riX(viX)SiX)UiX)ViX)WiX)jiX~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~PBUOd$RO%Y*TO(y:oO~Od$RO%Y*TO(y:pO~Od$RO%Y*TO(y:vO~Od$RO%Y*TO(y:uO~O]%hOd!POl%bOr!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O!V%kO!{!dO!|%RO%v$mO(r$xO)S;aO)U;bO)V;bO~O]%hOd!POl%bO!V%kO!{!dO%v$mO(r$xO)S;aO)U;bO)V;bO~Od$RO%Y$SO(y:pO~Od$RO%Y$SO(y:tO~Ol:yO~Ol:xO~O]cXlgXpiX!TcX~Od)oO%Y*TO(y:oO~Od)oO%Y*TO(y:pO~Od)oO%Y*TO(y:qO~Od)oO%Y*TO(y:rO~Od)oO%Y*TO(y:sO~Od)oO%Y*TO(y:uO~Od)oO%Y*TO(y:vO~Or!^Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^O~P,9OO](}Xr(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}X}(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)S(}X)U(}X)V(}X)j(}X~Ol:xO!T(}X(v(}X)W(}X~P,<}O]&wXlmXpnX!T&wX~Od4kO%Y*TO(y;tO~Ol;[O)S;xO)U5aO)V5aO~P(ElOd!POl%bO!{!dO%v$mO(r$xO~O]1SO!V1QO)S0zO)U;yO)V;yOQ#nX!d#nX!h#nX!O#nX~P,?yO)S;YO~Ol;hO~Ol;iO~Ol;jO~Ol;lO~Ol;mO~Ol;nO~Ol;lO!T$WOQ(}X!d(}X!h(}X)X(}X!O(}X)j(}X~P$GQOl;jO!T$WO~P$GQOl;hO!g$YO)j$YO~Ol;jO!g$YO)j$YO~Ol;lO!g$YO)j$YO~Ol;iO!O(}X!h(}X)X(}X)j(}X~P$GQOd/^O%Y*TO(y;tO~Ol;uO~O)S<YO~OV'e'h'i'g(o)Y!R(rST%Z!Y!['jd%[!i'R!f]'f*Z'k(w!^!_'l'm'l~",goto:"%5]*ZPPPPPP*[P*_PP.T4iP7j7j:tP:t>OP>i>{?aFXMX!&]!,sP!3m!4b!5VP!5qPPPPPPPP!6[P!7tPP!9V!:oP!:uPPPPPP!:xP!:xPP!:xPPPPPPPPP!;U!>lP!>oPP!?]!@QPPPPP!@UP>l!AgPP>l!Cn!Eo!E}!Gd!ITP!I`P!Io!Io!MP#!`##v#'S#*^!Eo#*hPP!Eo#*o#*u#*h#*h#*xP#*|#+k#+k#+k#+k!ITP#,U#,g#.|P#/bP#0}P#1R#1Z#2O#2Z#4i#4q#4q#1RP#1RP#4x#5OP#5YPP#5u#6d#7U#5uP#7v#8SP#5uP#5uPP#5u#5uP#5uP#5uP#5uP#5uP#5uP#5uP#8V#5Y#8sP#9YP#9o#9o#9o#9o#9|#1RP#:d#?`#?}PPPPPPPP#@uP#ATP#ATP#Aa#Dn#9OPP#@}#EQP#Ee#Ep#Ev#Ev#@}#FlP#1R#1R#1R#1R#1RP!Io#GW#G_#G_#G_#Gc!Ly#Gm!Ly#Gq!E}!E}!E}#Gt#L^!E}>l>l>l$#V!@Q!@Q!@Q!@Q!@Q!@Q!6[!6[!6[$#jP$%V$%e!6[$%kPP!6[$'y$'|#@l$(P:t7j$+V$-Q$.q$0a7jPP7j$2T7jP7j7jP7jP$5Z7jP7jPP7j$5gPPPPPPPPP*[P$8o$8u$;^$=d$=j$>Q$>[$>g$>v$>|$@[$AZ$Ab$Ai$Ao$Aw$BR$BX$Bd$Bj$Bs$B{$CW$C^$Ch$Cn$Cx$DP$D`$Df$DlP$Dr$Dz$ER$Ea$F}$GT$GZ$Gb$GkPPPPPPPP$Gq$GuPPPPP$Nw$'y$Nz%$S%&[P%&i%&lPPPPPPPPPP%&x%'{%(R%(V%)|%+Z%+|%,T%.d%.jPPP%.t%/P%/S%/Y%0a%0d%0n%0x%0|%2Q%2s%2y#@uP%3d%3t%3w%4X%4e%4i%4o%4u$'y$'|$'|%4x%4{P%5V%5YR#cP'`mO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fU%om%p7QQ&m!`Q(j#]d0P)}/|/}0O0R4}5O5P5S8QR7Q3Tb}Oaewx{!g&S*q&v$i[!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0{1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fS%`f0h#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YS%qm!YS&u!h#PQ']!tQ'g!yQ'h!zQ(j#`Q(k#]Q(l#^Q*x%kQ,W&lQ,]&nQ-S'^Q-d'fQ-k'qS.r(Z4XQ/f)gQ0e*mQ2Q,[Q2X,cQ3O-eQ4b.|Q4f/TQ5f0}Q6[2TQ6}3PQ8a6ZQ9e7zR;Z1Q$|#hS!]$y%Q%T%Z&j&k'Q'X'Z'a'c(a(e(h(w(x)R)S)T)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:iQ&p!dQ(g#ZQ(s#bQ)j$T[*s%e*W0k2`2g2{Q,^&oQ/O(fQ/S(kQ/Z(tS/i)i/PQ0r+QS4q/j/kR8O4r'a![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f'a!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ)O#kS+Q%y0sQ/r)sk3}.g3s3w3z3{7c7e7f7h7k9X9Y:RQ)Q#kk3|.g3s3w3z3{7c7e7f7h7k9X9Y:Rl)P#k.g3s3w3z3{7c7e7f7h7k9X9Y:RT+Q%y0s[UOwx!g&S*qW$`[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.o&|;{af{|!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k$|$}%S%]%h%m&Q&W&b&y&|'O'i'j'u'y(`(i)l)r*`*b*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0]0h0y0{1Q1a1b1l1p1z2c2i2j2u4O4R4W4a5Y5a5e5q6_6c6f6g6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f;`;xQ;|1Sd;}&x'P'b,w-]-^-a2f2z2}W<O&f*v1|3iQ<P#O[<Q!t'^'f,[2T6ZT<]%y0s[VOwx!g&S*qW$a[e$e(bQ$p.u!j$q_!f!u!}#V#Z$S$T$l%U&U&Y&c&m'_(g)j)p+[+a+t,X,k,z-Q-o.d1T1X1f1k1m2l3t5j8Z&^$zaf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fQ'r#O|'|#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[l(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS-n't-wQ3W-tU;s(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;x[<Q!t'^'f,[2T6ZW<R&f*v1|3id<S&x'P'b,w-]-^-a2f2z2}Q<Z1ST<]%y0s!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!v$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$Q%lgnp|#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ'[!tz(O#R#S#T#U'}(P(U(^+y.W.X._.`.q3[3]3^3p5}6P7[f-Z'`-T-V-Y2p2q2s2v6q6r8pQ1W+aQ1Z+bQ2k,yQ3X-tQ4[.uQ5l1YR8V5m!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!x$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+a+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$S%lgnp|!t#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y|(O#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[Q3X-tR4[.u[WOwx!g&S*qW$b[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;xQ;|1SQ<P#O[<Q!t'^'f,[2T6Z&^<Taf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fd<U&x'P'b,w-]-^-a2f2z2}W<V&f*v1|3iT<]%y0sp$PT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)m$V*U*[/_:w:x:y;h;i;j;k;l;m;n;up$QT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)n$V*U*[/_:w:x:y;h;i;j;k;l;m;n;u^&e}!O$i$j%`%j;Zd&i!U$t%P%l'[(O1W1Z3X4[V/a)O)P3}S%Ye$eQ,T&fQ.{(bQ2m-QQ5y1mQ6V1|Q6m2lR9h8Z#}!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Z#[^O[_`wx!f!g!}#O$S$d$l$s$u&S&U&Y&c&m&r&x'P'b't(Q)p*]*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3t_(U#R#S#T+b3[3]3^#}ZO[wx!g!k#R#S#T%m&S&U&Y&c&m&w&x&y&|'O'P'['b't'x'}(P(Q(U*q*v+[+b,X,h,k,q-P-]-^-a-o-t-w-z._.d.m.q1S1T1f2c2k2z2}3[3]3^3i6c6j8g9l9p:W:]:fQ$]YR0T*OR*Q$]e0P)}/|/}0O0R4}5O5P5S8Q'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fe0P)}/|/}0O0R4}5O5P5S8QR5T0T^(T#R#S#T+b3[3]3^Y.]'}(R(U(V7TU3k.Z.^.qS7X3l4VR9c7s^(S#R#S#T+b3[3]3^[.['}(R(T(U(V7TW3j.Z.].^.qU7W3k3l4VS8z7X7sR:V9cT.k(Q.md]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tQ%tnT1u+}1v!jbOaenpwx{|!g#O$|$}%S%h%w&S't'u(Q*`*b*q-p-w.f.m.o0]0y1S2j5a6g;`;xf-W'`-T-V-Y2p2q2s2v6q6r8pj3x.g3s3w3z3{7c7e7f7h7k9X9Y:Rr;zg$g%d%i&s*Y*t,l,v-_2_;W;X;Y;o;q;vi<^+]0z1O;a;b;p;r;w;y<W<X<Y!O&^y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yz&az%O%W%e&d's*W*_,b-x0Z0[0k0|2`2g2{5V5b6l8iS'{#Q.Xn+l&X*g+f+m+p-j/h0_1R1^4t5W5`5u8XQ2W,a^2t-X2r2x6p6w8o9se7i3y7_7g7o7p9U9W9`:Q:cS+^&U1TY+n&Y&c*v1S3iR5s1f#w!POaegnpwx{|!g#O$g$|$}%S%d%h%i%w&S&s't'u(Q*Y*`*b*q*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y`oOwx!g&S't*q-w#U!Paeg{|#O$g$|$}%S%d%h%i&s'u*Y*`*b*t+],l,v-_0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YU%vnp-pQ*}%wS.e(Q.mT3v.f.oW+r&^+l+s1cV+z&a+{7iQ+x&`U+z&a+{7iQ-w'tT.S'y.U'`![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'W!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fW1r+y.X5}6PR2e,s!WjO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fY%Ve$e(b1p3iQ'S!nS(y#i5YQ,m&xQ,x'PS.O'y.UQ2b,nQ6k2iQ6|2}Q8h6fR9m8e'W![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'ayO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k+y,P,R,n,q,w-]-^-a-g.P.Q.U.X.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q5}6P6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ&`yS't#O-uR1[+cS+^&U1TR5n1[Q1P+]R5g1OR1P+]T+^&U1Tz&[%X&V&Y&Z'k)h*d*f+]+e/m0^0y0z1O1S1j5a5v;x;yQ&]yR1n+x!P&[y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yQ+u&^S+|&a7iS1d+l+sQ1t+{R5r1c!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fS%zo.eS&Oq-rQ&_yQ&q!eQ'e!yQ*p%eU*{%v%{3vS+P%x%}Q+q&]Q,Y&mS,Z&n'gQ,r&{S0X*W,bS0o*|*}Q0q+OQ1o+xS2S,]-fQ5U0ZQ5Z0pQ5{1nQ6Y2RQ6]2WQ7n3yQ9S7_R:P9U[uOwx!g&S*qQ,Y&mQ-v'tQ3Y-tR3_-wxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^S%zo.eS&Oq-rQ*p%eU*{%v%{3vS+P%x%}S0X*W,bS0o*|*}Q0q+OQ5U0ZQ5Z0pQ7n3yQ9S7_R:P9UT,_&q,`]uOwx!g&S*q[uOwx!g&S*qQ,Y&mQ,n&xQ,w'PW-`'b-]-a2zQ-v'tQ3Y-tQ3_-wR6{2}[%fg$g,l,v-_2_R0l*t^$XV!U$a$z%P<R<SQ'S!nS)`#}*vS)v$W*qQ)y$YY*s%e*W0k2g2{Q/O(fS/i)i/PS0a*h4aS0j*r6_Q0r+QQ4Q.gQ4n/cS4q/j/kS4v/n5YQ4{/uQ6`2`U7a3s3y4RQ8O4rQ8k6hY9Q7_7b7c7l7mQ9r8mW9z9O9R9U9VQ:Z9oU:a9{9}:OR:j:bS)v$W*qT4v/n5YZ)t$W)u*q/n5YQ&w!hR'x#PS,g&v'vQ2[,eR6^2ZxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fV$h[&|-^!XkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:f!WhO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR'W!q!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR,n&xQ&y!iQ&{!jQ'O!lR,q&zR,o&xxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fX-`'b-]-a2z[uOwx!g&S*qQ,z'PQ-v'tS.k(Q.mR3_-w[uOwx!g&S*qQ,z'PW-`'b-]-a2zT.k(Q.mg-Z'`-T-V-Y2p2q2s2v6q6r8pylOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fb!OOaewx{!g&S*q&|$j[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ']!tQ-S'^Q-d'fQ2Q,[Q6[2TR8a6Zj$RT$_%b%r:z:{:|;[;];^;_;c;di)o$V*U:w:x:y;h;i;j;k;l;m;nj$RT$_%b%r:z:{:|;[;];^;_;c;dh)o$V*U:w:x:y;h;i;j;k;l;m;nS/^({<[V4k/_/`;u[uOwx!g&S*qQ-v'tR3_-w[uOwx!g&S*qT.k(Q.m'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fR7R3T[uOwx!g&S*qQ-v'tS.k(Q.mR3_-w[pOwx!g&S*qQ%wnS-p't-wT.f(Q.mS%{o.eS*|%v3vR0p*}Q+R%yR5]0sS%zo.eS&Oq-rU*{%v%{3vS+P%x%}S0o*|*}Q0q+OQ5Z0pQ7n3yQ9S7_R:P9U`qOwx!g&S(Q*q.mS%xn-pU%}p.f.oQ+O%wT-r't-wS'z#Q.XR.Y'{T.R'y.US.S'y.UQ8x7UR9w8yT5}1q8_R6P1q#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&}![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&|![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fk3|.g3s3w3z3{7c7e7f7h7k9X9Y:RQ4Q.gS7a3s3yU9Q7_7c7lS9z9O9UR:a9}#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR4].uQ(]#US.v([(^S4^.w.xR7w4_Q.s(ZR7u4X#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Zp$w`$d$s%X&r'`(_(f)i*d-T/k1j5k5v8Uq(}#k%y.g0s3s3w3z3{7c7e7f7h7k9X9Y:RR,U&fR6W1|'X!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$q#rS%T%Z'Q'X'Z'a'c(a(e(h(w(x)R)S)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$]#sS%T%Z'Q'X'Z'a'c(h(w(x)R)V)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$Z#tS%T%Z'Q'X'Z'a'c(h(w(x)R)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$c#wS%T%Z'Q'X'Z'a'c(h(w(x)R)U)V)W)X)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i'X![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ/P(fQ/j)iQ4r/kR9d7y']![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ#eQR(u#eU$|a;`;xb%Ue$e&f(b-Q1m1|2l8ZQ'_!u!Q*^$|%U'_*`*f+h,P0]0^1b2p6q6t7e8p9X9]:R;W;o;p;v;w<WS*`$}%SQ*f%XS+h&W1QQ,P&bQ0]*bQ0^*dQ1b+kQ2p-VS6q2q2sQ6t2uQ7e3wQ8p6rS9X7f7hQ9]7jQ:R9YQ;W%dS;o;X;YS;p<X<YQ;v;qQ;w;rT<W0z;a[[Owx!g&S*ql$c[&|'}+[,X,h,k-P-^-o-z._.d.ql&|!k%m&y'O,q2c6c6j8g9l9p:W:]:f^'}#R#S#T+b3[3]3^`+[&U&Y&c*v1S1T1f3iS,X&m-tQ,h&wU,k&x'P2}S-P'[2kW-^'b-]-a2zS-o't-wQ-z'xQ._(PS.d(Q.mR.q(UQ)|$[R/x)|Q0R)}Q4}/|Q5O/}Q5P0OY5Q0R4}5O5P8QR8Q5SQ*P$]S0U*P0VR0V*QS.`(P._S3n.`7[R7[3pQ3q.aS7Y3o3rU7^3q7Y8{R8{7ZQ.m(QR4S.m!|_O[wx!f!g!}#O$S$l&S&U&Y&c&m&x'P'b't(Q)p*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3tU$r_$u*]U$u`$d&rR*]$sU$}a;`;xd*a$}*b2q6r7f9Y;X;q;r<XQ*b%SQ2q-VQ6r2sQ7f3wQ9Y7hQ;X%dQ;q;YQ;r<YT<X0z;aS+{&a7iR1s+{S*j%Z/pR0c*jQ1U+_R5i1UU+e&V0z;xR1]+eQ+s&^Q1c+lT1i+s1cQ8[5yR9i8[QwOS&Rw&ST&Sx*qQ,`&qR2V,`W)u$W*q/n5YR/t)uU/o)q)v0gR4w/o[*u%e%f*W2`2g2{R0m*uQ,d&uR2Y,dQ-a'bQ2z-]T2|-a2zQ2w-XR6x2wQ-f'gQ2R,]T3Q-f2RS%pm7QR*z%pdnOwx!g&S't(Q*q-w.mR%unQ0t+RR5^0tQ.U'yR3f.UQ1v+}R6Q1vU*n%`*x;ZR0f*nS1g+n0nR5t1gQ7l3yQ9O7_U9a7l9O9}R9}9U$O!SO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o.u1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR&g!SQ4Y.sR7v4YQ1},UR6X1}S/d)_)`R4o/dW(o#a(j(k/SR/W(oQ7{4fR9f7{T)a#}*v!USO[wx!g!k%m&S&y&|'O'b,q-]-^-a2c2z6c6j8g9l9p:W:]:fj$ya{$k%]+j,R1a1z5q6v8s9_:UY%Te$e(b1p3iY%Zf$f(i)l*lQ&j!WQ&k!XQ'Q!nQ'X!rQ'Z!sQ'a!vQ'c!xQ(a#XQ(e#YS(h#[+YQ(w#gQ(x#iQ)R#lQ)S#qQ)T#rQ)U#sQ)V#tQ)W#uQ)X#vQ)Y#wQ)Z#xQ)[#yQ)]#zQ)^#{S)_#}*vQ)k$UQ)q$WQ)x$YQ+X&QS+g&W1QQ,O&bQ,S&fQ,j&xQ,u'PQ-h'iQ-i'jS-|'y.UQ.y(`S/p)r0hS0`*h4aQ0b*iQ0g*qQ0i*rQ0w+WS1`+h+kQ1y,PQ2a,nS2h,w6{Q3R-gQ3c.PQ3d.QQ4c.}Q4d/QQ4j/[Q4m/cQ4s/lQ4u/nQ4y/sQ4z/uQ5d0{Q5p1bQ5w1lQ6U1|S6e2f8tQ6i2iQ6s2uQ6z2}Q7q4OQ7r4RQ7t4WQ8S5YQ8T5eQ8c6_Q8f6fQ8j6hQ8r6tS9T7b7mQ9[7jQ9k8eQ9q8mS9|9R9VQ:T9]Q:Y9oS:`9{:OR:i:bR,V&fd]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3t#r${ae!u$e$|$}%S%U%X%d&W&b&f'_(b*`*b*d*f+h+k,P-Q-V0]0^1Q1b1m1|2l2p2q2s2u3w6q6r6t7e7f7h7j8Z8p9X9Y9]:R;W;X;Y;`;a;o;p;q;r;v;w<W<X<YQ%tnS+d&V+eW+r&^+l+s1cU+z&a+{7iQ1k+tT5c0z;x``Owx!g&S't*q-wS$d[-oQ$s_b%Xe$e&f(b-Q1m1|2l8Z!h&r!f!}#O$S$l&U&Y&c&m&x'P'b(Q)p*v+[,X,k,w,z-]-^-a-t.d.m.o1S1T1f2f2z2}3i3tQ'`!uS(_#V+aQ(f#ZS)i$T(gQ*d%UQ-T'_Q/k)jQ1j+tQ5k1XQ5v1kR8U5jS(W#R3]S(X#S3^V(Y#T+b3[R$^Ye0Q)}/|/}0O0R4}5O5P5S8QW(R#R#S#T+bQ([#US.Z'}(US.a(P._Q.x(^W1r+y.X5}6PQ3Z-tQ3h.WQ3o.`Q4V.qU7T3[3]3^Q7]3pR8|7[Q.b(PR3m._T.l(Q.mdgOwx!g&S&m't*q-t-wU$g[,X-oQ&s!fQ'k!}Q'u#OQ)h$SQ*Y$l`+]&U&Y&c*v1S1T1f3iQ,l&xQ,v'PY-_'b-]-a2z2}S.g(Q.mQ/m)pQ0y+[S2_,k-^S2j,w,zS3s.d.oQ6g2fR7c3td]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tR%tnQ3y.gQ7_3sQ7g3wQ7o3zQ7p3{Q9U7cU9W7e7f7hQ9`7kS:Q9X9YR:c:RZ+o&Y&c*v1S3ipzOnpwx!g%w&S't(Q*q-p-w.f.m.o[%Oa%d0z;`;a;xU%We%h1SQ%eg^&d{|%i1O5a;b;yQ's#OQ*W$gb*_$|$}%S;W;X;Y<W<X<YQ,b&sQ-x'uQ0Z*Y[0[*`*b;o;p;q;rQ0k*tQ0|+]Q2`,lQ2g,vS2{-_2_U5V0];v;wQ5b0yQ6l2jR8i6gQ+}&aR9Z7iS1q+y.XQ8^5}R8_6P[%^f$f(i)l)r0hR0d*lR+`&UQ+_&UR5h1TS&Xy+xQ*g%XU+f&V0z;xS+m&Y1SW+p&Z1O5a;yQ-j'kQ/h)hS0_*d*fQ1R+]Q1^+eQ4t/mQ5W0^Q5`0yQ5u1jR8X5vR5z1mYvOwx&S*qR&t!gW%gg,l,v-_T*X$g2_T)w$W*q[uOwx!g&S*qQ&}!kQ*y%mQ,p&yQ,t'OQ2d,qQ6b2cQ8d6cQ8l6jQ9n8gQ:X9lQ:[9pQ:e:WQ:g:]R:k:fxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^X-`'b-]-a2zQ-['`R2o-TS-X'`-TQ2r-VQ2x-YU6p2p2q2sQ6w2vS8o6q6rR9s8p[rOwx!g&S*qS-q't-wT.h(Q.mR+S%y[sOwx!g&S*qS-s't-wT.i(Q.m[tOwx!g&S*qT.j(Q.mT.T'y.UX%af%k0h1QQ.w([R4_.xR.t(ZR(d#XQ(r#aS/R(j(kR4e/SR/V(lR4g/T",nodeNames:" RawString > MacroName LineComment BlockComment PreprocDirective #include String EscapeSequence SystemLibString Identifier ArgumentList ( ConditionalExpression AssignmentExpression CallExpression PrimitiveType FieldExpression FieldIdentifier DestructorName TemplateMethod ScopedFieldIdentifier NamespaceIdentifier TemplateType TypeIdentifier ScopedTypeIdentifier ScopedNamespaceIdentifier :: NamespaceIdentifier TypeIdentifier TemplateArgumentList < TypeDescriptor const volatile restrict _Atomic mutable constexpr constinit consteval StructSpecifier struct MsDeclspecModifier __declspec ) Attribute AttributeName Identifier AttributeArgs { } [ ] UpdateOp ArithOp ArithOp ArithOp LogicOp BitOp BitOp BitOp CompareOp CompareOp CompareOp > CompareOp BitOp UpdateOp , Number CharLiteral AttributeArgs VirtualSpecifier BaseClassClause Access virtual FieldDeclarationList FieldDeclaration extern static register inline thread_local AttributeSpecifier __attribute__ PointerDeclarator MsBasedModifier __based MsPointerModifier FunctionDeclarator ParameterList ParameterDeclaration PointerDeclarator FunctionDeclarator Noexcept noexcept RequiresClause requires True False ParenthesizedExpression CommaExpression LambdaExpression LambdaCaptureSpecifier TemplateParameterList OptionalParameterDeclaration TypeParameterDeclaration typename class VariadicParameterDeclaration VariadicDeclarator ReferenceDeclarator OptionalTypeParameterDeclaration VariadicTypeParameterDeclaration TemplateTemplateParameterDeclaration template AbstractFunctionDeclarator AbstractPointerDeclarator AbstractArrayDeclarator AbstractParenthesizedDeclarator AbstractReferenceDeclarator ThrowSpecifier throw TrailingReturnType CompoundStatement FunctionDefinition MsCallModifier TryStatement try CatchClause catch LinkageSpecification Declaration InitDeclarator InitializerList InitializerPair SubscriptDesignator FieldDesignator ExportDeclaration export ImportDeclaration import ModuleName PartitionName HeaderName CaseStatement case default LabeledStatement StatementIdentifier ExpressionStatement IfStatement if ConditionClause Declaration else SwitchStatement switch DoStatement do while WhileStatement ForStatement for ReturnStatement return BreakStatement break ContinueStatement continue GotoStatement goto CoReturnStatement co_return CoYieldStatement co_yield AttributeStatement ForRangeLoop AliasDeclaration using TypeDefinition typedef PointerDeclarator FunctionDeclarator ArrayDeclarator ParenthesizedDeclarator ThrowStatement NamespaceDefinition namespace ScopedIdentifier Identifier OperatorName operator ArithOp BitOp CompareOp LogicOp new delete co_await ConceptDefinition concept UsingDeclaration enum StaticAssertDeclaration static_assert ConcatenatedString TemplateDeclaration FriendDeclaration friend union FunctionDefinition ExplicitFunctionSpecifier explicit FieldInitializerList FieldInitializer DefaultMethodClause DeleteMethodClause FunctionDefinition OperatorCast operator TemplateInstantiation FunctionDefinition FunctionDefinition Declaration ModuleDeclaration module RequiresExpression RequirementList SimpleRequirement TypeRequirement CompoundRequirement ReturnTypeRequirement ConstraintConjuction LogicOp ConstraintDisjunction LogicOp ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator TemplateFunction OperatorName StructuredBindingDeclarator ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator BitfieldClause FunctionDefinition FunctionDefinition Declaration FunctionDefinition Declaration AccessSpecifier UnionSpecifier ClassSpecifier EnumSpecifier SizedTypeSpecifier TypeSize EnumeratorList Enumerator DependentType Decltype decltype auto PlaceholderTypeSpecifier ParameterPackExpansion ParameterPackExpansion FieldIdentifier PointerExpression SubscriptExpression BinaryExpression ArithOp LogicOp LogicOp BitOp UnaryExpression LogicOp BitOp UpdateExpression CastExpression SizeofExpression sizeof CoAwaitExpression CompoundLiteralExpression NULL NewExpression new NewDeclarator DeleteExpression delete ParameterPackExpansion nullptr this UserDefinedLiteral ParamPack #define PreprocArg #if #ifdef #ifndef #else #endif #elif PreprocDirectiveName Macro Program",maxTerm:425,nodeProps:[["group",-35,1,8,11,14,15,16,18,71,72,100,101,102,104,191,208,229,242,243,270,271,272,277,280,281,282,284,285,286,287,290,292,293,294,295,296,"Expression",-13,17,24,25,26,42,255,256,257,258,262,263,265,266,"Type",-19,126,129,147,150,152,153,158,160,163,164,166,168,170,172,174,176,178,179,188,"Statement"],["isolate",-4,4,5,8,10,""]],propSources:[Ww],skippedNodes:[0,3,4,5,6,7,10,297,298,299,300,301,302,303,304,305,306,347,348],repeatNodeCount:41,tokenData:"&*r7ZR!UOX$eXY({YZ.gZ]$e]^+P^p$epq({qr.}rs0}st2ktu$euv!7dvw!9bwx!;exy!<Yyz!=Tz{!>O{|!?R|}!AV}!O!BQ!O!P!DX!P!Q#+y!Q!R#Az!R![$(x![!]$Ag!]!^$Cc!^!_$D^!_!`%1W!`!a%2X!a!b%5_!b!c$e!c!n%6Y!n!o%7q!o!w%6Y!w!x%7q!x!}%6Y!}#O%:n#O#P%<g#P#Q%Kz#Q#R%Ms#R#S%6Y#S#T$e#T#i%6Y#i#j%Nv#j#o%6Y#o#p&!e#p#q&#`#q#r&%f#r#s&&a#s;'S$e;'S;=`(u<%lO$e&t$nY)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&r%eW)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^&j&SU'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j&kX'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j']V'f&jOY%}YZ%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j'uP;=`<%l%}&r'{P;=`<%l%^&l(VW(pQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O&l(rP;=`<%l(O&t(xP;=`<%l$e7Z)Y`)ZW(pQ(n.o'f&j*Z)`OX$eXY({YZ*[Z]$e]^+P^p$epq({qr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e.o*aT(n.oXY*[YZ*[]^*[pq*[#O#P*p.o*sQYZ*[]^*y.o*|PYZ*[4e+[`)ZW(pQ(n.o'f&jOX$eXY+PYZ*[Z]$e]^+P^p$epq+Pqr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e4Z,cX'f&jOY%}YZ-OZ]%}]^-{^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4Z-V[(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4Z.QV'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P.nT*W)`(n.oXY*[YZ*[]^*[pq*[#O#P*p3o/[[%^!b'QP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o0_Y%]!b!a,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e6e1YY)ZW(qQ(o/]'f&jOY%^Zr%^rs1xsw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^(U2RW)x!b)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^4e2tf)ZW(pQ'f&jOX$eXY2kZp$epq2kqr$ers%^sw$ewx(Ox!c$e!c!}4Y!}#O$e#O#P&f#P#T$e#T#W4Y#W#X5m#X#Y>u#Y#]4Y#]#^NZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e4eb)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e5xd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y7W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e7cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z8q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e8|d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^:[#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e:gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#b4Y#b#c;u#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e<Qd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y=`#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e=mb)ZW(pQ'e.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e?Qf)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a@f#a#b4Y#b#cHV#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e@qf)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^BV#^#g4Y#g#hEV#h#o4Y#o;'S$e;'S;=`(u<%lO$e4eBbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZCp#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eC}b)ZW(pQ'f&j'l.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eEbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#YFp#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4eF}b)ZW(pQ'j.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eHbd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#XIp#X#o4Y#o;'S$e;'S;=`(u<%lO$e4eI{d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^KZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4eKfd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZLt#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eMRb)ZW(pQ'f&j'k.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eNff)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z! z#Z#b4Y#b#c!.[#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!!Xf)ZW(pQ'g.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!#m#X#b4Y#b#c!(W#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!#xd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!%W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!%cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!&q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!'Ob)ZW(pQ'h.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!(cd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!)q#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!)|d)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!+[#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!+gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!,u#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!-Sb)ZW(pQ'i.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!.gd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#V4Y#V#W!/u#W#o4Y#o;'S$e;'S;=`(u<%lO$e4e!0Qd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a!1`#a#o4Y#o;'S$e;'S;=`(u<%lO$e4e!1kd)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#i4Y#i#j!2y#j#o4Y#o;'S$e;'S;=`(u<%lO$e4e!3Ud)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!4d#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!4od)ZW(pQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!5}#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!6[b)ZW(pQV.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e3o!7q[)ZW(pQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!8rY!g-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!9o])V,g)ZW(pQ%[!b'f&jOY$eZr$ers%^sv$evw!:hwx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!:uY)U,g%^!b)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2X!;pW)[S(pQ)Y,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O6i!<eY)ZW(pQ]6_'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V!=`Y!Oa)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!>][)S,g)ZW(pQ%Z!b'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!?`^)ZW(pQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|!@[|!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!@gY)ZW!X-y(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!AbY!h,k)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!B__)ZW(pQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox}$e}!O!@[!O!_$e!_!`!8g!`!a!C^!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!CiY(x-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Dd^)ZW(pQ'f&j(w,gOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!E`!P!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Ei[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!F_!P#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!FjY)X,k)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]!Gen)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx!Icx!Q$e!Q![!GY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T!IjY(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![!JY![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T!Jcn(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Icx!Q(O!Q![!JY![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ljl(pQ!i,g'f&jOY(OZr(Ors%}s{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ni^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![# e![!c(O!c!i# e!i#O(O#O#P&f#P#T(O#T#Z# e#Z;'S(O;'S;=`(o<%lO(O2T# nj(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Nbx!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T##id(pQ!i,g'f&jOY(OZr(Ors%}s!h(O!h!i##`!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#Y(O#Y#Z##`#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]#%Sn)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#'Z`)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#(]![!c$e!c!i#(]!i#O$e#O#P&f#P#T$e#T#Z#(]#Z;'S$e;'S;=`(u<%lO$e2]#(hj)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx!Nbx!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#*ef)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!h$e!h!i#*Y!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#Y$e#Y#Z#*Y#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e7Z#,W`)ZW(pQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Oxz$ez{#-Y{!P$e!P!Q#:s!Q!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#-c])ZW(pQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y1e#._TOz#.[z{#.n{;'S#.[;'S;=`#/]<%lO#.[1e#.qVOz#.[z{#.n{!P#.[!P!Q#/W!Q;'S#.[;'S;=`#/]<%lO#.[1e#/]OT1e1e#/`P;=`<%l#.[7X#/jZ)ZW'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7P#0bX'f&jOY#0]YZ#.[Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1SZ'f&jOY#0]YZ#.[Zz#0]z{#0}{!P#0]!P!Q#1u!Q#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1|UT1e'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P#2eZ'f&jOY#0]YZ#0]Z]#0]]^#3W^z#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3]X'f&jOY#0]YZ#0]Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3{P;=`<%l#0]7X#4V])ZW'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{!P#/c!P!Q#5O!Q#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7X#5XW)ZWT1e'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^7X#5tP;=`<%l#/c7R#6OZ(pQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#6x](pQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{!P#5w!P!Q#7q!Q#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#7zW(pQT1e'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O7R#8gP;=`<%l#5w7Z#8s_)ZW(pQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{!P#-Y!P!Q#9r!Q#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y7Z#9}Y)ZW(pQT1e'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#:pP;=`<%l#-Y7Z#;OY)ZW(pQS1e'f&jOY#:sZr#:srs#;nsw#:swx#@{x#O#:s#O#P#<z#P;'S#:s;'S;=`#At<%lO#:s7X#;wW)ZWS1e'f&jOY#;nZw#;nwx#<ax#O#;n#O#P#<z#P;'S#;n;'S;=`#@u<%lO#;n7P#<hUS1e'f&jOY#<aZ#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#=RXS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P;'S#<a;'S;=`#>[<%lO#<a7P#=uVS1e'f&jOY#<aYZ%}Z#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#>_P;=`<%l#<a7P#>i]S1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c#f#<a#f#g#?b#g;'S#<a;'S;=`#>[<%lO#<a7P#?iUS1e'f&jOY#<aZ#O#<a#O#P#?{#P;'S#<a;'S;=`#>[<%lO#<a7P#@SZS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c;'S#<a;'S;=`#>[<%lO#<a7X#@xP;=`<%l#;n7R#AUW(pQS1e'f&jOY#@{Zr#@{rs#<as#O#@{#O#P#<z#P;'S#@{;'S;=`#An<%lO#@{7R#AqP;=`<%l#@{7Z#AwP;=`<%l#:s2]#BVt)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$+X#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$=`#m;'S$e;'S;=`(u<%lO$e2T#DnY(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![#E^![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T#Egp(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#Dgx!O(O!O!P#Gk!P!Q(O!Q![#E^![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#Gtn(pQ!i,g'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#I{p(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#LW^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!i#Ir!i#O(O#O#P&f#P#T(O#T#Z#Ir#Z;'S(O;'S;=`(o<%lO(O2T#M]t(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$ xp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$$Xp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$&ht)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$)Tp)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$+b_)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$-`!R![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$,j[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$-kt)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$/{#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e2]$0U[)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$1T`)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$2br)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T$4s^(pQ'f&jOY(OZr(Ors%}s!Q(O!Q![$5o![!c(O!c!i$5o!i#O(O#O#P&f#P#T(O#T#Z$5o#Z;'S(O;'S;=`(o<%lO(O2T$5xr(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx!O(O!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T$8]u(pQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx{(O{|!Nb|}(O}!O!Nb!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$:{u)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx{$e{|#'Q|}$e}!O#'Q!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$=ic)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$>t!R![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$?Pv)ZW(pQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#U$2V#U#V$2V#V#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e4e$Ar[(v-X)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox![$e![!]$Bh!]#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3s$BsYl-})ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$CnY)W,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7V$Dk_p,g%]!b)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!^$Ej!^!_%+w!_!`%.U!`!a%0]!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej*[$Es])ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ejp$FoTO!`$Fl!`!a$GO!a;'S$Fl;'S;=`$GT<%lO$Flp$GTO$Wpp$GWP;=`<%l$Fl*Y$GbZ)ZW'f&jOY$GZYZ$FlZw$GZwx$HTx!`$GZ!`!a%(U!a#O$GZ#O#P$Ib#P;'S$GZ;'S;=`%(y<%lO$GZ*Q$HYX'f&jOY$HTYZ$FlZ!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q$IOU$WpY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}*Q$Ig['f&jOY$HTYZ$HTZ]$HT]^$J]^!`$HT!`!a$NO!a#O$HT#O#P%&n#P;'S$HT;'S;=`%'f;=`<%l%$z<%lO$HT*Q$JbX'f&jOY$HTYZ$J}Z!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT'[$KSX'f&jOY$J}YZ$FlZ!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$KvU$Wp'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}'[$L_Z'f&jOY$J}YZ$J}Z]$J}]^$MQ^!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MVX'f&jOY$J}YZ$J}Z!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MuP;=`<%l$J}*Q$M{P;=`<%l$HT*Q$NVW$Wp'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`$NtW'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`% eUY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%})`% |Y'f&jOY$NoYZ$NoZ]$No]^%!l^#O$No#O#P%#d#P;'S$No;'S;=`%$[;=`<%l%$z<%lO$No)`%!qX'f&jOY$NoYZ%}Z!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%#aP;=`<%l$No)`%#iZ'f&jOY$NoYZ%}Z]$No]^%!l^!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%$_XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$No<%lO%$z#t%$}WOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h<%lO%$z#t%%lOY#t#t%%oRO;'S%$z;'S;=`%%x;=`O%$z#t%%{XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l%$z<%lO%$z#t%&kP;=`<%l%$z*Q%&sZ'f&jOY$HTYZ$J}Z]$HT]^$J]^!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q%'iXOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$HT<%lO%$z*Y%(aW$WpY#t)ZW'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^*Y%(|P;=`<%l$GZ*S%)WZ(pQ'f&jOY%)PYZ$FlZr%)Prs$HTs!`%)P!`!a%)y!a#O%)P#O#P$Ib#P;'S%)P;'S;=`%*n<%lO%)P*S%*UW$WpY#t(pQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O*S%*qP;=`<%l%)P*[%+RY$WpY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e*[%+tP;=`<%l$Ej7V%,U^)ZW(pQ%[!b!f,g'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!_$Ej!_!`%-Q!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%-]]!g-y)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%.c]%]!b!b,g)ZW(pQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%/[!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%/mY%]!b!b,g$WpY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e)j%0hYY#t)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%1c[)j!c)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%2f]%]!b)ZW(pQ!d,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`%3_!`!a%4[!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%3lY%]!b!b,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%4i[)ZW(pQ%[!b!f,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%5jY(uP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z%6ib)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e7Z%8Qb)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e5P%9cW)ZW(o/]'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^2T%:UW(pQ)Y,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O3o%:yZ!V-y)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox!}$e!}#O%;l#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%;wY)PP)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e4e%<la'f&jOY%=qYZ%>[Z]%=q]^%?Z^!Q%=q!Q![%?w![!w%=q!w!x%AX!x#O%=q#O#P%H_#P#i%=q#i#j%Ds#j#l%=q#l#m%IR#m;'S%=q;'S;=`%Kt<%lO%=q&t%=xUXY'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4e%>e[XY(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4e%?bVXY'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@OWXY'f&jOY%}Z!Q%}!Q![%@h![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@oWXY'f&jOY%}Z!Q%}!Q![%=q![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%A^['f&jOY%}Z!Q%}!Q![%BS![!c%}!c!i%BS!i#O%}#O#P&f#P#T%}#T#Z%BS#Z;'S%};'S;=`'r<%lO%}&t%BX['f&jOY%}Z!Q%}!Q![%B}![!c%}!c!i%B}!i#O%}#O#P&f#P#T%}#T#Z%B}#Z;'S%};'S;=`'r<%lO%}&t%CS['f&jOY%}Z!Q%}!Q![%Cx![!c%}!c!i%Cx!i#O%}#O#P&f#P#T%}#T#Z%Cx#Z;'S%};'S;=`'r<%lO%}&t%C}['f&jOY%}Z!Q%}!Q![%Ds![!c%}!c!i%Ds!i#O%}#O#P&f#P#T%}#T#Z%Ds#Z;'S%};'S;=`'r<%lO%}&t%Dx['f&jOY%}Z!Q%}!Q![%En![!c%}!c!i%En!i#O%}#O#P&f#P#T%}#T#Z%En#Z;'S%};'S;=`'r<%lO%}&t%Es['f&jOY%}Z!Q%}!Q![%Fi![!c%}!c!i%Fi!i#O%}#O#P&f#P#T%}#T#Z%Fi#Z;'S%};'S;=`'r<%lO%}&t%Fn['f&jOY%}Z!Q%}!Q![%Gd![!c%}!c!i%Gd!i#O%}#O#P&f#P#T%}#T#Z%Gd#Z;'S%};'S;=`'r<%lO%}&t%Gi['f&jOY%}Z!Q%}!Q![%=q![!c%}!c!i%=q!i#O%}#O#P&f#P#T%}#T#Z%=q#Z;'S%};'S;=`'r<%lO%}&t%HfXXY'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%IW['f&jOY%}Z!Q%}!Q![%I|![!c%}!c!i%I|!i#O%}#O#P&f#P#T%}#T#Z%I|#Z;'S%};'S;=`'r<%lO%}&t%JR['f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KO[XY'f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KwP;=`<%l%=q2a%LVZ!W,V)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P#Q%Lx#Q;'S$e;'S;=`(u<%lO$e'Y%MTY)]d)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%NQ[)ZW(pQ%[!b'f&j!_,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z& Vd)ZW(yS(pQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q!Y%6Y!Y!Z%7q!Z![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e2]&!pY!T,g)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o&#m^)ZW(pQ%[!b'f&j!^,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P#p$e#p#q&$i#q;'S$e;'S;=`(u<%lO$e3o&$vY)T,g%^!b)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V&%qY!Ua)ZW(pQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e(]&&nc)ZW(pQ%[!b'RP'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&(Sc)ZW(pQ'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&)jb)ZW(pQdT'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![&)_![!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e",tokenizers:[Rw,Uw,0,1,2,3,4,5,6,7,8,9],topRules:{Program:[0,307]},dynamicPrecedences:{87:1,94:1,119:1,184:1,187:-10,240:-10,241:1,244:-1,246:-10,247:1,262:-1,267:2,268:2,306:-10,365:3,417:1,418:3,419:1,420:1},specialized:[{term:356,get:n=>Yw[n]||-1},{term:32,get:n=>zw[n]||-1},{term:66,get:n=>Cw[n]||-1},{term:363,get:n=>Aw[n]||-1}],tokenPrec:24891});let wh;wh??(wh=new qt("intro",!1));wh.loadData({version:0,timeEvents:[],seed:3965412899});const Vw=wh;new De("#14adec"),new De("#004b6b"),new De("#002535");new De("#dc1f65"),new De("#720029"),new De("#370E1D");const B={bg:"#24211d",bgDark:"#0f0d0c",bgDarker:"#050404",stroke:"#66615c",text:"#ccccccff",red:"#ef5350",hardRed:"#FC1713",green:"#4AC34A",blue:"#2196f3",radius:8},Zw="/Alhambra-864aa828.png",Vi="/ceig24-ceb9ef80.svg",Zs=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*W("Intro");const e=U(),t=U(),i=U(),s=U(),r=U();n.add($(Re,{ref:s,src:Zw})),n.add($(Re,{ref:r,src:Vi})),s().absolutePosition(new b(1120,700)),s().rotation(-25),s().opacity(0),r().opacity(0),r().absolutePosition(new b(1760,1010)),r().absoluteScale(new b(.75,.75)),n.add($(A,{ref:e,direction:"column",width:960,gap:40,layout:!0,children:[$(ae,{ref:t,fontSize:100,fill:B.text}),$(ae,{ref:i,fontSize:50,fill:B.text})]})),e().absolutePosition(new b(540,270)),yield*z(s().opacity(1,.3),r().opacity(1,.3),t().text(`
Virtualized Point 
Cloud Rendering`,.4,Ja),i().text(`Jos A. Collado
Alfonso Lpez
Juan M. Jurado
J. Roberto Jimnez`,.5,Ja)),yield*W("Waiting")});Zs.name="intro";Vw.attach(Zs.meta);Zs.onReplaced??(Zs.onReplaced=new $t(Zs.config));let xh;xh??(xh=new qt("Problema",!1));xh.loadData({version:0,timeEvents:[],seed:382871484});const _w=xh,ue=Oy(ae,{fill:B.text,fontFamily:"JetBrains Mono",fontWeight:700,height:40,lineHeight:48,fontSize:48});class Si extends le{constructor(e){super({...e}),this.txtGPU=U(),this.txtVram=U(),this.root=U(),this.add($(A,{ref:this.root,direction:"column",gap:20,width:200,alignItems:"center",layout:!0,children:[$(zi,{icon:"bi:gpu-card",size:90,color:e.Color}),$(ae,{ref:this.txtGPU,text:e.GPUName,opacity:1,height:30,fill:B.text,fontSize:35}),$(ae,{ref:this.txtVram,text:e.Vram,opacity:1,height:30,fill:B.text,fontSize:35})]}))}*appear(e){yield*z(this.txtGPU().opacity(1,e),this.txtVram().opacity(1,e))}}const qw="/zoomOut-3b0dc565.mp4",_s=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U(),t=U();n.add($(pe,{cache:!0,ref:e,width:"40%",height:"40%",fill:"#e13238",radius:40,smoothCorners:!0,children:$(ae,{ref:t,fontSize:110,compositeOperation:"destination-out"})})),yield*z(e().size.x("60%",.6),t().text(`Introduccin
al problema`,.5)),yield*W("Showing point");const i=U(),s=U();n.add($(vs,{ref:s,width:150,height:150,fill:B.text,opacity:0})),n.add($(Re,{ref:i,src:Vi,opacity:0,scale:.75})),i().absolutePosition(new b(1760,1010));const r=U();n.add($(ae,{ref:r,fontSize:50,fill:B.text,text:"Introduccin al problema",opacity:0,position:[-500,-450]})),yield*z(e().opacity(0,.2),r().opacity(1,.2),s().opacity(1,.3)),yield*W("Showing position"),e().remove(),t().remove();const o=U(),a=U(),l=U(),h=U(),c=U();n.add($(A,{ref:o,direction:"column",width:960,height:500,position:[500,0],justifyContent:"center",alignSelf:"center",layout:!0,children:[$(ue,{ref:a,alignContent:"center"}),$(ue,{ref:l,scale:0,height:0,text:()=>`X = ${(s().position.x()+250).toFixed(2)} 
Y = ${Math.abs(s().position.y()).toFixed(2)}
Z = ${(s().width()-150).toFixed(2)}`}),$(ue,{ref:h,height:0,alignContent:"center"}),$(ue,{ref:c,height:0,opacity:0,alignContent:"center",text:()=>`${s().fill()}`})]})),yield*z(s().position(new b(-250,0),.5),a().text("Posicin",.3)),yield*W("Moving point"),yield*Je(.4,z(l().scale(1,.1),l().height(20,.1),o().gap(20,.3)),Je(.55,s().position(new b(-350,0),.6),s().position(new b(-350,-100),.6),s().position(new b(-250,-100),.6),s().position(new b(-250,0),.6))),yield*W("Showing RGB"),yield*Je(.4,z(l().opacity(0,.4)),z(l().scale(0,.1),l().height(0,.1),h().text("Color",.2))),yield*W("Changing RGB"),yield*Je(.2,z(c().opacity(1,.2),c().height(100,.3)),s().fill("#c98f4dff",1)),yield*W("Hiding RGB"),yield*Je(.2,z(c().opacity(0,.2),c().height(0,.3))),yield*W("Show cubes"),l().remove(),c().remove();const u=U(),d=U();o().add($(A,{ref:u,direction:"row",gap:40})),o().add($(A,{ref:d,direction:"row",gap:40}));const g=[],m=[],v=["X","Y","Z"],w=["R","G","B"];u().add(ft(3).map(oe=>$(pe,{ref:So(g,oe),width:0,height:0,fill:B.blue,radius:10,justifyContent:"center",alignSelf:"center",children:$(ae,{text:v[oe],opacity:0})}))),d().add(ft(3).map(oe=>$(pe,{ref:So(m,oe),width:0,height:0,fill:B.blue,radius:10,justifyContent:"center",alignSelf:"center",children:$(ae,{text:w[oe],opacity:0})}))),u().moveDown(),yield*Je(.3,z(h().height(50,.2),...g.map(oe=>oe.size(new b(50,50),.4)),...m.map(oe=>oe.size(new b(50,50),.4))),z(...g.map(oe=>oe.findFirst(Lt(ae)).opacity(1,.3)),...m.map(oe=>oe.findFirst(Lt(ae)).opacity(1,.3)))),yield*W("Show bytes");const X=U(),R=U();u().add($(ae,{ref:X,fill:B.text})),d().add($(ae,{ref:R,fill:B.text})),yield*z(X().text("=> 12 bytes",.3),R().text("=> 12 bytes",.3)),yield*W("Reduce color size"),yield*z(m[0].opacity(0,.5),m[2].opacity(0,.5),R().text("=> 3 bytes",.6),m[0].size(new b(25,50),.5),m[2].size(new b(25,50),.5),m[1].size(new b(100,50),.5),m[1].findFirst(Lt(ae)).text("RGB",.5)),yield*W("Show point size"),yield*z(...m.map(oe=>oe.opacity(0,.3)),...g.map(oe=>oe.opacity(0,.3)),...m.map(oe=>oe.size(0,.3)),...g.map(oe=>oe.size(0,.3)),X().text("=> 15 bytes",.5),X().fontSize(70,.3),R().text("",.4),h().opacity(0,.3),h().size(0,.3),o().gap(0,.5),a().opacity(0,.4)),yield*W("Beginning zoom out"),o().remove();const _=Ze(1),C=Ze(()=>_()*15/1024/1024/1024),D=U(),Z=U();n.add($(kt,{ref:D,src:qw,opacity:0,scale:.8,playbackRate:1})),n.add($(ae,{fill:B.text,ref:Z,text:()=>`${_().toFixed(0)} puntos = ${C().toFixed(8)} GiB`,y:450,fontSize:60,opacity:0})),D().play(),yield*z(s().scale(0,.7).do(()=>s().remove()),s().position(new b(63,0),.6),Je(.58,D().opacity(1,1),_(1e9,4)),Z().opacity(1,.4)),D().pause(),yield*W("GPU comparison");const L=U(),G=U(),J=U();n.add($(A,{ref:o,direction:"column",gap:70,opacity:0,height:800,x:0,y:30,layout:!0,children:[$(A,{ref:L,direction:"row",gap:30,opacity:1,wrap:"wrap",layout:!0}),$(A,{ref:G,direction:"row",gap:30,opacity:1,layout:!0}),$(A,{ref:J,direction:"row",gap:30,opacity:1,layout:!0})]}));const re=["RTX 3060","RTX 3070","RTX 3080","RTX 3090","RTX 4060","RTX 4070","RTX 4080","RTX 4090"],ce=[12,8,10,24,8,12,16,24],fe=["RX 7600","RX 7700XT","RX 7800XT","RX 7900XT","RX 7950XT"],Xe=[8,12,16,20,24],Pe=["A380","A750","A770"],ke=[6,8,16];L().add(re.map((oe,F)=>$(Si,{GPUName:oe,Vram:ce[F]+"GiB",Color:B.green}))),G().add(fe.map((oe,F)=>$(Si,{GPUName:oe,Vram:Xe[F]+"GiB",Color:B.red}))),J().add(Pe.map((oe,F)=>$(Si,{GPUName:oe,Vram:ke[F]+"GiB",Color:B.blue}))),yield*He(D().opacity(0,.5),z(o().opacity(1,.7))),yield*W("Remove low VRAM GPUs"),L().findAll(Lt(Si)).map((oe,F)=>ti(oe.opacity(C()<ce[F]?1:.4,.5))),G().findAll(Lt(Si)).map((oe,F)=>ti(oe.opacity(C()<Xe[F]?1:.4,.5))),J().findAll(Lt(Si)).map((oe,F)=>ti(oe.opacity(C()<ke[F]?1:.4,.5))),_(1e9),yield*Gi(.7),yield*W("Increase VRAM requirements"),yield gs(()=>{L().findAll(Lt(Si)).map((oe,F)=>C()<ce[F]&&ti(oe.opacity(.4,.5))),G().findAll(Lt(Si)).map((oe,F)=>C()<Xe[F]&&ti(oe.opacity(.4,.5))),J().findAll(Lt(Si)).map((oe,F)=>C()<ke[F]&&ti(oe.opacity(.4,.5)))}),yield*_(2e9,2),yield*W("Ending")});_s.name="Problema";_w.attach(_s.meta);_s.onReplaced??(_s.onReplaced=new $t(_s.config));let $h;$h??($h=new qt("Objetivos",!1));$h.loadData({version:0,timeEvents:[],seed:3793443331});const Mw=$h,qs=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U(),t=U();n.add($(pe,{cache:!0,ref:e,width:"40%",height:"40%",fill:"#25c281",radius:40,smoothCorners:!0,children:$(ae,{ref:t,fontSize:110,compositeOperation:"destination-out"})})),yield*z(e().size.x("60%",.6),t().text("Objetivos",.5)),yield*W("Hide title");const i=U();n.add($(Re,{ref:i,src:Vi})),i().opacity(0),i().absolutePosition(new b(1760,1010)),i().absoluteScale(new b(.75,.75));const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:"Objetivos",opacity:0,position:[-700,-450]})),yield*z(e().size.x(0,.4),s().opacity(1,.4)),e().remove(),t().remove(),yield*W("First objective");const r=U(),o=U(),a=U(),l=U(),h=U();n.add($(A,{ref:r,width:1300,height:800,direction:"column",alignItems:"center",justifyContent:"center",layout:!0})),r().add($(ue,{ref:o,height:0})),yield*o().text("Ms puntos != mayor uso de memoria",1),yield*W("Second objective"),r().add($(ue,{ref:a,height:0})),yield*z(a().text("Sin una prdida de calidad perceptible",1),o().height(180,.3)),yield*W("Third objective"),r().add($(ue,{ref:l,height:0})),yield*z(l().text("Sin necesitar un largo preprocesamiento",1),a().height(180,.3)),yield*W("Fourth objective"),r().add($(ue,{ref:h,height:0})),yield*z(h().text("Manteniendo la usabilidad en tiempo real",1),l().height(180,.3)),yield*W("Ending")});qs.name="Objetivos";Mw.attach(qs.meta);qs.onReplaced??(qs.onReplaced=new $t(qs.config));let Sh;Sh??(Sh=new qt("Metodologia",!1));Sh.loadData({version:0,timeEvents:[],seed:3825535964});const Dw=Sh,Ew="/Esquema general tema osc-eccd2817.svg",Ms=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U(),t=U();n.add($(pe,{cache:!0,ref:e,width:"40%",height:"40%",fill:B.blue,radius:40,smoothCorners:!0,children:$(ae,{ref:t,fontSize:110,compositeOperation:"destination-out"})})),yield*z(e().size.x("60%",.6),t().text("Metodologa",.5)),yield*W("Hide Title");const i=U();n.add($(Re,{ref:i,src:Vi})),i().opacity(0),i().absolutePosition(new b(1760,1010)),i().absoluteScale(new b(.75,.75));const s=U();n.add($(Re,{ref:s,src:Ew,width:1900,opacity:0}));const r=U();n.add($(ae,{ref:r,fontSize:50,fill:B.text,text:t().text,opacity:0,position:[-650,-450]})),yield*z(e().size.x(0,.4).do(()=>(e().remove(),t().remove())),He(r().opacity(1,.4),s().opacity(1,.5))),e().remove(),t().remove(),yield*W("Waiting")});Ms.name="Metodologia";Dw.attach(Ms.meta);Ms.onReplaced??(Ms.onReplaced=new $t(Ms.config));let Qh;Qh??(Qh=new qt("Meshlets",!1));Qh.loadData({version:0,timeEvents:[],seed:221641736});const Lw=Qh,Iw="/MeshletTriangulos-a98c0383.png",Bw="/MeshletPuntos-4f98bc12.png",Nw="/NubeCuadrada-5efcce96.png";class Jt{constructor(e){af(this,"order");this.order=e}indexToPoint(e){if(!Number.isInteger(e))throw new Error("Index must be an integer");if(e<0)throw new Error("Index represents a position in an array and must be positive");const t=2**this.order,i=t**2;if(e>=i)throw new Error("The index is above the supported amount of space the current order support. Reduce the index or increase the order.");const s={x:0,y:0};let r,o,a=1,l=e;for(;a<t;)r=Jt.getRx(l),o=Jt.getRy(l,r),Jt.rotatePoint(s,r,o,a),Jt.movePoint(s,r,o,a),l=Math.trunc(l/4),a=a*2;return s}static getRx(e){if(e<0)throw new Error("Index must be above 0");return 1&Math.trunc(e/2)}static getRy(e,t){if(e<0)throw new Error("Index must be above 0");return 1&(e^t)}static movePoint(e,t,i,s){e.x+=s*t,e.y+=s*i}pointToIndex(e){const t=2**this.order;if(e.x>=t||e.y>=t)throw new Error("The point must be in range with the order");let i,s,r=0;for(let o=t/2;o>0;o=Math.floor(o/2))i=Jt.getRxFromPoint(e,o),s=Jt.getRyFromPoint(e,o),r+=Jt.getNewIndexFromRows(o,i,s),Jt.rotatePoint(e,i,s,t);return r}static getNewIndexFromRows(e,t,i){return e*e*(3*t^i)}static getRxFromPoint(e,t){return Jt.getPointValueFromNumber(e.x,t)}static getRyFromPoint(e,t){return Jt.getPointValueFromNumber(e.y,t)}static getPointValueFromNumber(e,t){return(e&t)>0?1:0}static rotatePoint(e,t,i,s){if(i===0){if(t===1){if(e.x=s-1-e.x,e.y=s-1-e.y,e.x<0)throw Error("Number of columns must be at leat 1 above x");if(e.y<0)throw Error("Number of columns must be at leat 1 above y")}[e.x,e.y]=[e.y,e.x]}}offsetPoint(e,t){if(t<0)throw new Error("Projecting a point must be on a positive width");const i=Math.pow(2,this.order),s=t/i;return{x:e.x*s+s/2,y:e.y*s+s/2}}deoffsetPoint(e,t){if(t<0)throw new Error("Projecting a point must be on a positive width");const i=Math.pow(2,this.order),s=t/i;return{x:Math.trunc(e.x/s),y:Math.trunc(e.y/s)}}}const Ds=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.4);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:B.green,radius:40,smoothCorners:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Meshlets",.5)),yield*W("What is a meshlet?");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,position:[-650,-450]}));const r=U(),o=U(),a=U(),l=U();n.add($(A,{ref:a,direction:"column",alignItems:"center",layout:!0,children:[$(ue,{ref:r,height:0}),$(ue,{ref:o,height:0}),$(A,{ref:l,direction:"row",alignItems:"center",layout:!0})]})),yield*He(t().size.x(0,.4).do(()=>(t().remove(),i().remove())),z(s().text("Qu es un meshlet?",.7),s().position.x(-600,.7),s().opacity(1,.5),r().text("Agrupacin de geometra espacialmente cercana entre s",.8))),yield*W("Meshlet size"),yield*z(r().height(90,.4),o().text('Tamao "arbitrario"',.5)),yield*W("Adding info to meshlet size"),yield*z(r().height(90,.4),o().text('Tamao "arbitrario" y esttico',.5));const h=U(),c=U();l().add($(Re,{ref:h,src:Iw,opacity:0,height:0})),l().add($(Re,{ref:c,src:Bw,opacity:0,height:0})),yield*W("Show triangle meshlet"),yield*z(r().height(0,.3),r().opacity(0,.4).do(()=>r().remove()),o().opacity(0,.4).do(()=>r().remove()),h().opacity(1,.6),h().height(512,.3)),yield*W("Show point meshlet"),yield*z(c().opacity(1,.6),c().height(1050,.3)),yield*W("How do we generate a meshlet?"),yield*z(a().opacity(0,.6).do(()=>a().remove()),s().text("Cmo se genera un meshlet?",.7),s().x(-500,.5)),yield*W("Without connectivity");const u=U();n.add($(ue,{ref:u})),yield*u().text("Una nube de puntos no tiene conectividad",.7),yield*W("Show point cloud img");const d=U();n.add($(Re,{ref:d,src:Nw,opacity:0,size:800,y:40})),yield*He(u().text("",.5).do(()=>u().remove()),d().opacity(1,.5)),yield*W("Show grid");const g=U(),m=16,v=d().width()/m;d().add($(zn,{ref:g,start:0,end:0,width:d().width,height:d().height,spacing:v})),yield*z(g().end(.5,.5).to(1,1),g().start(.5,.5).to(0,1)),yield*W("Show trivial curve");const w=U();let X=d().width()/m,R=d().topLeft().x+25,_=d().topLeft().y-15,C=new Array;for(let F=0;F<m;F++){for(let xe=0;xe<m-1;xe++)C.push(new b(R,_)),F%2==0?_+=X:_-=X;C.push(new b(R,_)),R+=X}d().add($(cn,{ref:w,lineWidth:4,stroke:"#e13238",smoothness:0,size:504,points:C,rotation:180,end:0})),yield*w().end(1,3),yield*W("Show morton curve");const D=U();d().add($(Ho,{ref:D,position:d().bottomRight(),scale:1.565,lineWidth:2,stroke:"#e13238",start:.5,end:.5,rotation:180,data:"m17 42v1h30.684l-31.037 31.062 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35352 31.74-31.77h30.48l-31.037 31.062 0.35352 0.35352v0.5h28.811l-92.75 30.945 0.1582 0.47461v0.5h30.684l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.47461 0.1582 31.775-95.412h30.324l-31.037 31.062 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35352 31.74-31.77h30.48l-31.037 31.062 0.35352 0.35352v0.5h28.811l-92.75 30.945 0.1582 0.47461v0.5h30.684l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35352v0.5h24.867l-216.28 30.922 0.07031 0.49414v0.5h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35156 31.744-31.771h30.477l-31.037 31.066 0.35352 0.35352v0.5h27.217l-92.75 30.943 0.31641 0.94921 1.4355-0.47851v0.50391h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.47461 0.1582 31.777-95.416h30.322l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35156 31.744-31.771h30.477l-31.037 31.066 0.35352 0.35352v0.5h27.217l-92.75 30.943 0.3164 0.94921 1.4356-0.47851v0.50391h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.4961 0.0703 31.828-223h30.25l-31.037 31.062 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35352v0.5h28.811l-92.75 30.945 0.1582 0.47462v0.5h30.684l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.47461 0.1582 31.777-95.412h30.322l-31.037 31.062 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35352v0.5h28.811l-92.75 30.945 0.1582 0.47461v0.5h30.684l-31.037 31.064 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35352v0.5h24.867l-216.28 30.922 0.0703 0.49414v0.5h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35156 31.744-31.771h30.477l-31.037 31.066 0.35352 0.35352v0.5h27.217l-92.75 30.943 0.3164 0.94921 1.4356-0.47851v0.50391h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.50196l0.47461 0.15821 31.777-95.414h30.322l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35156 31.744-31.771h30.477l-31.037 31.066 0.35352 0.35352v0.5h27.217l-92.75 30.943 0.3164 0.94921 1.4356-0.47851v0.50391h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h16.869l-463.37 30.916 0.0332 0.5v0.5h30.684l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35351v0.5h28.811l-92.75 30.945 0.1582 0.47266v0.50195h30.684l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.47461 0.15821 31.775-95.414h30.324l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35351v0.5h28.811l-92.75 30.945 0.1582 0.47266v0.50195h30.684l-31.037 31.066 0.35352 0.35351v0.49805h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.062 0.35352 0.35352v0.50195h24.867l-216.28 30.922 0.07031 0.49414v0.5h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h28.811l-92.75 30.943 0.1582 0.47461v0.5h30.684l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.47461 0.15821 31.777-95.412h30.322l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h28.811l-92.75 30.943 0.1582 0.47461v0.5h30.684l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.4961 0.0703 31.828-223h30.25l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35351v0.5h28.811l-92.75 30.945 0.1582 0.47266v0.50195h30.684l-31.037 31.062 0.35352 0.35352v0.50195h31.891v-0.50195l0.35352 0.35351 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35352v0.50195h31.891v-0.5l0.47461 0.15821 31.775-95.414h30.324l-31.037 31.064 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.771h30.477l-31.037 31.064 0.35352 0.35351v0.5h28.811l-92.75 30.945 0.1582 0.47266v0.50195h30.684l-31.037 31.062 0.35352 0.35352v0.50195h31.891v-0.50195l0.35352 0.35351 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35352v0.50195h24.867l-216.28 30.922 0.0703 0.49414v0.5h30.684l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h28.811l-92.75 30.943 0.1582 0.47461v0.5h30.684l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.47461 0.15821 31.777-95.412h30.322l-31.037 31.066 0.35352 0.35352v0.5h31.891v-0.5l0.35352 0.35351 31.744-31.773h30.477l-31.037 31.066 0.35352 0.35352v0.5h28.811l-92.75 30.943 0.1582 0.47461v0.5h30.684l-31.037 31.062 0.35352 0.35351v0.5h31.891v-0.5l0.35352 0.35352 31.744-31.77h30.477l-31.037 31.062 0.35352 0.85351h31.891v-1h-30.684l31.037-31.062-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35351v-0.5h-28.811l92.75-30.943-0.15821-0.47461v-0.5h-30.684l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.47461-0.15821-31.777 95.412h-30.322l31.037-31.062-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35351v-0.5h-28.811l92.75-30.943-0.15821-0.47461v-0.5h-30.684l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-24.854l216.27-30.92-0.0703-0.49415v-0.50195h-30.686l31.039-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.746 31.771h-30.477l31.039-31.064-0.35352-0.35352v-0.5h-28.816l92.756-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.47461-0.1582-31.777 95.414h-30.324l31.039-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.746 31.771h-30.477l31.039-31.064-0.35352-0.35352v-0.5h-28.816l92.756-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.49609-0.0723-31.828 223h-30.25l31.037-31.062-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35351v-0.5h-28.811l92.75-30.943-0.15821-0.47461v-0.5h-30.684l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.47461-0.15821-31.777 95.412h-30.322l31.037-31.062-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35351v-0.5h-28.811l92.75-30.943-0.15821-0.47461v-0.5h-30.684l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-24.854l216.27-30.92-0.0703-0.49415v-0.50195h-30.686l31.039-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.771h-30.475l31.035-31.064-0.35352-0.35352v-0.5h-28.816l92.756-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.47461-0.1582-31.777 95.414h-30.322l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-28.816l92.756-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35345-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-16.898l463.37-30.916 0.0332-2e-3 -0.0332-0.5v-0.49804h-30.684l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-30.404l92.668-30.918h1.5176v-1h-30.686l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.773h-30.479l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.47461-0.1582-31.777 95.416h-30.322l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-30.404l92.668-30.918h1.5176v-1h-30.686l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.773h-30.479l31.039-31.066-0.35352-0.35352v-0.5h-24.867l216.28-30.922-0.0703-0.49414v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-28.811l92.75-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.5l-0.47461-0.1582-31.777 95.412h-30.322l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-28.811l92.75-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.77h-30.477l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.5l-0.49609-0.07031-31.828 223h-30.25l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-30.404l92.668-30.918h1.5176v-1h-30.686l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.773h-30.479l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.47461-0.1582-31.777 95.416h-30.322l31.037-31.066-0.35352-0.35351v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.066-0.35352-0.35351v-0.5h-30.404l92.668-30.918h1.5176v-1h-30.686l31.039-31.066-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35351-31.744 31.773h-30.479l31.039-31.066-0.35352-0.35352v-0.5h-24.867l216.28-30.922-0.0703-0.49414v-0.5h-30.684l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-28.811l92.75-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.49609l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.49609l-0.47461-0.1582-31.777 95.416h-30.322l31.037-31.064-0.35352-0.35352v-0.5h-31.891v0.5l-0.35352-0.35352-31.744 31.771h-30.477l31.037-31.064-0.35352-0.35352v-0.5h-28.811l92.75-30.945-0.15821-0.47461v-0.5h-30.684l31.037-31.062-0.35352-0.35352v-0.5h-31.891v0.49609l-0.35352-0.35352-31.744 31.773h-30.477l31.037-31.062-0.35352-0.35352v-0.5z"})),yield*Je(.2,w().end(0,1.5).do(()=>w().remove()),D().start(0,2)),yield*W("Introduce space filling curve"),n.add($(A,{ref:a,x:480,layout:!0,children:$(ue,{ref:u,height:0})})),yield*z(d().x(-400,.7),u().text("Curvas de llenado de espacio",.9)),yield*W("Morton curve"),yield*z(u().text("Curva de morton",.5)),yield*W("Hilbert curve"),yield*z(u().text("Curva de Hilbert",.5),D().end(1,.5),D().data("m 4,3.3425 h 32 v 32 H 4 v 64 h 32 v -32 h 32 v 32 h 32 v -64 H 68 v -32 h 64 v 32 h 32 v -32 h 64 v 32 h -32 v 32 h 32 v 32 h -64 v -32 h -32 v 96 h 32 v -32 h 64 v 32 h -32 v 32 h 32 v 32 h -64 v -32 h -32 v 32 H 68 v -32 h 32 v -64 H 68 v 32 H 36 v -32 H 4 v 64 h 32 v 32 H 4 v 64 h 32 v -32 h 64 v 32 H 68 v 32 h 32 v 32 H 36 v -32 H 4 v 64 h 32 v 32 H 4 v 64 h 32 v -32 h 32 v 32 h 32 v -64 H 68 v -32 h 96 v 32 h -32 v 64 h 32 v -32 h 32 v 32 h 32 v -64 h -32 v -32 h 32 v -64 h -32 v 32 h -64 v -32 h 32 v -32 h -32 v -32 h 64 v 32 h 32 v -32 h 32 v 32 h 32 v -32 h 64 v 32 h -32 v 32 h 32 v 32 h -64 v -32 h -32 v 64 h 32 v 32 h -32 v 64 h 32 v -32 h 32 v 32 h 32 v -64 h -32 v -32 h 96 v 32 h -32 v 64 h 32 v -32 h 32 v 32 h 32 v -64 h -32 v -32 h 32 v -64 h -32 v 32 h -64 v -32 h 32 v -32 h -32 v -32 h 64 v 32 h 32 v -64 h -32 v -32 h 32 v -64 h -32 v 32 h -32 v -32 h -32 v 64 h 32 v 32 h -64 v -32 h -32 v 32 h -64 v -32 h 32 v -32 h -32 v -32 h 64 v 32 h 32 v -96 h -32 v 32 h -64 v -32 h 32 v -32 h -32 v -32 h 64 v 32 h 32 v -32 h 64 v 32 h -32 v 64 h 32 v -32 h 32 v 32 h 32 v -64 h -32 v -32 h 32",2),D().position.add([-18,-60],1.5)),yield*W("Show ids");const Z=new Jt(4),L=U();n.add($(A,{ref:L,width:d().width()-50,height:d().height()-50,opacity:0,position:d().position()}));for(let F=0;F<m*m;F++){let xe=Z.indexToPoint(F);L().add($(ae,{position:new b(xe.x*X-L().width()/2,-xe.y*X+L().height()/2),text:F.toString(),fontSize:22,fill:B.hardRed}))}yield*z(L().opacity(1,.75),D().stroke(B.bgDark,.5)),yield*W("Show buffer reorder");const G=L().findAll(Lt(ae)),J=Tt();L().add($(A,{zIndex:-1,children:ft(32).map(F=>$(pe,{ref:J,fill:B.blue,position:new b(F*56-468,0)}))})),yield*z(d().opacity(0,1).do(()=>d().remove()),u().opacity(0,1).do(()=>a().remove()),He(Je(.001,...G.map((F,xe)=>xe>=32&&F.opacity(0,.1).do(()=>F.remove()))),Je(.01,...G.slice(0,32).map((F,xe)=>z(F.position(new b(xe*56-468,0),.2),F.fontSize(35,.3)))),Je(.01,...J.map((F,xe)=>z(F.width(55,.1),F.height(55,.1),G[xe].fill(B.bgDark,.15)))))),yield*W("Slice buffer");const re=[new b(0,-250),new b(300,-250),new b(600,-250),new b(900,-250),new b(-900,250),new b(-600,250),new b(-300,250),new b(0,250)],ce=[new b(-785,-130),new b(-260,-130),new b(260,-130),new b(785,-130),new b(-785,210),new b(-260,210),new b(260,210),new b(785,210)],fe=Tt(),Xe=U();n.add($(A,{ref:Xe,children:ft(8).map(F=>$(ue,{ref:fe,text:"Meshlet "+F,position:ce[F],opacity:0}))})),yield*z(Je(.02,...J.map((F,xe)=>F.position.add(re[Math.floor(xe/4)],.25))),Je(.02,...G.slice(0,32).map((F,xe)=>F.position.add(re[Math.floor(xe/4)],.25))),...fe.map(F=>F.opacity(1,.75))),yield*W("Show shuffling");const Pe=[3,0,-2,-1];yield*Je(.05,...G.slice(0,32).map((F,xe)=>F.text((xe+Pe[xe%4]).toString(),.2))),yield*W("AABBs");const ke=Tt(),oe=U();n.add($(A,{ref:oe,children:ft(8).map(F=>$(ue,{ref:ke,text:"AABB",position:fe[F].position,opacity:0}))})),ke.map((F,xe)=>F.position(F.position().addY(xe<4?60:-60))),yield*z(...ke.map(F=>F.opacity(1,.5))),yield*W("Waiting")});Ds.name="Meshlets";Lw.attach(Ds.meta);Ds.onReplaced??(Ds.onReplaced=new $t(Ds.config));let Xh;Xh??(Xh=new qt("LoD",!1));Xh.loadData({version:0,timeEvents:[{name:"Introduce penalization",targetTime:9.855079168099046}],seed:2854664297});const Fw=Xh;function*El(n,e){const t=yield gs(1/0,e);Fl().state!=ms.Presenting&&(yield*Qo(n)),yield*W(n),eO(t)}const Es=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:"#e13238",radius:40,smoothCorners:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Nivel de detalle",.5)),yield*W("Caracteristica 1");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,width:1e3,position:[-400,-450]}));const r=gr();n.add($(ae,{ref:r.useMeshlets,fontSize:50,fill:B.text,textAlign:"center"})),yield*z(t().opacity(0,.2).do(()=>t().remove()),s().opacity(1,.2),r.useMeshlets().text("Basado en el meshlet",.5)),yield*W("Caracteristica 2"),yield*z(t().opacity(0,.2).do(()=>t().remove()),s().opacity(1,.2),r.useMeshlets().text(`Basado en el meshlet
Continuo`,.5)),yield*W("Show frustrum culling");const o=gr(),a=U(),l=U();n.add($(A,{ref:l,direction:"row",textWrap:!0,textAlign:"center",alignItems:"center",layout:!0,children:[$(pe,{ref:o.frustrumRect,opacity:0,width:0,fill:B.red,radius:20,smoothCorners:!0,children:$(ae,{ref:r.frustrumText,children:"Frustrum culling"})}),$(rt,{ref:a,stroke:B.text,lineWidth:8,radius:40,endArrow:!0}),$(pe,{ref:o.LoDRect,opacity:0,width:0,radius:20,fill:B.blue,smoothCorners:!0,children:$(ae,{ref:r.LoDText,textWrap:!0,children:"Estimacin de puntos visibles"})})]})),yield*z(o.frustrumRect().opacity(1,.5),o.frustrumRect().width(400,.5),r.useMeshlets().text("",.5).do(()=>r.useMeshlets().remove())),yield*W("Show LoD"),yield*z(o.LoDRect().opacity(1,.5),o.LoDRect().width(400,.5),a().points([o.frustrumRect().position(),o.frustrumRect().position().addX(100),o.LoDRect().position(),o.LoDRect().position().addX(100)],.5),r.useMeshlets().text("",.5).do(()=>r.useMeshlets().remove())),yield*W("Focus on LoD"),yield*He(z(o.frustrumRect().opacity(0,.2),a().points([],.2),a().opacity(0,.2),o.frustrumRect().width(0,.5).do(()=>{o.frustrumRect().remove(),a().remove()}))),yield*W("Show AABB");const h=U();n.add($(zi,{ref:h,icon:"ph:cube-thin",opacity:0,scale:25})),yield*He(o.LoDRect().opacity(0,.7),z(s().text("Estimacin de puntos visibles",.5),h().opacity(1,.5))),yield*W("Show screen");const c=U();n.add($(zi,{ref:c,icon:"ic:round-monitor",opacity:0,position:[0,100]})),l().remove(),yield*z(c().opacity(1,.4),c().scale(70,.8)),yield*W("Show line"),n.add($(rt,{ref:a,stroke:B.red,lineWidth:8,radius:40,lineDash:[20,20],scale:()=>h().scale().x/25,position:h().position,lineCap:"round",points:[]})),yield*z(a().points([[-150,80],[150,-80]],.5),h().opacity(.25,.5)),yield*W("Show distance");const u=Ze(()=>a().topRight().addX(-a().middle().x).magnitude);n.add($(ue,{ref:r.distance,text:()=>"P = "+u().toFixed(0),opacity:0,position:()=>h().position().addY(230)}));const d=yield gs(1/0,()=>h().scale(12,.4).to(25,.4));yield*r.distance().opacity(1,.25),yield*W("Show code");const g=U();n.add($(zt,{ref:g,fontSize:32,offsetX:-1,x:115,opacity:0,code:"uint32_t numPoints;"})),yield*z(c().position.add([-400,0],.5),h().position.add([-400,0],.5)),yield*He(g().opacity(1,.5)),yield*W("Begin modifications"),n.add($(ue,{ref:r.numPointsUpdates,text:()=>"numPoints = "+u().toFixed(0),position:()=>g().middle().addY(400),opacity:0})),yield*z(g().code.edit(.5)`
uint32_t numPoints${cr(" = P;")}
`,r.numPointsUpdates().opacity(1,.5)),yield*W("Introduce multiplier");const m=Ze(30);n.add($(ue,{ref:r.multiplier,text:()=>"A = "+m().toFixed(0),position:()=>g().middle().addY(-400),opacity:0})),eO(d),yield*z(g().code.edit(.5)`
uint32_t numPoints = P${cr(" * A;")}
`,r.multiplier().opacity(1,.5),r.numPointsUpdates().text(()=>"numPoints = "+(u()*m()).toFixed(0),.5)),yield*W("Modify multiplier"),yield*El("Introduce penalization",()=>m(60,.4).wait(.2).to(30,.4));const v=Ze(()=>u()/55),w=Ze(2),X=Ze(()=>Math.pow(w(),2)/Math.pow(v(),2));n.add($(ue,{ref:r.meanExtent,text:()=>"meanExtent = "+w().toFixed(0),position:()=>g().middle().addY(-480),opacity:0})),n.add($(ue,{ref:r.E,text:()=>"E = "+X().toFixed(2),position:()=>g().middle().addY(-320),opacity:0})),n.add($(ue,{ref:r.extent,text:()=>"extent = "+v().toFixed(2),opacity:0,position:()=>h().position().addY(170)})),yield*He(g().code.prepend(.5)`float E = pow(meanExtent, 2)/pow(extent, 2);`,g().code.edit(.5)`float E = pow(meanExtent, 2)/pow(extent, 2);
uint32_t numPoints = P * A${cr(" * E;")}
`,z(r.meanExtent().opacity(1,.5),r.extent().opacity(1,.5),r.E().opacity(1,.5),r.numPointsUpdates().text(()=>"numPoints = "+(u()*m()*X()).toFixed(0),.5))),yield*W("System in work"),yield gs(1/0,()=>h().scale(15,.4).to(20,.4)),yield*Gi(1),yield*W("Clamps");const R=Ze(4096),_=Ze(()=>Math.min(X(),1)),C=Ze(()=>Math.min(u()*m()*X(),R()));yield*z(g().code.insert([1,0],`E = clamp(E, 0, 1);
`,.5),g().code.append(.5)`numPoints = clamp(numPoints, 0, meshletSize);`,r.E().text(()=>"E = "+_().toFixed(2),.5),r.extent().text("extent = "+v().toFixed(2),.5),r.numPointsUpdates().text(()=>"numPoints = "+C().toFixed(0),.5),m(40,.5)),yield*Gi(1),yield*W("Waiting")});Es.name="LoD";Fw.attach(Es.meta);Es.onReplaced??(Es.onReplaced=new $t(Es.config));let Ph;Ph??(Ph=new qt("MemoriaVirtual",!1));Ph.loadData({version:0,timeEvents:[{name:"GPU memory",targetTime:6.864068858572709},{name:"Ram to GPU",targetTime:9.530641804966153},{name:"Producer",targetTime:24.019299457129232},{name:"Consumers",targetTime:32.00355480231756}],seed:4224414702});const Gw=Ph;class Hw extends le{constructor(e){super({...e}),this.txt=U(),this.txtRam=U(),this.root=U(),this.add($(A,{ref:this.root,direction:"column",gap:20,width:200,alignItems:"center",opacity:1,layout:!0,children:[$(zi,{icon:"solar:ssd-round-bold",size:90,color:e.Color}),$(ae,{ref:this.txt,text:"SSD",opacity:1,height:30,fill:B.text,fontSize:35}),$(ae,{ref:this.txtRam,text:e.Capacity,opacity:1,height:30,fill:B.text,fontSize:35})]}))}*appear(e){yield*z(this.root().opacity(1,e))}}class Kw extends le{constructor(e){super({...e}),this.txt=U(),this.txtRam=U(),this.root=U(),this.add($(A,{ref:this.root,direction:"column",gap:20,width:200,alignItems:"center",opacity:1,layout:!0,children:[$(zi,{icon:"ph:memory",size:90,color:e.Color}),$(ae,{ref:this.txt,text:"RAM",opacity:1,height:30,fill:B.text,fontSize:35}),$(ae,{ref:this.txtRam,text:e.Ram,opacity:1,height:30,fill:B.text,fontSize:35})]}))}*appear(e){yield*z(this.root().opacity(1,e))}}class Iu extends A{constructor(e){super({...e}),this.txt=U(),this.root=U(),this.add($(A,{ref:this.root,direction:"column",gap:60,alignItems:"center",opacity:1,layout:!0,children:[$(zi,{icon:"octicon:file-binary",scale:6,color:e.Color}),$(ae,{ref:this.txt,text:e.Name,opacity:1,height:30,fill:B.text,fontSize:35})]}))}*appear(e){yield*z(this.root().opacity(1,e))}}var Jw=Object.defineProperty,e3=Object.getOwnPropertyDescriptor,ia=(n,e,t,i)=>{for(var s=i>1?void 0:i?e3(e,t):e,r=n.length-1,o;r>=0;r--)(o=n[r])&&(s=(i?o(e,t,s):o(s))||s);return i&&s&&Jw(e,t,s),s};class tn extends A{constructor(e){super({spawner:()=>this.pool.slice(0,this.values().length),...e}),this.boxArray=[],this.txtArray=[],this.textStyle={paddingTop:10,fontFamily:"JetBrains Mono",fill:B.text},this.pool=ft(16).map(t=>$(pe,{ref:So(this.boxArray,t),size:[this.boxWidth(),this.boxWidth()],y:-(this.values().length*(this.boxWidth()+this.boxGap())/2)+t*(this.boxWidth()+this.boxGap())+(this.boxWidth()+this.boxGap())/2,lineWidth:8,stroke:B.text,radius:new ei(8),smoothCorners:!0,cornerSharpness:.4,children:$(ae,{ref:So(this.txtArray,t),text:this.getValue(t).toString(),...this.textStyle})}))}getValue(e){return this.values()[e]==null?-1:this.values()[e]}*HighLight(e,t,i){yield*Ut(t,s=>{this.boxArray[e].stroke(De.lerp(this.boxArray[e].stroke(),new De(i),Bt(s)))})}*extraHighLight(e,t,i){yield*z(Ut(i,s=>{this.boxArray[e].stroke(De.lerp(this.boxArray[e].stroke(),new De(t),Bt(s)))}))}*removeBlur(e,t,i){yield*z(this.boxArray[e].shadowBlur(0,i))}*deHighLight(e,t,i){yield*Ut(t,s=>{this.boxArray[e].stroke(De.lerp(new De(i),new De("#242424"),Bt(s)))})}*Swap(e,t,i,s){i&&this.boxArray[e].moveUp(),yield*z(this.boxArray[e].position(this.boxArray[t].position(),s),this.boxArray[t].position(this.boxArray[e].position(),s)),i||this.boxArray[t].moveDown();let r=this.boxArray[e];this.boxArray[e]=this.boxArray[t],this.boxArray[t]=r}*Swapwith(e,t,i,s){i&&this.boxArray[e].moveUp(),yield*z(this.boxArray[e].position(this.boxArray[t].position(),s),this.boxArray[t].position(this.boxArray[e].position(),s)),i||this.boxArray[t].moveDown();let r=this.boxArray[e];this.boxArray[e]=this.boxArray[t],this.boxArray[t]=r;let o=this.values()[e];this.values()[e]=this.values()[t],this.values()[t]=o}}ia([E([]),j()],tn.prototype,"values",2);ia([E(100),j()],tn.prototype,"boxWidth",2);ia([E(100),j()],tn.prototype,"boxHeight",2);ia([E(15),j()],tn.prototype,"boxGap",2);class Ka extends A{constructor(e){e.width=0,super({...e}),this.txt=U(),this.rect1=U(),this.rect2=U(),this.add($(pe,{ref:this.rect1,fill:"Coral",size:[300,100],alignItems:"center",justifyContent:"center",radius:10,children:$(ue,{fill:B.bg,children:"Posicin"})})),this.add($(pe,{ref:this.rect2,fill:"SpringGreen",size:[300,100],alignItems:"center",justifyContent:"center",radius:10,children:$(ue,{fill:B.bg,children:"Color"})})),this.add($(ae,{ref:this.txt,text:e.Name,opacity:1,height:30,fill:B.text,fontSize:35}))}*slide(e,t){yield*z(this.rect1().width(e,t),this.rect2().width(e,t))}}class ir extends A{constructor(e){super({...e}),this.txt=U(),this.rect=U(),this.add($(pe,{ref:this.rect,width:"100%",radius:5,fill:e.Color,alignItems:"center",justifyContent:"center",textAlign:"center",clip:!0,children:$(ue,{ref:this.txt,text:e.Txt,fontSize:e.fontSize,fill:e.TxtColor})}))}*text(e,t){yield*this.txt().text(e,t)}}class Bu extends A{constructor(e){super({...e}),this.txt=U(),this.rect=U(),this.add($(zi,{ref:this.rect,icon:"ep:cpu",width:180,radius:5,fill:e.Color,alignItems:"center",justifyContent:"center",textAlign:"center",clip:!0,children:$(ue,{ref:this.txt,text:e.Txt,fontSize:e.fontSize})}))}*text(e,t){yield*this.txt().text(e,t)}}const Ls=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:"orange",radius:40,smoothCorners:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Memoria virtual",.5)),yield*W("Hide Title");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,position:[-900,-470],offsetX:-1}));const r=U(),o=gr();n.add($(A,{ref:r,opacity:1,direction:"column",textAlign:"center",layout:!0,children:[$(ue,{ref:o.first,height:50}),$(ue,{ref:o.second,height:0})]})),yield*z(t().size(0,.4).do(()=>t().remove()),s().opacity(1,.5)),yield*W("First"),yield*o.first().text("Se adapte a los recursos del sistema",.5),yield*W("Second"),yield*z(o.first().height(150,.3),o.second().height(50,.3),o.second().text("Invisible para el usuario",.5)),yield*W("Memory hierarchy"),yield*r().opacity(0,.4).do(()=>r().remove());const a=gr(),l=U(),h=U(),c=U();n.add($(A,{ref:r,opacity:0,textAlign:"center",direction:"column",alignContent:"space-between",gap:80,y:70,width:"90%",layout:!0,children:[$(A,{ref:a.first,direction:"row",alignItems:"center",layout:!0,children:$(Hw,{ref:l,Capacity:"1 TB"})}),$(A,{ref:a.second,direction:"row",alignItems:"center",layout:!0,children:$(Kw,{ref:h,Ram:"32 GB"})}),$(A,{ref:a.third,direction:"row",alignItems:"center",layout:!0,children:$(Si,{ref:c,GPUName:"RTX 3060",Vram:"12 GB"})})]})),yield*r().opacity(1,.5),yield*W("Show static/dynamic"),a.first().add($(ue,{ref:o.first})),a.second().add($(ue,{ref:o.second})),a.third().add($(ue,{ref:o.third})),yield*z(o.first().text(" => Esttico",.5),o.second().text(" => Dinmico",.5),o.third().text(" => Dinmico",.5)),yield*W("Disk files");const u=Tt();a.first().add($(Iu,{ref:u,Name:"Posicin",opacity:0})),a.first().add($(Iu,{ref:u,Name:"RGB",opacity:0})),yield*z(o.first().text("",.2),a.first().gap(230,.35),...u.map(se=>se.opacity(1,.45))),yield*W("Ram layout"),yield*z(o.second().text("",.2).do(()=>o.second().remove()));const d=Tt();a.second().add($(A,{ref:a.secondSub,direction:"row",gap:30,width:"80%",height:"100%",justifyContent:"space-between",opacity:1,layout:!0,children:[$(Ka,{Name:"Meshlet 0",ref:d,direction:"column",alignItems:"center",opacity:0,gap:20,layout:!0}),$(Ka,{Name:"Meshlet 1",ref:d,direction:"column",alignItems:"center",opacity:0,gap:20,layout:!0}),$(Ka,{Name:"Meshlet 2",ref:d,direction:"column",alignItems:"center",opacity:0,gap:20,layout:!0})]})),yield*z(...d.map(se=>z(se.width(450,.5),se.opacity(1,.5)))),yield*W("Dynamic vector"),yield*El("GPU memory",()=>z(...d.map(se=>se.slide(Er().nextInt(250,430),.35)))),yield*z(o.third().text("",.2).do(()=>o.third().remove()));const g=U(),m=Tt(),v=U(),w=Tt();a.third().add($(A,{ref:a.thirdSub,direction:"column",gap:30,width:"0%",height:"100%",alignItems:"center",opacity:1,clip:!0,layout:!0,children:[$(pe,{ref:g,fill:"Coral",alignItems:"center",justifyContent:"center",textAlign:"center",radius:10,width:"93%",height:90,gap:5,children:[$(ae,{ref:o.pos,width:0,fontSize:50,fill:B.bg,text:"Posicin"}),ft(15).map(se=>$(pe,{ref:m,size:80,radius:5,lineWidth:4,stroke:B.bg,opacity:0}))]}),$(pe,{ref:v,fill:"SpringGreen",alignItems:"center",justifyContent:"center",radius:10,width:"93%",height:90,gap:5,children:[$(ae,{ref:o.rgb,width:0,fontSize:50,fill:B.bg,text:"RGB"}),ft(15).map(se=>$(pe,{ref:w,size:80,radius:5,lineWidth:4,stroke:B.bg,opacity:0}))]})]})),yield*a.thirdSub().width("80%",.5),yield*W("Show segments"),yield*He(o.pos().opacity(0,.3),o.rgb().opacity(0,.3),Je(.02,...m.map(se=>se.opacity(1,.2)),...w.map(se=>se.opacity(1,.2))));const X=Er().intArray(15,1,15);yield*El("Ram to GPU",(se=Er().nextInt(1,15))=>z(...m.map((Le,gt)=>gt<X[se%15]?Le.opacity(1,.2):Le.opacity(0,.2)),...w.map((Le,gt)=>gt<X[se%15]?Le.opacity(1,.2):Le.opacity(0,.2)))),yield*z(r().opacity(0,.5).do(()=>r().remove()),s().text("De CPU a GPU",.5)),yield*W("LoD output");const R=Tt();n.add($(A,{ref:r,width:"100%",height:"85%",y:75,opacity:0,children:$(A,{ref:a.lods,width:"20%",height:"85%",x:-800,children:[$(tn,{ref:R,values:[125,107,190],x:-70}),$(ue,{x:-70,y:-250,children:"LoD-1"}),$(tn,{ref:R,values:[125,60,256],x:110}),$(ue,{x:110,y:-250,children:"LoD"})]})})),yield*r().opacity(1,.3),yield*W("Show point buffers");const _=[B.red,B.green,B.blue,B.blue],C=Tt(),D=Tt(),Z=Tt(),L=U();r().add($(A,{ref:a.buffers,width:"70%",gap:250,direction:"column",x:200,y:50,opacity:0,layout:!0,children:[$(pe,{ref:L,stroke:"SpringGreen",lineWidth:6,alignItems:"center",justifyContent:"center",textAlign:"center",radius:10,width:"30%",height:90,opacity:0,children:$(A,{justifyContent:"start",width:"97%",gap:5,children:ft(1).map(se=>$(ir,{ref:Z,height:80,width:0,Color:B.blue,Txt:"190-256",fontSize:32}))})}),$(pe,{ref:g,stroke:"Coral",lineWidth:6,alignItems:"center",justifyContent:"center",textAlign:"center",radius:10,width:"100%",height:90,children:$(A,{justifyContent:"start",width:"99%",gap:5,children:[ft(3).map(se=>$(ir,{ref:C,height:80,width:0,Color:_[se],Txt:R[1].getValue(se).toString()})),$(ir,{ref:C,height:80,width:0,Color:_[3],Txt:"190-256",fontSize:32})]})}),$(pe,{ref:v,stroke:"Coral",lineWidth:6,alignItems:"center",justifyContent:"center",textAlign:"center",radius:10,width:"100%",height:90,gap:5,children:$(A,{justifyContent:"start",width:"99%",gap:5,children:ft(3).map(se=>$(ir,{ref:D,height:80,width:0,Color:_[se],Txt:R[0].getValue(se).toString()}))})})]})),r().add($(ue,{ref:o.newPoints,fontSize:30,position:()=>L().topLeft().addX(200),opacity:0,offsetX:-1,children:"Buffer de nuevos puntos"})),r().add($(ue,{ref:o.frame,fontSize:30,position:()=>g().topLeft().addX(200),opacity:0,offsetX:-1,children:"Buffer del frame"})),r().add($(ue,{ref:o.lastFrame,fontSize:30,position:()=>v().topLeft().addX(200),opacity:0,offsetX:-1,children:"Buffer del frame anterior"})),yield*He(a.buffers().opacity(1,.5),o.lastFrame().opacity(1,.15),o.frame().opacity(1,.15)),yield*W("Show data"),yield*z(Je(.3,...R[0].boxArray.slice(0,3).map((se,Le)=>se.stroke(_[Le],.3))),He(...D.map((se,Le)=>se.width(R[0].getValue(Le)*2.3,.3)))),yield*W("Transfer first meshlet");const G=Tt();r().add($(rt,{ref:G,points:[v().top,g().bottom],radius:10,y:50,x:-325,lineWidth:7,stroke:B.red,end:0,endArrow:!0}));let J=0;yield*z(R[1].boxArray[J].stroke(_[J],.4),G[J].end(1,.25),C[J].width(R[1].getValue(J)*2.3,.4)),yield*W("Transfer second meshlet"),r().add($(rt,{ref:G,points:[v().top,()=>v().top().addY(-110),()=>g().bottom().add([-55,100]),()=>g().bottom().addX(-55)],radius:10,y:50,x:-50,lineWidth:7,stroke:B.green,end:0,endArrow:!0})),J=1,yield*z(R[1].boxArray[J].stroke(_[J],.3),G[J].end(1,.2),C[J].width(R[1].getValue(J)*2.3,.3)),yield*W("Transfer third meshlet"),r().add($(rt,{ref:G,points:[v().top,()=>v().top().addY(-110),()=>g().bottom().add([-105,100]),()=>g().bottom().addX(-105)],radius:10,y:50,x:295,lineWidth:7,stroke:B.blue,end:0,endArrow:!0})),yield C[2].text(R[0].getValue(2).toFixed(0),.1),J=2,yield*z(R[1].boxArray[J].stroke(_[J],.6),G[J].end(1,.4),C[J].width(R[0].getValue(J)*2.3,.6)),yield*W("Show new points buffer"),yield*He(L().opacity(1,.5),o.newPoints().opacity(1,.35),Z[0].width(66*2.3,.3)),yield*W("Move new points"),r().add($(rt,{ref:G,points:[L().bottom,()=>L().bottom().addY(80),()=>g().top().add([415,-80]),()=>g().top().addX(415)],radius:10,y:50,x:80,lineWidth:7,stroke:B.blue,end:0,endArrow:!0})),yield*z(G[3].end(1,.5),C[3].width(66*2.3,.6)),yield*W("Points not loaded?"),n.add($(ue,{ref:o.notLoaded,x:400,y:-280,opacity:0,text:`Y si los puntos
no estn cargados?`})),yield*o.notLoaded().opacity(1,.5),yield*W("Limit transferred points"),yield*z(o.notLoaded().opacity(0,1).do(()=>o.notLoaded().remove()),Z[0].width(55*2.3,.3),Z[0].txt().fontSize(28,.3),Z[0].text("190-245",.3),G[3].position.add([-15,0],.3),C[3].width(55*2.3,.3),C[3].text("190-245",.3),C[3].txt().fontSize(28,.3)),yield*W("Modify LoD"),yield*R[1].txtArray[2].text("245",.25),yield*W("De disco a CPU"),n.add($(tn,{ref:R,values:["M0","M1","M2","M3","M4","M5"],x:0,opacity:0})),yield*He(r().opacity(0,.3).do(()=>r().remove()),s().text("De disco a CPU",.4),R[2].opacity(1,.5)),yield*W("Show meshlet attributes");const re=U();n.add($(zt,{ref:re})),yield*He(R[2].x(-500,.55),Je(.1,re().code.append(.4)`
    struct Meshlet{`,re().code.append(.4)`
      bool requested;`,re().code.append(.4)`
      uint32_t pointsLoaded;`,re().code.append(.4)`
      uint32_t pointsNeeded;`,re().code.append(.4)`
    }`)),yield*W("Highligh pointsLoaded"),yield*re().selection(re().findAllRanges(/pointsNeeded/gi),.6),yield*W("Show producer");const ce=U(),fe=U(),Xe=U(),Pe=Tt();n.add($(Bu,{ref:ce,Txt:"P",opacity:0,size:180})),n.add($(rt,{ref:fe,points:[],stroke:"orange",lineWidth:5,start:.5,end:.5,startArrow:!0,endArrow:!0})),yield*Je(.2,re().selection(Os,.4),R[2].x(-700,.25),re().position([-150,330],.3),ce().opacity(1,.3)),yield*W("Show selection");const ke=U();n.add($(pe,{ref:ke,stroke:B.text,lineWidth:5,height:120,width:350,radius:10,x:50,end:0,justifyContent:"center",layout:!0})),n.add($(rt,{ref:Xe,points:[ce().right,ke().left],stroke:"orange",lineWidth:5,end:0,endArrow:!0})),yield*ce().x(-350,.25);const oe=Ze(0);ti(lo(0,gs(se=>z(oe(se%6,0),R[2].HighLight(se%6,.45,pf(B.text)),R[2].HighLight((se+1)%6,.45,pf("orange")),fe().points([R[2].boxArray[(se+1)%6].right().addX(R[2].x()),R[2].boxArray[(se+1)%6].right().addX(R[2].x()+70),ce().left().addX(-70),ce().left()],.4))))),yield*lo(.25,z(fe().end(1,.2),fe().start(0,.2))),yield*Qo("Producer"),yield*W("Show queue"),yield*Je(.2,ke().end(1,.4),Xe().end(1,.1));const F=Ze(0),xe=[],Ts=U();ke().add($(A,{ref:Ts,width:"97%",justifyContent:"end",alignItems:"center",gap:5,direction:"row-reverse"}));let Ct=!1,lt=0;V1(()=>{const se=Math.round(F());let Le=xe.length;for(;Le<se;Le++){const gt=$(ir,{Color:"orange",offsetX:1,Txt:"T"+oe().toFixed(0)});xe.push(gt),Ts().add(gt),ti(gt.size(110,.15))}for(;Le>se;Le--){const gt=xe.shift();if(ti(gt.size(0,.3).do(()=>gt.remove())),Ct){const Rs=U(),Yr=Ze(.05);n.add($(pe,{ref:Rs,size:35,fill:"orange",radius:10,position:()=>Pe[lt].getPointAtPercentage(Yr()).position})),ti(Yr(1,.3).do(()=>Rs().remove())),lt=(lt+1)%4}}}),ti(gs(se=>lo(.5,F(F()<Er().nextInt(1,4)?F()+1:F()-1,0)))),yield*W("Select requested"),yield*re().selection(re().findAllRanges(/requested/gi),.6),yield*W("Select points"),yield*re().selection(re().findAllRanges(/points\w+ded/gi),.6),yield*W("Show consumers");const pt=Tt();n.add($(A,{children:ft(4).map(se=>$(Bu,{ref:pt,Txt:"C"+se,opacity:0,size:180,y:-375+250*se,x:700}))})),n.add($(A,{children:ft(4).map(se=>$(rt,{ref:Pe,stroke:"orange",lineWidth:5,endArrow:!0,end:0,points:[ke().right().addY(-45+30*se),ke().right().addX(50).addY(-45+30*se),pt[se].left().addX(-150),pt[se].left()]}))})),Ct=!0,yield*Je(.1,re().selection(Os,.1),...pt.map(se=>se.opacity(1,.2)),...Pe.map(se=>se.end(1,.2))),yield*Qo("Consumers"),yield*W("Show restrictions 1"),n.add($(ue,{ref:o.restrictions,position:[-75,-330],width:900,textWrap:!0,fontSize:45})),yield*z(o.restrictions().text("Carga de hasta un 25% adicional al n de puntos necesario",1.5),re().opacity(0,.75)),yield*W("Show restrictions 2"),yield*o.restrictions().text("Liberacin de memoria en situaciones lmite",1.5),yield*W("Waiting")});Ls.name="MemoriaVirtual";Gw.attach(Ls.meta);Ls.onReplaced??(Ls.onReplaced=new $t(Ls.config));let kh;kh??(kh=new qt("Rasterizacion",!1));kh.loadData({version:0,timeEvents:[],seed:3971709262});const t3=kh,i3="/HoleFilling-166b59ff.png",Is=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:"yellow",radius:40,smoothCorners:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Rasterizacin",.5)),yield*W("Hide title");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,position:[-900,-470],offsetX:-1}));const r=U(),o=gr();n.add($(A,{ref:r,opacity:1,direction:"column",textAlign:"center",layout:!0,children:[$(ue,{ref:o.first,height:50}),$(ue,{ref:o.second,height:0})]})),yield*z(t().size(0,.4).do(()=>t().remove()),s().opacity(1,.5)),yield*W("First"),yield*o.first().text("Rasterizacin software (Schutz et Al, 2021)",.5),yield*W("Show point");const a=U(),l=U(),h=U(),c=U(),u=U();n.add($(A,{ref:u})),u().add($(vs,{ref:a,fill:"orange",size:0})),u().add($(pe,{ref:l,stroke:B.text,lineWidth:5,size:256,end:.5,start:.5,children:$(rt,{ref:h,fill:"orange",stroke:B.text,lineWidth:5,points:[[128,128],[-128,-128]],end:0})})),yield*z(s().text("Rasterizacin software",.2),r().opacity(0,.5),a().size(256,.5)),yield*W("Show rect"),yield*z(l().end(1,.5),l().start(0,.5)),yield*W("Show line"),yield*z(h().end(1,.5)),yield*W("Show pixel size"),u().add($(rt,{ref:c,points:[[128,0],[-128,-0]],y:-160,stroke:"orange",lineWidth:5,size:256,end:.5,start:.5,startArrow:!0,endArrow:!0})),u().add($(ue,{ref:o.pixel,y:-200})),yield*He(z(c().end(1,.4),c().start(0,.4)),o.pixel().text("1 px",.25)),yield*W("Hide pixel"),yield*z(s().text("Rasterizacin",.2),u().opacity(0,.5).do(()=>u().remove()),r().opacity(1,.5)),yield*W("Second"),yield*z(o.first().height(150,.3),o.second().height(50,.3),o.second().text("Relleno de huecos",.5)),yield*W("Show grid");const d=U(),g=Tt(),m=200;n.add($(A,{ref:d,position:-m,children:[ft(3).map(w=>$(pe,{ref:g,stroke:B.text,lineWidth:5,position:new b(w*m,0),size:m,end:0})),ft(3).map(w=>$(pe,{ref:g,stroke:B.text,lineWidth:5,position:new b(w*m,m),size:m,end:0})),ft(3).map(w=>$(pe,{ref:g,stroke:B.text,lineWidth:5,position:new b(w*m,m*2),size:m,end:0}))]})),yield*Je(.07,s().text("Relleno de huecos",.2),r().opacity(0,.2),...g.map(w=>w.end(1,.15))),yield*W("Color bottom"),yield*z(g[7].fill("orange",.35)),yield*W("Color middle"),yield*g[4].fill("orange",.35),yield*W("Color bottom"),yield*He(g[1].fill("white",.35),g[4].fill({r:255,g:210,b:127,a:1},.35)),yield*W("Color sides"),yield*He(z(g[3].fill("LightSalmon",.35),g[5].fill("LightSalmon",.35)),g[4].fill({r:255,g:185,b:124,a:1},.35)),yield*W("Show comparison");const v=U();n.add($(Re,{ref:v,src:i3,width:"100%",opacity:0})),yield*He(d().opacity(0,.4).do(()=>d().remove()),s().opacity(0,.1),v().opacity(1,.5)),yield*W("Waiting")});Is.name="Rasterizacion";t3.attach(Is.meta);Is.onReplaced??(Is.onReplaced=new $t(Is.config));let Th;Th??(Th=new qt("Resultados",!1));Th.loadData({version:0,timeEvents:[],seed:3073521041});const s3=Th,n3="/FpsTable-74b65823.png",r3="/GenMeshlets-29eabbce.png",o3="/Nubes-c53e2dbc.png",a3="/Final-197098af.mp4",Bs=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:B.green,radius:40,smoothCorners:!0,clip:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Resultados",.5)),yield*W("Hide title");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,position:[-900,-470],offsetX:-1})),yield*z(t().size.x("0%",.6).do(()=>t().remove()),s().opacity(1,.5)),yield*W("Show gen meshlets results"),yield*z(s().text("Resultados - Generacin de los meshlets",.75));const r=U();n.add($(Re,{ref:r,src:r3,opacity:0,scale:1.1,y:80})),yield*r().opacity(1,.5),yield*W("Show Fps results");const o=U(),a=U();n.add($(Re,{ref:a,src:n3,opacity:0,y:250,x:-5,width:"100%"})),n.add($(Re,{ref:o,src:o3,opacity:0,y:-220,width:"80%"})),yield*He(z(r().opacity(0,.3).do(()=>r().remove()),s().text("Resultados - Rendimiento",.4)),o().opacity(1,.3),a().opacity(1,.3)),yield*W("Show video");const l=U();n.add($(kt,{ref:l,src:a3,opacity:0})),yield*l().opacity(1,.5),l().play(),yield*Gi(5),yield*W("Waiting")});Bs.name="Resultados";s3.attach(Bs.meta);Bs.onReplaced??(Bs.onReplaced=new $t(Bs.config));let Rh;Rh??(Rh=new qt("Conclusiones",!1));Rh.loadData({version:0,timeEvents:[],seed:1864485009});const l3=Rh,h3="/MortonBay_3-dd6cc2ac.png",Ns=ji(function*(n){n.fontFamily("'JetBrains Mono', monospace").fontWeight(700),n.fill(B.bg),yield*es(.2);const e=U();n.add($(Re,{ref:e,src:Vi,opacity:0,scale:.75})),e().absolutePosition(new b(1760,1010));const t=U(),i=U();n.add($(pe,{cache:!0,ref:t,width:"40%",height:"40%",fill:B.blue,radius:40,smoothCorners:!0,children:$(ae,{ref:i,fontSize:110,compositeOperation:"destination-out"})})),yield*z(t().size.x("60%",.6),i().text("Conclusiones",.5)),yield*W("Hide title");const s=U();n.add($(ae,{ref:s,fontSize:50,fill:B.text,text:i().text,opacity:0,position:[-900,-470],offsetX:-1})),yield*z(t().size.x("0%",.6).do(()=>t().remove()),s().opacity(1,.5));const r=U();n.add($(Re,{ref:r,src:h3,opacity:0,scale:1.1,position:[0,990],rotation:0})),ti(He(r().position.add([0,-850],30),gs(u=>r().position.add([u%2==0?-100:100,0],8)))),yield*W("First");const o=U(),a=U(),l=U(),h=U(),c=U();n.add($(A,{ref:o,width:1300,height:800,direction:"column",alignItems:"center",justifyContent:"center",x:0,y:-60,layout:!0})),o().add($(ue,{ref:a,height:0})),yield*He(r().opacity(1,.5),a().text("Generacin de meshlets usando la curva de Hilbert",1)),yield*W("Second objective"),o().add($(ue,{ref:l,height:0})),yield*z(l().text("Sistema de LoD continuo por GPU basado en meshlets",1),a().height(180,.3)),yield*W("Third objective"),o().add($(ue,{ref:h,height:0})),yield*z(h().text("Sistema de memoria virtual de baja latencia",1),l().height(180,.3)),yield*W("Fourth objective"),o().add($(ue,{ref:c,height:0})),yield*z(c().text("Rasterizacin software con relleno de huecos",1),h().height(180,.3)),yield*W("Ending")});Ns.name="Conclusiones";l3.attach(Ns.meta);Ns.onReplaced??(Ns.onReplaced=new $t(Ns.config));zt.defaultHighlighter=new ta(jw);const c3={scenes:[Zs,_s,qs,Ms,Ds,Es,Ls,Is,Bs,Ns]};let Uh;Uh??(Uh=new qt("\0virtual:settings",!1));Uh.loadData({version:1,appearance:{color:"rgb(51,166,255)",font:!1,coordinates:!0},defaults:{background:null,size:{x:1920,y:1080}}});const f3=Uh,R3=F1("project",{core:"3.16.0",two:"3.16.0",ui:"3.16.0",vitePlugin:"3.15.1"},[],c3,H1,f3);export{R3 as default};
